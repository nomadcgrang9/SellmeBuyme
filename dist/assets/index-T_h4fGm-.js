(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ix(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var um={exports:{}},la={},dm={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vi=Symbol.for("react.element"),ox=Symbol.for("react.portal"),ax=Symbol.for("react.fragment"),lx=Symbol.for("react.strict_mode"),cx=Symbol.for("react.profiler"),ux=Symbol.for("react.provider"),dx=Symbol.for("react.context"),hx=Symbol.for("react.forward_ref"),fx=Symbol.for("react.suspense"),px=Symbol.for("react.memo"),mx=Symbol.for("react.lazy"),ih=Symbol.iterator;function gx(e){return e===null||typeof e!="object"?null:(e=ih&&e[ih]||e["@@iterator"],typeof e=="function"?e:null)}var hm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fm=Object.assign,pm={};function ts(e,t,n){this.props=e,this.context=t,this.refs=pm,this.updater=n||hm}ts.prototype.isReactComponent={};ts.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ts.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mm(){}mm.prototype=ts.prototype;function pu(e,t,n){this.props=e,this.context=t,this.refs=pm,this.updater=n||hm}var mu=pu.prototype=new mm;mu.constructor=pu;fm(mu,ts.prototype);mu.isPureReactComponent=!0;var oh=Array.isArray,gm=Object.prototype.hasOwnProperty,gu={current:null},ym={key:!0,ref:!0,__self:!0,__source:!0};function vm(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)gm.call(t,r)&&!ym.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:vi,type:e,key:i,ref:o,props:s,_owner:gu.current}}function yx(e,t){return{$$typeof:vi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function yu(e){return typeof e=="object"&&e!==null&&e.$$typeof===vi}function vx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ah=/\/+/g;function Wa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vx(""+e.key):t.toString(36)}function io(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case vi:case ox:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Wa(o,0):r,oh(s)?(n="",e!=null&&(n=e.replace(ah,"$&/")+"/"),io(s,t,n,"",function(u){return u})):s!=null&&(yu(s)&&(s=yx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ah,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",oh(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+Wa(i,a);o+=io(i,t,n,l,s)}else if(l=gx(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+Wa(i,a++),o+=io(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ii(e,t,n){if(e==null)return e;var r=[],s=0;return io(e,r,"","",function(i){return t.call(n,i,s++)}),r}function xx(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},oo={transition:null},wx={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:oo,ReactCurrentOwner:gu};function xm(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Ii,forEach:function(e,t,n){Ii(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ii(e,function(){t++}),t},toArray:function(e){return Ii(e,function(t){return t})||[]},only:function(e){if(!yu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=ts;V.Fragment=ax;V.Profiler=cx;V.PureComponent=pu;V.StrictMode=lx;V.Suspense=fx;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wx;V.act=xm;V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=fm({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=gu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)gm.call(t,l)&&!ym.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:vi,type:e.type,key:s,ref:i,props:r,_owner:o}};V.createContext=function(e){return e={$$typeof:dx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ux,_context:e},e.Consumer=e};V.createElement=vm;V.createFactory=function(e){var t=vm.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:hx,render:e}};V.isValidElement=yu;V.lazy=function(e){return{$$typeof:mx,_payload:{_status:-1,_result:e},_init:xx}};V.memo=function(e,t){return{$$typeof:px,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=oo.transition;oo.transition={};try{e()}finally{oo.transition=t}};V.unstable_act=xm;V.useCallback=function(e,t){return $e.current.useCallback(e,t)};V.useContext=function(e){return $e.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};V.useEffect=function(e,t){return $e.current.useEffect(e,t)};V.useId=function(){return $e.current.useId()};V.useImperativeHandle=function(e,t,n){return $e.current.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return $e.current.useMemo(e,t)};V.useReducer=function(e,t,n){return $e.current.useReducer(e,t,n)};V.useRef=function(e){return $e.current.useRef(e)};V.useState=function(e){return $e.current.useState(e)};V.useSyncExternalStore=function(e,t,n){return $e.current.useSyncExternalStore(e,t,n)};V.useTransition=function(){return $e.current.useTransition()};V.version="18.3.1";dm.exports=V;var b=dm.exports;const wm=cm(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx=b,_x=Symbol.for("react.element"),Sx=Symbol.for("react.fragment"),kx=Object.prototype.hasOwnProperty,jx=bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nx={key:!0,ref:!0,__self:!0,__source:!0};function bm(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)kx.call(t,r)&&!Nx.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:_x,type:e,key:i,ref:o,props:s,_owner:jx.current}}la.Fragment=Sx;la.jsx=bm;la.jsxs=bm;um.exports=la;var c=um.exports,Wl={},_m={exports:{}},nt={},Sm={exports:{}},km={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,R){var D=E.length;E.push(R);e:for(;0<D;){var z=D-1>>>1,$=E[z];if(0<s($,R))E[z]=R,E[D]=$,D=z;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var R=E[0],D=E.pop();if(D!==R){E[0]=D;e:for(var z=0,$=E.length,de=$>>>1;z<de;){var je=2*(z+1)-1,st=E[je],ze=je+1,Lt=E[ze];if(0>s(st,D))ze<$&&0>s(Lt,st)?(E[z]=Lt,E[ze]=D,z=ze):(E[z]=st,E[je]=D,z=je);else if(ze<$&&0>s(Lt,D))E[z]=Lt,E[ze]=D,z=ze;else break e}}return R}function s(E,R){var D=E.sortIndex-R.sortIndex;return D!==0?D:E.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,h=null,f=3,m=!1,v=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(E){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=E)r(u),R.sortIndex=R.expirationTime,t(l,R);else break;R=n(u)}}function _(E){if(x=!1,y(E),!v)if(n(l)!==null)v=!0,A(k);else{var R=n(u);R!==null&&T(_,R.startTime-E)}}function k(E,R){v=!1,x&&(x=!1,g(j),j=-1),m=!0;var D=f;try{for(y(R),h=n(l);h!==null&&(!(h.expirationTime>R)||E&&!B());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var $=z(h.expirationTime<=R);R=e.unstable_now(),typeof $=="function"?h.callback=$:h===n(l)&&r(l),y(R)}else r(l);h=n(l)}if(h!==null)var de=!0;else{var je=n(u);je!==null&&T(_,je.startTime-R),de=!1}return de}finally{h=null,f=D,m=!1}}var N=!1,S=null,j=-1,P=5,O=-1;function B(){return!(e.unstable_now()-O<P)}function H(){if(S!==null){var E=e.unstable_now();O=E;var R=!0;try{R=S(!0,E)}finally{R?ee():(N=!1,S=null)}}else N=!1}var ee;if(typeof p=="function")ee=function(){p(H)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,_e=ae.port2;ae.port1.onmessage=H,ee=function(){_e.postMessage(null)}}else ee=function(){w(H,0)};function A(E){S=E,N||(N=!0,ee())}function T(E,R){j=w(function(){E(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,A(k))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var D=f;f=R;try{return E()}finally{f=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,R){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var D=f;f=E;try{return R()}finally{f=D}},e.unstable_scheduleCallback=function(E,R,D){var z=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?z+D:z):D=z,E){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=D+$,E={id:d++,callback:R,priorityLevel:E,startTime:D,expirationTime:$,sortIndex:-1},D>z?(E.sortIndex=D,t(u,E),n(l)===null&&E===n(u)&&(x?(g(j),j=-1):x=!0,T(_,D-z))):(E.sortIndex=$,t(l,E),v||m||(v=!0,A(k))),E},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(E){var R=f;return function(){var D=f;f=R;try{return E.apply(this,arguments)}finally{f=D}}}})(km);Sm.exports=km;var Ex=Sm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tx=b,et=Ex;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jm=new Set,qs={};function tr(e,t){Br(e,t),Br(e+"Capture",t)}function Br(e,t){for(qs[e]=t,e=0;e<t.length;e++)jm.add(t[e])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kl=Object.prototype.hasOwnProperty,Cx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lh={},ch={};function Px(e){return Kl.call(ch,e)?!0:Kl.call(lh,e)?!1:Cx.test(e)?ch[e]=!0:(lh[e]=!0,!1)}function Ax(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rx(e,t,n,r){if(t===null||typeof t>"u"||Ax(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var vu=/[\-:]([a-z])/g;function xu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vu,xu);Ce[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vu,xu);Ce[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vu,xu);Ce[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function wu(e,t,n,r){var s=Ce.hasOwnProperty(t)?Ce[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rx(t,n,s,r)&&(n=null),r||s===null?Px(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Yt=Tx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Di=Symbol.for("react.element"),gr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),bu=Symbol.for("react.strict_mode"),Hl=Symbol.for("react.profiler"),Nm=Symbol.for("react.provider"),Em=Symbol.for("react.context"),_u=Symbol.for("react.forward_ref"),ql=Symbol.for("react.suspense"),Gl=Symbol.for("react.suspense_list"),Su=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),Tm=Symbol.for("react.offscreen"),uh=Symbol.iterator;function fs(e){return e===null||typeof e!="object"?null:(e=uh&&e[uh]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,Ka;function Ss(e){if(Ka===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ka=t&&t[1]||""}return`
`+Ka+e}var Ha=!1;function qa(e,t){if(!e||Ha)return"";Ha=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ha=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ss(e):""}function Ox(e){switch(e.tag){case 5:return Ss(e.type);case 16:return Ss("Lazy");case 13:return Ss("Suspense");case 19:return Ss("SuspenseList");case 0:case 2:case 15:return e=qa(e.type,!1),e;case 11:return e=qa(e.type.render,!1),e;case 1:return e=qa(e.type,!0),e;default:return""}}function Jl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case yr:return"Fragment";case gr:return"Portal";case Hl:return"Profiler";case bu:return"StrictMode";case ql:return"Suspense";case Gl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Em:return(e.displayName||"Context")+".Consumer";case Nm:return(e._context.displayName||"Context")+".Provider";case _u:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Su:return t=e.displayName||null,t!==null?t:Jl(e.type)||"Memo";case rn:t=e._payload,e=e._init;try{return Jl(e(t))}catch{}}return null}function Ix(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jl(t);case 8:return t===bu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function xn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dx(e){var t=Cm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mi(e){e._valueTracker||(e._valueTracker=Dx(e))}function Pm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Cm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ql(e,t){var n=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function dh(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=xn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Am(e,t){t=t.checked,t!=null&&wu(e,"checked",t,!1)}function Yl(e,t){Am(e,t);var n=xn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Xl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Xl(e,t.type,xn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function hh(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Xl(e,t,n){(t!=="number"||bo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ks=Array.isArray;function Or(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+xn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Zl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fh(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(ks(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:xn(n)}}function Rm(e,t){var n=xn(t.value),r=xn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ph(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Om(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ec(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Om(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Li,Im=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Li=Li||document.createElement("div"),Li.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Li.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var As={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mx=["Webkit","ms","Moz","O"];Object.keys(As).forEach(function(e){Mx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),As[t]=As[e]})});function Dm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||As.hasOwnProperty(e)&&As[e]?(""+t).trim():t+"px"}function Mm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Dm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Lx=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tc(e,t){if(t){if(Lx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function nc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rc=null;function ku(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sc=null,Ir=null,Dr=null;function mh(e){if(e=bi(e)){if(typeof sc!="function")throw Error(C(280));var t=e.stateNode;t&&(t=fa(t),sc(e.stateNode,e.type,t))}}function Lm(e){Ir?Dr?Dr.push(e):Dr=[e]:Ir=e}function $m(){if(Ir){var e=Ir,t=Dr;if(Dr=Ir=null,mh(e),t)for(e=0;e<t.length;e++)mh(t[e])}}function Um(e,t){return e(t)}function zm(){}var Ga=!1;function Fm(e,t,n){if(Ga)return e(t,n);Ga=!0;try{return Um(e,t,n)}finally{Ga=!1,(Ir!==null||Dr!==null)&&(zm(),$m())}}function Js(e,t){var n=e.stateNode;if(n===null)return null;var r=fa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var ic=!1;if(Ht)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){ic=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{ic=!1}function $x(e,t,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Rs=!1,_o=null,So=!1,oc=null,Ux={onError:function(e){Rs=!0,_o=e}};function zx(e,t,n,r,s,i,o,a,l){Rs=!1,_o=null,$x.apply(Ux,arguments)}function Fx(e,t,n,r,s,i,o,a,l){if(zx.apply(this,arguments),Rs){if(Rs){var u=_o;Rs=!1,_o=null}else throw Error(C(198));So||(So=!0,oc=u)}}function nr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Bm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gh(e){if(nr(e)!==e)throw Error(C(188))}function Bx(e){var t=e.alternate;if(!t){if(t=nr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return gh(s),e;if(i===r)return gh(s),t;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Vm(e){return e=Bx(e),e!==null?Wm(e):null}function Wm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wm(e);if(t!==null)return t;e=e.sibling}return null}var Km=et.unstable_scheduleCallback,yh=et.unstable_cancelCallback,Vx=et.unstable_shouldYield,Wx=et.unstable_requestPaint,pe=et.unstable_now,Kx=et.unstable_getCurrentPriorityLevel,ju=et.unstable_ImmediatePriority,Hm=et.unstable_UserBlockingPriority,ko=et.unstable_NormalPriority,Hx=et.unstable_LowPriority,qm=et.unstable_IdlePriority,ca=null,Ot=null;function qx(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(ca,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Qx,Gx=Math.log,Jx=Math.LN2;function Qx(e){return e>>>=0,e===0?32:31-(Gx(e)/Jx|0)|0}var $i=64,Ui=4194304;function js(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=js(a):(i&=o,i!==0&&(r=js(i)))}else o=n&~s,o!==0?r=js(o):i!==0&&(r=js(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kt(t),s=1<<n,r|=e[n],t&=~s;return r}function Yx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-kt(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Yx(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function ac(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gm(){var e=$i;return $i<<=1,!($i&4194240)&&($i=64),e}function Ja(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=n}function Zx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-kt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Nu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var q=0;function Jm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qm,Eu,Ym,Xm,Zm,lc=!1,zi=[],dn=null,hn=null,fn=null,Qs=new Map,Ys=new Map,on=[],ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":hn=null;break;case"mouseover":case"mouseout":fn=null;break;case"pointerover":case"pointerout":Qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(t.pointerId)}}function ms(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=bi(t),t!==null&&Eu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function tw(e,t,n,r,s){switch(t){case"focusin":return dn=ms(dn,e,t,n,r,s),!0;case"dragenter":return hn=ms(hn,e,t,n,r,s),!0;case"mouseover":return fn=ms(fn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Qs.set(i,ms(Qs.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ys.set(i,ms(Ys.get(i)||null,e,t,n,r,s)),!0}return!1}function eg(e){var t=Fn(e.target);if(t!==null){var n=nr(t);if(n!==null){if(t=n.tag,t===13){if(t=Bm(n),t!==null){e.blockedOn=t,Zm(e.priority,function(){Ym(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ao(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rc=r,n.target.dispatchEvent(r),rc=null}else return t=bi(n),t!==null&&Eu(t),e.blockedOn=n,!1;t.shift()}return!0}function xh(e,t,n){ao(e)&&n.delete(t)}function nw(){lc=!1,dn!==null&&ao(dn)&&(dn=null),hn!==null&&ao(hn)&&(hn=null),fn!==null&&ao(fn)&&(fn=null),Qs.forEach(xh),Ys.forEach(xh)}function gs(e,t){e.blockedOn===t&&(e.blockedOn=null,lc||(lc=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,nw)))}function Xs(e){function t(s){return gs(s,e)}if(0<zi.length){gs(zi[0],e);for(var n=1;n<zi.length;n++){var r=zi[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dn!==null&&gs(dn,e),hn!==null&&gs(hn,e),fn!==null&&gs(fn,e),Qs.forEach(t),Ys.forEach(t),n=0;n<on.length;n++)r=on[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<on.length&&(n=on[0],n.blockedOn===null);)eg(n),n.blockedOn===null&&on.shift()}var Mr=Yt.ReactCurrentBatchConfig,No=!0;function rw(e,t,n,r){var s=q,i=Mr.transition;Mr.transition=null;try{q=1,Tu(e,t,n,r)}finally{q=s,Mr.transition=i}}function sw(e,t,n,r){var s=q,i=Mr.transition;Mr.transition=null;try{q=4,Tu(e,t,n,r)}finally{q=s,Mr.transition=i}}function Tu(e,t,n,r){if(No){var s=cc(e,t,n,r);if(s===null)il(e,t,r,Eo,n),vh(e,r);else if(tw(s,e,t,n,r))r.stopPropagation();else if(vh(e,r),t&4&&-1<ew.indexOf(e)){for(;s!==null;){var i=bi(s);if(i!==null&&Qm(i),i=cc(e,t,n,r),i===null&&il(e,t,r,Eo,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else il(e,t,r,null,n)}}var Eo=null;function cc(e,t,n,r){if(Eo=null,e=ku(r),e=Fn(e),e!==null)if(t=nr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Bm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Eo=e,null}function tg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kx()){case ju:return 1;case Hm:return 4;case ko:case Hx:return 16;case qm:return 536870912;default:return 16}default:return 16}}var cn=null,Cu=null,lo=null;function ng(){if(lo)return lo;var e,t=Cu,n=t.length,r,s="value"in cn?cn.value:cn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return lo=s.slice(e,1<r?1-r:void 0)}function co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function wh(){return!1}function rt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Fi:wh,this.isPropagationStopped=wh,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),t}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pu=rt(ns),wi=oe({},ns,{view:0,detail:0}),iw=rt(wi),Qa,Ya,ys,ua=oe({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Au,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ys&&(ys&&e.type==="mousemove"?(Qa=e.screenX-ys.screenX,Ya=e.screenY-ys.screenY):Ya=Qa=0,ys=e),Qa)},movementY:function(e){return"movementY"in e?e.movementY:Ya}}),bh=rt(ua),ow=oe({},ua,{dataTransfer:0}),aw=rt(ow),lw=oe({},wi,{relatedTarget:0}),Xa=rt(lw),cw=oe({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),uw=rt(cw),dw=oe({},ns,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hw=rt(dw),fw=oe({},ns,{data:0}),_h=rt(fw),pw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gw[e])?!!t[e]:!1}function Au(){return yw}var vw=oe({},wi,{key:function(e){if(e.key){var t=pw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Au,charCode:function(e){return e.type==="keypress"?co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xw=rt(vw),ww=oe({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sh=rt(ww),bw=oe({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Au}),_w=rt(bw),Sw=oe({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),kw=rt(Sw),jw=oe({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nw=rt(jw),Ew=[9,13,27,32],Ru=Ht&&"CompositionEvent"in window,Os=null;Ht&&"documentMode"in document&&(Os=document.documentMode);var Tw=Ht&&"TextEvent"in window&&!Os,rg=Ht&&(!Ru||Os&&8<Os&&11>=Os),kh=" ",jh=!1;function sg(e,t){switch(e){case"keyup":return Ew.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ig(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vr=!1;function Cw(e,t){switch(e){case"compositionend":return ig(t);case"keypress":return t.which!==32?null:(jh=!0,kh);case"textInput":return e=t.data,e===kh&&jh?null:e;default:return null}}function Pw(e,t){if(vr)return e==="compositionend"||!Ru&&sg(e,t)?(e=ng(),lo=Cu=cn=null,vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rg&&t.locale!=="ko"?null:t.data;default:return null}}var Aw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Aw[e.type]:t==="textarea"}function og(e,t,n,r){Lm(r),t=To(t,"onChange"),0<t.length&&(n=new Pu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Is=null,Zs=null;function Rw(e){yg(e,0)}function da(e){var t=br(e);if(Pm(t))return e}function Ow(e,t){if(e==="change")return t}var ag=!1;if(Ht){var Za;if(Ht){var el="oninput"in document;if(!el){var Eh=document.createElement("div");Eh.setAttribute("oninput","return;"),el=typeof Eh.oninput=="function"}Za=el}else Za=!1;ag=Za&&(!document.documentMode||9<document.documentMode)}function Th(){Is&&(Is.detachEvent("onpropertychange",lg),Zs=Is=null)}function lg(e){if(e.propertyName==="value"&&da(Zs)){var t=[];og(t,Zs,e,ku(e)),Fm(Rw,t)}}function Iw(e,t,n){e==="focusin"?(Th(),Is=t,Zs=n,Is.attachEvent("onpropertychange",lg)):e==="focusout"&&Th()}function Dw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return da(Zs)}function Mw(e,t){if(e==="click")return da(t)}function Lw(e,t){if(e==="input"||e==="change")return da(t)}function $w(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:$w;function ei(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Kl.call(t,s)||!Nt(e[s],t[s]))return!1}return!0}function Ch(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ph(e,t){var n=Ch(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ch(n)}}function cg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ug(){for(var e=window,t=bo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bo(e.document)}return t}function Ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Uw(e){var t=ug(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cg(n.ownerDocument.documentElement,n)){if(r!==null&&Ou(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ph(n,i);var o=Ph(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zw=Ht&&"documentMode"in document&&11>=document.documentMode,xr=null,uc=null,Ds=null,dc=!1;function Ah(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dc||xr==null||xr!==bo(r)||(r=xr,"selectionStart"in r&&Ou(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ds&&ei(Ds,r)||(Ds=r,r=To(uc,"onSelect"),0<r.length&&(t=new Pu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xr)))}function Bi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionend:Bi("Transition","TransitionEnd")},tl={},dg={};Ht&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function ha(e){if(tl[e])return tl[e];if(!wr[e])return e;var t=wr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dg)return tl[e]=t[n];return e}var hg=ha("animationend"),fg=ha("animationiteration"),pg=ha("animationstart"),mg=ha("transitionend"),gg=new Map,Rh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){gg.set(e,t),tr(t,[e])}for(var nl=0;nl<Rh.length;nl++){var rl=Rh[nl],Fw=rl.toLowerCase(),Bw=rl[0].toUpperCase()+rl.slice(1);Sn(Fw,"on"+Bw)}Sn(hg,"onAnimationEnd");Sn(fg,"onAnimationIteration");Sn(pg,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(mg,"onTransitionEnd");Br("onMouseEnter",["mouseout","mouseover"]);Br("onMouseLeave",["mouseout","mouseover"]);Br("onPointerEnter",["pointerout","pointerover"]);Br("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ns));function Oh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Fx(r,t,void 0,e),e.currentTarget=null}function yg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Oh(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Oh(s,a,u),i=l}}}if(So)throw e=oc,So=!1,oc=null,e}function Y(e,t){var n=t[gc];n===void 0&&(n=t[gc]=new Set);var r=e+"__bubble";n.has(r)||(vg(t,e,2,!1),n.add(r))}function sl(e,t,n){var r=0;t&&(r|=4),vg(n,e,r,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function ti(e){if(!e[Vi]){e[Vi]=!0,jm.forEach(function(n){n!=="selectionchange"&&(Vw.has(n)||sl(n,!1,e),sl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vi]||(t[Vi]=!0,sl("selectionchange",!1,t))}}function vg(e,t,n,r){switch(tg(t)){case 1:var s=rw;break;case 4:s=sw;break;default:s=Tu}n=s.bind(null,t,n,e),s=void 0,!ic||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function il(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Fn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Fm(function(){var u=i,d=ku(n),h=[];e:{var f=gg.get(e);if(f!==void 0){var m=Pu,v=e;switch(e){case"keypress":if(co(n)===0)break e;case"keydown":case"keyup":m=xw;break;case"focusin":v="focus",m=Xa;break;case"focusout":v="blur",m=Xa;break;case"beforeblur":case"afterblur":m=Xa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=bh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=aw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_w;break;case hg:case fg:case pg:m=uw;break;case mg:m=kw;break;case"scroll":m=iw;break;case"wheel":m=Nw;break;case"copy":case"cut":case"paste":m=hw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Sh}var x=(t&4)!==0,w=!x&&e==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var p=u,y;p!==null;){y=p;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,g!==null&&(_=Js(p,g),_!=null&&x.push(ni(p,_,y)))),w)break;p=p.return}0<x.length&&(f=new m(f,v,null,n,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&n!==rc&&(v=n.relatedTarget||n.fromElement)&&(Fn(v)||v[qt]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Fn(v):null,v!==null&&(w=nr(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(x=bh,_="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Sh,_="onPointerLeave",g="onPointerEnter",p="pointer"),w=m==null?f:br(m),y=v==null?f:br(v),f=new x(_,p+"leave",m,n,d),f.target=w,f.relatedTarget=y,_=null,Fn(d)===u&&(x=new x(g,p+"enter",v,n,d),x.target=y,x.relatedTarget=w,_=x),w=_,m&&v)t:{for(x=m,g=v,p=0,y=x;y;y=or(y))p++;for(y=0,_=g;_;_=or(_))y++;for(;0<p-y;)x=or(x),p--;for(;0<y-p;)g=or(g),y--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=or(x),g=or(g)}x=null}else x=null;m!==null&&Ih(h,f,m,x,!1),v!==null&&w!==null&&Ih(h,w,v,x,!0)}}e:{if(f=u?br(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var k=Ow;else if(Nh(f))if(ag)k=Lw;else{k=Dw;var N=Iw}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Mw);if(k&&(k=k(e,u))){og(h,k,n,d);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Xl(f,"number",f.value)}switch(N=u?br(u):window,e){case"focusin":(Nh(N)||N.contentEditable==="true")&&(xr=N,uc=u,Ds=null);break;case"focusout":Ds=uc=xr=null;break;case"mousedown":dc=!0;break;case"contextmenu":case"mouseup":case"dragend":dc=!1,Ah(h,n,d);break;case"selectionchange":if(zw)break;case"keydown":case"keyup":Ah(h,n,d)}var S;if(Ru)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else vr?sg(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(rg&&n.locale!=="ko"&&(vr||j!=="onCompositionStart"?j==="onCompositionEnd"&&vr&&(S=ng()):(cn=d,Cu="value"in cn?cn.value:cn.textContent,vr=!0)),N=To(u,j),0<N.length&&(j=new _h(j,e,null,n,d),h.push({event:j,listeners:N}),S?j.data=S:(S=ig(n),S!==null&&(j.data=S)))),(S=Tw?Cw(e,n):Pw(e,n))&&(u=To(u,"onBeforeInput"),0<u.length&&(d=new _h("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=S))}yg(h,t)})}function ni(e,t,n){return{instance:e,listener:t,currentTarget:n}}function To(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Js(e,n),i!=null&&r.unshift(ni(e,i,s)),i=Js(e,t),i!=null&&r.push(ni(e,i,s))),e=e.return}return r}function or(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ih(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Js(n,i),l!=null&&o.unshift(ni(n,l,a))):s||(l=Js(n,i),l!=null&&o.push(ni(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ww=/\r\n?/g,Kw=/\u0000|\uFFFD/g;function Dh(e){return(typeof e=="string"?e:""+e).replace(Ww,`
`).replace(Kw,"")}function Wi(e,t,n){if(t=Dh(t),Dh(e)!==t&&n)throw Error(C(425))}function Co(){}var hc=null,fc=null;function pc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mc=typeof setTimeout=="function"?setTimeout:void 0,Hw=typeof clearTimeout=="function"?clearTimeout:void 0,Mh=typeof Promise=="function"?Promise:void 0,qw=typeof queueMicrotask=="function"?queueMicrotask:typeof Mh<"u"?function(e){return Mh.resolve(null).then(e).catch(Gw)}:mc;function Gw(e){setTimeout(function(){throw e})}function ol(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Xs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Xs(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Lh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var rs=Math.random().toString(36).slice(2),Rt="__reactFiber$"+rs,ri="__reactProps$"+rs,qt="__reactContainer$"+rs,gc="__reactEvents$"+rs,Jw="__reactListeners$"+rs,Qw="__reactHandles$"+rs;function Fn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Lh(e);e!==null;){if(n=e[Rt])return n;e=Lh(e)}return t}e=n,n=e.parentNode}return null}function bi(e){return e=e[Rt]||e[qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function br(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function fa(e){return e[ri]||null}var yc=[],_r=-1;function kn(e){return{current:e}}function X(e){0>_r||(e.current=yc[_r],yc[_r]=null,_r--)}function Q(e,t){_r++,yc[_r]=e.current,e.current=t}var wn={},De=kn(wn),Ke=kn(!1),Qn=wn;function Vr(e,t){var n=e.type.contextTypes;if(!n)return wn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function He(e){return e=e.childContextTypes,e!=null}function Po(){X(Ke),X(De)}function $h(e,t,n){if(De.current!==wn)throw Error(C(168));Q(De,t),Q(Ke,n)}function xg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(C(108,Ix(e)||"Unknown",s));return oe({},n,r)}function Ao(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,Qn=De.current,Q(De,e),Q(Ke,Ke.current),!0}function Uh(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=xg(e,t,Qn),r.__reactInternalMemoizedMergedChildContext=e,X(Ke),X(De),Q(De,e)):X(Ke),Q(Ke,n)}var zt=null,pa=!1,al=!1;function wg(e){zt===null?zt=[e]:zt.push(e)}function Yw(e){pa=!0,wg(e)}function jn(){if(!al&&zt!==null){al=!0;var e=0,t=q;try{var n=zt;for(q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}zt=null,pa=!1}catch(s){throw zt!==null&&(zt=zt.slice(e+1)),Km(ju,jn),s}finally{q=t,al=!1}}return null}var Sr=[],kr=0,Ro=null,Oo=0,lt=[],ct=0,Yn=null,Ft=1,Bt="";function In(e,t){Sr[kr++]=Oo,Sr[kr++]=Ro,Ro=e,Oo=t}function bg(e,t,n){lt[ct++]=Ft,lt[ct++]=Bt,lt[ct++]=Yn,Yn=e;var r=Ft;e=Bt;var s=32-kt(r)-1;r&=~(1<<s),n+=1;var i=32-kt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ft=1<<32-kt(t)+s|n<<s|r,Bt=i+e}else Ft=1<<i|n<<s|r,Bt=e}function Iu(e){e.return!==null&&(In(e,1),bg(e,1,0))}function Du(e){for(;e===Ro;)Ro=Sr[--kr],Sr[kr]=null,Oo=Sr[--kr],Sr[kr]=null;for(;e===Yn;)Yn=lt[--ct],lt[ct]=null,Bt=lt[--ct],lt[ct]=null,Ft=lt[--ct],lt[ct]=null}var Xe=null,Ye=null,te=!1,St=null;function _g(e,t){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function zh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Ye=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Ye=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Yn!==null?{id:Ft,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xe=e,Ye=null,!0):!1;default:return!1}}function vc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xc(e){if(te){var t=Ye;if(t){var n=t;if(!zh(e,t)){if(vc(e))throw Error(C(418));t=pn(n.nextSibling);var r=Xe;t&&zh(e,t)?_g(r,n):(e.flags=e.flags&-4097|2,te=!1,Xe=e)}}else{if(vc(e))throw Error(C(418));e.flags=e.flags&-4097|2,te=!1,Xe=e}}}function Fh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function Ki(e){if(e!==Xe)return!1;if(!te)return Fh(e),te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pc(e.type,e.memoizedProps)),t&&(t=Ye)){if(vc(e))throw Sg(),Error(C(418));for(;t;)_g(e,t),t=pn(t.nextSibling)}if(Fh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ye=pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ye=null}}else Ye=Xe?pn(e.stateNode.nextSibling):null;return!0}function Sg(){for(var e=Ye;e;)e=pn(e.nextSibling)}function Wr(){Ye=Xe=null,te=!1}function Mu(e){St===null?St=[e]:St.push(e)}var Xw=Yt.ReactCurrentBatchConfig;function vs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function Hi(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Bh(e){var t=e._init;return t(e._payload)}function kg(e){function t(g,p){if(e){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=vn(g,p),g.index=0,g.sibling=null,g}function i(g,p,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,p,y,_){return p===null||p.tag!==6?(p=pl(y,g.mode,_),p.return=g,p):(p=s(p,y),p.return=g,p)}function l(g,p,y,_){var k=y.type;return k===yr?d(g,p,y.props.children,_,y.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===rn&&Bh(k)===p.type)?(_=s(p,y.props),_.ref=vs(g,p,y),_.return=g,_):(_=yo(y.type,y.key,y.props,null,g.mode,_),_.ref=vs(g,p,y),_.return=g,_)}function u(g,p,y,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=ml(y,g.mode,_),p.return=g,p):(p=s(p,y.children||[]),p.return=g,p)}function d(g,p,y,_,k){return p===null||p.tag!==7?(p=qn(y,g.mode,_,k),p.return=g,p):(p=s(p,y),p.return=g,p)}function h(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=pl(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Di:return y=yo(p.type,p.key,p.props,null,g.mode,y),y.ref=vs(g,null,p),y.return=g,y;case gr:return p=ml(p,g.mode,y),p.return=g,p;case rn:var _=p._init;return h(g,_(p._payload),y)}if(ks(p)||fs(p))return p=qn(p,g.mode,y,null),p.return=g,p;Hi(g,p)}return null}function f(g,p,y,_){var k=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:a(g,p,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Di:return y.key===k?l(g,p,y,_):null;case gr:return y.key===k?u(g,p,y,_):null;case rn:return k=y._init,f(g,p,k(y._payload),_)}if(ks(y)||fs(y))return k!==null?null:d(g,p,y,_,null);Hi(g,y)}return null}function m(g,p,y,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(y)||null,a(p,g,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Di:return g=g.get(_.key===null?y:_.key)||null,l(p,g,_,k);case gr:return g=g.get(_.key===null?y:_.key)||null,u(p,g,_,k);case rn:var N=_._init;return m(g,p,y,N(_._payload),k)}if(ks(_)||fs(_))return g=g.get(y)||null,d(p,g,_,k,null);Hi(p,_)}return null}function v(g,p,y,_){for(var k=null,N=null,S=p,j=p=0,P=null;S!==null&&j<y.length;j++){S.index>j?(P=S,S=null):P=S.sibling;var O=f(g,S,y[j],_);if(O===null){S===null&&(S=P);break}e&&S&&O.alternate===null&&t(g,S),p=i(O,p,j),N===null?k=O:N.sibling=O,N=O,S=P}if(j===y.length)return n(g,S),te&&In(g,j),k;if(S===null){for(;j<y.length;j++)S=h(g,y[j],_),S!==null&&(p=i(S,p,j),N===null?k=S:N.sibling=S,N=S);return te&&In(g,j),k}for(S=r(g,S);j<y.length;j++)P=m(S,g,j,y[j],_),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?j:P.key),p=i(P,p,j),N===null?k=P:N.sibling=P,N=P);return e&&S.forEach(function(B){return t(g,B)}),te&&In(g,j),k}function x(g,p,y,_){var k=fs(y);if(typeof k!="function")throw Error(C(150));if(y=k.call(y),y==null)throw Error(C(151));for(var N=k=null,S=p,j=p=0,P=null,O=y.next();S!==null&&!O.done;j++,O=y.next()){S.index>j?(P=S,S=null):P=S.sibling;var B=f(g,S,O.value,_);if(B===null){S===null&&(S=P);break}e&&S&&B.alternate===null&&t(g,S),p=i(B,p,j),N===null?k=B:N.sibling=B,N=B,S=P}if(O.done)return n(g,S),te&&In(g,j),k;if(S===null){for(;!O.done;j++,O=y.next())O=h(g,O.value,_),O!==null&&(p=i(O,p,j),N===null?k=O:N.sibling=O,N=O);return te&&In(g,j),k}for(S=r(g,S);!O.done;j++,O=y.next())O=m(S,g,j,O.value,_),O!==null&&(e&&O.alternate!==null&&S.delete(O.key===null?j:O.key),p=i(O,p,j),N===null?k=O:N.sibling=O,N=O);return e&&S.forEach(function(H){return t(g,H)}),te&&In(g,j),k}function w(g,p,y,_){if(typeof y=="object"&&y!==null&&y.type===yr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Di:e:{for(var k=y.key,N=p;N!==null;){if(N.key===k){if(k=y.type,k===yr){if(N.tag===7){n(g,N.sibling),p=s(N,y.props.children),p.return=g,g=p;break e}}else if(N.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===rn&&Bh(k)===N.type){n(g,N.sibling),p=s(N,y.props),p.ref=vs(g,N,y),p.return=g,g=p;break e}n(g,N);break}else t(g,N);N=N.sibling}y.type===yr?(p=qn(y.props.children,g.mode,_,y.key),p.return=g,g=p):(_=yo(y.type,y.key,y.props,null,g.mode,_),_.ref=vs(g,p,y),_.return=g,g=_)}return o(g);case gr:e:{for(N=y.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),p=s(p,y.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=ml(y,g.mode,_),p.return=g,g=p}return o(g);case rn:return N=y._init,w(g,p,N(y._payload),_)}if(ks(y))return v(g,p,y,_);if(fs(y))return x(g,p,y,_);Hi(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,y),p.return=g,g=p):(n(g,p),p=pl(y,g.mode,_),p.return=g,g=p),o(g)):n(g,p)}return w}var Kr=kg(!0),jg=kg(!1),Io=kn(null),Do=null,jr=null,Lu=null;function $u(){Lu=jr=Do=null}function Uu(e){var t=Io.current;X(Io),e._currentValue=t}function wc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Lr(e,t){Do=e,Lu=jr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(Lu!==e)if(e={context:e,memoizedValue:t,next:null},jr===null){if(Do===null)throw Error(C(308));jr=e,Do.dependencies={lanes:0,firstContext:e}}else jr=jr.next=e;return t}var Bn=null;function zu(e){Bn===null?Bn=[e]:Bn.push(e)}function Ng(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,zu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Gt(e,r)}function Gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function Fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Gt(e,n)}return s=r.interleaved,s===null?(t.next=t,zu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Gt(e,n)}function uo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nu(e,n)}}function Vh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mo(e,t,n,r){var s=e.updateQueue;sn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=u=l=null,a=i;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,x=a;switch(f=t,m=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=oe({},h,f);break e;case 2:sn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Zn|=o,e.lanes=o,e.memoizedState=h}}function Wh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(C(191,s));s.call(r)}}}var _i={},It=kn(_i),si=kn(_i),ii=kn(_i);function Vn(e){if(e===_i)throw Error(C(174));return e}function Bu(e,t){switch(Q(ii,t),Q(si,e),Q(It,_i),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ec(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ec(t,e)}X(It),Q(It,t)}function Hr(){X(It),X(si),X(ii)}function Tg(e){Vn(ii.current);var t=Vn(It.current),n=ec(t,e.type);t!==n&&(Q(si,e),Q(It,n))}function Vu(e){si.current===e&&(X(It),X(si))}var ne=kn(0);function Lo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ll=[];function Wu(){for(var e=0;e<ll.length;e++)ll[e]._workInProgressVersionPrimary=null;ll.length=0}var ho=Yt.ReactCurrentDispatcher,cl=Yt.ReactCurrentBatchConfig,Xn=0,se=null,we=null,Se=null,$o=!1,Ms=!1,oi=0,Zw=0;function Pe(){throw Error(C(321))}function Ku(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nt(e[n],t[n]))return!1;return!0}function Hu(e,t,n,r,s,i){if(Xn=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=e===null||e.memoizedState===null?rb:sb,e=n(r,s),Ms){i=0;do{if(Ms=!1,oi=0,25<=i)throw Error(C(301));i+=1,Se=we=null,t.updateQueue=null,ho.current=ib,e=n(r,s)}while(Ms)}if(ho.current=Uo,t=we!==null&&we.next!==null,Xn=0,Se=we=se=null,$o=!1,t)throw Error(C(300));return e}function qu(){var e=oi!==0;return oi=0,e}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?se.memoizedState=Se=e:Se=Se.next=e,Se}function mt(){if(we===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Se===null?se.memoizedState:Se.next;if(t!==null)Se=t,we=e;else{if(e===null)throw Error(C(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Se===null?se.memoizedState=Se=e:Se=Se.next=e}return Se}function ai(e,t){return typeof t=="function"?t(e):t}function ul(e){var t=mt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=we,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var d=u.lane;if((Xn&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,se.lanes|=d,Zn|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,Nt(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,se.lanes|=i,Zn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function dl(e){var t=mt(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Nt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Cg(){}function Pg(e,t){var n=se,r=mt(),s=t(),i=!Nt(r.memoizedState,s);if(i&&(r.memoizedState=s,We=!0),r=r.queue,Gu(Og.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,li(9,Rg.bind(null,n,r,s,t),void 0,null),ke===null)throw Error(C(349));Xn&30||Ag(n,t,s)}return s}function Ag(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rg(e,t,n,r){t.value=n,t.getSnapshot=r,Ig(t)&&Dg(e)}function Og(e,t,n){return n(function(){Ig(t)&&Dg(e)})}function Ig(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nt(e,n)}catch{return!0}}function Dg(e){var t=Gt(e,1);t!==null&&jt(t,e,1,-1)}function Kh(e){var t=Pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ai,lastRenderedState:e},t.queue=e,e=e.dispatch=nb.bind(null,se,e),[t.memoizedState,e]}function li(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=se.updateQueue,t===null?(t={lastEffect:null,stores:null},se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Mg(){return mt().memoizedState}function fo(e,t,n,r){var s=Pt();se.flags|=e,s.memoizedState=li(1|t,n,void 0,r===void 0?null:r)}function ma(e,t,n,r){var s=mt();r=r===void 0?null:r;var i=void 0;if(we!==null){var o=we.memoizedState;if(i=o.destroy,r!==null&&Ku(r,o.deps)){s.memoizedState=li(t,n,i,r);return}}se.flags|=e,s.memoizedState=li(1|t,n,i,r)}function Hh(e,t){return fo(8390656,8,e,t)}function Gu(e,t){return ma(2048,8,e,t)}function Lg(e,t){return ma(4,2,e,t)}function $g(e,t){return ma(4,4,e,t)}function Ug(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zg(e,t,n){return n=n!=null?n.concat([e]):null,ma(4,4,Ug.bind(null,t,e),n)}function Ju(){}function Fg(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ku(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Bg(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ku(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vg(e,t,n){return Xn&21?(Nt(n,t)||(n=Gm(),se.lanes|=n,Zn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function eb(e,t){var n=q;q=n!==0&&4>n?n:4,e(!0);var r=cl.transition;cl.transition={};try{e(!1),t()}finally{q=n,cl.transition=r}}function Wg(){return mt().memoizedState}function tb(e,t,n){var r=yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kg(e))Hg(t,n);else if(n=Ng(e,t,n,r),n!==null){var s=Le();jt(n,e,r,s),qg(n,t,r)}}function nb(e,t,n){var r=yn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kg(e))Hg(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Nt(a,o)){var l=t.interleaved;l===null?(s.next=s,zu(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Ng(e,t,s,r),n!==null&&(s=Le(),jt(n,e,r,s),qg(n,t,r))}}function Kg(e){var t=e.alternate;return e===se||t!==null&&t===se}function Hg(e,t){Ms=$o=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nu(e,n)}}var Uo={readContext:pt,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},rb={readContext:pt,useCallback:function(e,t){return Pt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:Hh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fo(4194308,4,Ug.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return fo(4,2,e,t)},useMemo:function(e,t){var n=Pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tb.bind(null,se,e),[r.memoizedState,e]},useRef:function(e){var t=Pt();return e={current:e},t.memoizedState=e},useState:Kh,useDebugValue:Ju,useDeferredValue:function(e){return Pt().memoizedState=e},useTransition:function(){var e=Kh(!1),t=e[0];return e=eb.bind(null,e[1]),Pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=se,s=Pt();if(te){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),ke===null)throw Error(C(349));Xn&30||Ag(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Hh(Og.bind(null,r,i,e),[e]),r.flags|=2048,li(9,Rg.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Pt(),t=ke.identifierPrefix;if(te){var n=Bt,r=Ft;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=oi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Zw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sb={readContext:pt,useCallback:Fg,useContext:pt,useEffect:Gu,useImperativeHandle:zg,useInsertionEffect:Lg,useLayoutEffect:$g,useMemo:Bg,useReducer:ul,useRef:Mg,useState:function(){return ul(ai)},useDebugValue:Ju,useDeferredValue:function(e){var t=mt();return Vg(t,we.memoizedState,e)},useTransition:function(){var e=ul(ai)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Cg,useSyncExternalStore:Pg,useId:Wg,unstable_isNewReconciler:!1},ib={readContext:pt,useCallback:Fg,useContext:pt,useEffect:Gu,useImperativeHandle:zg,useInsertionEffect:Lg,useLayoutEffect:$g,useMemo:Bg,useReducer:dl,useRef:Mg,useState:function(){return dl(ai)},useDebugValue:Ju,useDeferredValue:function(e){var t=mt();return we===null?t.memoizedState=e:Vg(t,we.memoizedState,e)},useTransition:function(){var e=dl(ai)[0],t=mt().memoizedState;return[e,t]},useMutableSource:Cg,useSyncExternalStore:Pg,useId:Wg,unstable_isNewReconciler:!1};function wt(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return(e=e._reactInternals)?nr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Le(),s=yn(e),i=Vt(r,s);i.payload=t,n!=null&&(i.callback=n),t=mn(e,i,s),t!==null&&(jt(t,e,s,r),uo(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Le(),s=yn(e),i=Vt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=mn(e,i,s),t!==null&&(jt(t,e,s,r),uo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Le(),r=yn(e),s=Vt(n,r);s.tag=2,t!=null&&(s.callback=t),t=mn(e,s,r),t!==null&&(jt(t,e,r,n),uo(t,e,r))}};function qh(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!ei(n,r)||!ei(s,i):!0}function Gg(e,t,n){var r=!1,s=wn,i=t.contextType;return typeof i=="object"&&i!==null?i=pt(i):(s=He(t)?Qn:De.current,r=t.contextTypes,i=(r=r!=null)?Vr(e,s):wn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Gh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function _c(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Fu(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=pt(i):(i=He(t)?Qn:De.current,s.context=Vr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(bc(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ga.enqueueReplaceState(s,s.state,null),Mo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function qr(e,t){try{var n="",r=t;do n+=Ox(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function hl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ob=typeof WeakMap=="function"?WeakMap:Map;function Jg(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fo||(Fo=!0,Oc=r),Sc(e,t)},n}function Qg(e,t,n){n=Vt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Sc(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sc(e,t),typeof r!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Jh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ob;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=wb.bind(null,e,t,n),t.then(e,e))}function Qh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Yh(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,mn(n,t,1))),n.lanes|=1),e)}var ab=Yt.ReactCurrentOwner,We=!1;function Me(e,t,n,r){t.child=e===null?jg(t,null,n,r):Kr(t,e.child,n,r)}function Xh(e,t,n,r,s){n=n.render;var i=t.ref;return Lr(t,s),r=Hu(e,t,n,r,i,s),n=qu(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jt(e,t,s)):(te&&n&&Iu(t),t.flags|=1,Me(e,t,r,s),t.child)}function Zh(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!rd(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Yg(e,t,i,r,s)):(e=yo(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ei,n(o,r)&&e.ref===t.ref)return Jt(e,t,s)}return t.flags|=1,e=vn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Yg(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(ei(i,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Jt(e,t,s)}return kc(e,t,n,r,s)}function Xg(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(Er,Qe),Qe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(Er,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Q(Er,Qe),Qe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Q(Er,Qe),Qe|=r;return Me(e,t,s,n),t.child}function Zg(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function kc(e,t,n,r,s){var i=He(n)?Qn:De.current;return i=Vr(t,i),Lr(t,s),n=Hu(e,t,n,r,i,s),r=qu(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jt(e,t,s)):(te&&r&&Iu(t),t.flags|=1,Me(e,t,n,s),t.child)}function ef(e,t,n,r,s){if(He(n)){var i=!0;Ao(t)}else i=!1;if(Lr(t,s),t.stateNode===null)po(e,t),Gg(t,n,r),_c(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=pt(u):(u=He(n)?Qn:De.current,u=Vr(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Gh(t,o,r,u),sn=!1;var f=t.memoizedState;o.state=f,Mo(t,r,o,s),l=t.memoizedState,a!==r||f!==l||Ke.current||sn?(typeof d=="function"&&(bc(t,n,d,r),l=t.memoizedState),(a=sn||qh(t,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Eg(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:wt(t.type,a),o.props=u,h=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=pt(l):(l=He(n)?Qn:De.current,l=Vr(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Gh(t,o,r,l),sn=!1,f=t.memoizedState,o.state=f,Mo(t,r,o,s);var v=t.memoizedState;a!==h||f!==v||Ke.current||sn?(typeof m=="function"&&(bc(t,n,m,r),v=t.memoizedState),(u=sn||qh(t,n,u,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return jc(e,t,n,r,i,s)}function jc(e,t,n,r,s,i){Zg(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Uh(t,n,!1),Jt(e,t,i);r=t.stateNode,ab.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Kr(t,e.child,null,i),t.child=Kr(t,null,a,i)):Me(e,t,a,i),t.memoizedState=r.state,s&&Uh(t,n,!0),t.child}function e0(e){var t=e.stateNode;t.pendingContext?$h(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$h(e,t.context,!1),Bu(e,t.containerInfo)}function tf(e,t,n,r,s){return Wr(),Mu(s),t.flags|=256,Me(e,t,n,r),t.child}var Nc={dehydrated:null,treeContext:null,retryLane:0};function Ec(e){return{baseLanes:e,cachePool:null,transitions:null}}function t0(e,t,n){var r=t.pendingProps,s=ne.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Q(ne,s&1),e===null)return xc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=xa(o,r,0,null),e=qn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ec(n),t.memoizedState=Nc,e):Qu(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return lb(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=vn(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=vn(a,i):(i=qn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Ec(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Nc,r}return i=e.child,e=i.sibling,r=vn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Qu(e,t){return t=xa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qi(e,t,n,r){return r!==null&&Mu(r),Kr(t,e.child,null,n),e=Qu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lb(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=hl(Error(C(422))),qi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=xa({mode:"visible",children:r.children},s,0,null),i=qn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Kr(t,e.child,null,o),t.child.memoizedState=Ec(o),t.memoizedState=Nc,i);if(!(t.mode&1))return qi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(C(419)),r=hl(i,r,void 0),qi(e,t,o,r)}if(a=(o&e.childLanes)!==0,We||a){if(r=ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Gt(e,s),jt(r,e,s,-1))}return nd(),r=hl(Error(C(421))),qi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=bb.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ye=pn(s.nextSibling),Xe=t,te=!0,St=null,e!==null&&(lt[ct++]=Ft,lt[ct++]=Bt,lt[ct++]=Yn,Ft=e.id,Bt=e.overflow,Yn=t),t=Qu(t,r.children),t.flags|=4096,t)}function nf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),wc(e.return,t,n)}function fl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function n0(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Me(e,t,r.children,n),r=ne.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nf(e,n,t);else if(e.tag===19)nf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Q(ne,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Lo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),fl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Lo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}fl(t,!0,n,null,i);break;case"together":fl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function po(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function cb(e,t,n){switch(t.tag){case 3:e0(t),Wr();break;case 5:Tg(t);break;case 1:He(t.type)&&Ao(t);break;case 4:Bu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Q(Io,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Q(ne,ne.current&1),t.flags|=128,null):n&t.child.childLanes?t0(e,t,n):(Q(ne,ne.current&1),e=Jt(e,t,n),e!==null?e.sibling:null);Q(ne,ne.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return n0(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Q(ne,ne.current),r)break;return null;case 22:case 23:return t.lanes=0,Xg(e,t,n)}return Jt(e,t,n)}var r0,Tc,s0,i0;r0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tc=function(){};s0=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Vn(It.current);var i=null;switch(n){case"input":s=Ql(e,s),r=Ql(e,r),i=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),i=[];break;case"textarea":s=Zl(e,s),r=Zl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Co)}tc(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Y("scroll",e),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};i0=function(e,t,n,r){n!==r&&(t.flags|=4)};function xs(e,t){if(!te)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ub(e,t,n){var r=t.pendingProps;switch(Du(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return He(t.type)&&Po(),Ae(t),null;case 3:return r=t.stateNode,Hr(),X(Ke),X(De),Wu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ki(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,St!==null&&(Mc(St),St=null))),Tc(e,t),Ae(t),null;case 5:Vu(t);var s=Vn(ii.current);if(n=t.type,e!==null&&t.stateNode!=null)s0(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return Ae(t),null}if(e=Vn(It.current),Ki(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Rt]=t,r[ri]=i,e=(t.mode&1)!==0,n){case"dialog":Y("cancel",r),Y("close",r);break;case"iframe":case"object":case"embed":Y("load",r);break;case"video":case"audio":for(s=0;s<Ns.length;s++)Y(Ns[s],r);break;case"source":Y("error",r);break;case"img":case"image":case"link":Y("error",r),Y("load",r);break;case"details":Y("toggle",r);break;case"input":dh(r,i),Y("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Y("invalid",r);break;case"textarea":fh(r,i),Y("invalid",r)}tc(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Wi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Wi(r.textContent,a,e),s=["children",""+a]):qs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Y("scroll",r)}switch(n){case"input":Mi(r),hh(r,i,!0);break;case"textarea":Mi(r),ph(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Co)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Om(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Rt]=t,e[ri]=r,r0(e,t,!1,!1),t.stateNode=e;e:{switch(o=nc(n,r),n){case"dialog":Y("cancel",e),Y("close",e),s=r;break;case"iframe":case"object":case"embed":Y("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ns.length;s++)Y(Ns[s],e);s=r;break;case"source":Y("error",e),s=r;break;case"img":case"image":case"link":Y("error",e),Y("load",e),s=r;break;case"details":Y("toggle",e),s=r;break;case"input":dh(e,r),s=Ql(e,r),Y("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),Y("invalid",e);break;case"textarea":fh(e,r),s=Zl(e,r),Y("invalid",e);break;default:s=r}tc(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Mm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Im(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gs(e,l):typeof l=="number"&&Gs(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Y("scroll",e):l!=null&&wu(e,i,l,o))}switch(n){case"input":Mi(e),hh(e,r,!1);break;case"textarea":Mi(e),ph(e);break;case"option":r.value!=null&&e.setAttribute("value",""+xn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Or(e,!!r.multiple,i,!1):r.defaultValue!=null&&Or(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Co)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)i0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=Vn(ii.current),Vn(It.current),Ki(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(i=r.nodeValue!==n)&&(e=Xe,e!==null))switch(e.tag){case 3:Wi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return Ae(t),null;case 13:if(X(ne),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&Ye!==null&&t.mode&1&&!(t.flags&128))Sg(),Wr(),t.flags|=98560,i=!1;else if(i=Ki(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[Rt]=t}else Wr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),i=!1}else St!==null&&(Mc(St),St=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ne.current&1?be===0&&(be=3):nd())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return Hr(),Tc(e,t),e===null&&ti(t.stateNode.containerInfo),Ae(t),null;case 10:return Uu(t.type._context),Ae(t),null;case 17:return He(t.type)&&Po(),Ae(t),null;case 19:if(X(ne),i=t.memoizedState,i===null)return Ae(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)xs(i,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Lo(e),o!==null){for(t.flags|=128,xs(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Q(ne,ne.current&1|2),t.child}e=e.sibling}i.tail!==null&&pe()>Gr&&(t.flags|=128,r=!0,xs(i,!1),t.lanes=4194304)}else{if(!r)if(e=Lo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),xs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!te)return Ae(t),null}else 2*pe()-i.renderingStartTime>Gr&&n!==1073741824&&(t.flags|=128,r=!0,xs(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=pe(),t.sibling=null,n=ne.current,Q(ne,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return td(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qe&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function db(e,t){switch(Du(t),t.tag){case 1:return He(t.type)&&Po(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hr(),X(Ke),X(De),Wu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vu(t),null;case 13:if(X(ne),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(ne),null;case 4:return Hr(),null;case 10:return Uu(t.type._context),null;case 22:case 23:return td(),null;case 24:return null;default:return null}}var Gi=!1,Oe=!1,hb=typeof WeakSet=="function"?WeakSet:Set,I=null;function Nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function Cc(e,t,n){try{n()}catch(r){ue(e,t,r)}}var rf=!1;function fb(e,t){if(hc=No,e=ug(),Ou(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===n&&++u===s&&(a=o),f===i&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fc={focusedElem:e,selectionRange:n},No=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,w=v.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:wt(t.type,x),w);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(_){ue(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return v=rf,rf=!1,v}function Ls(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Cc(t,n,i)}s=s.next}while(s!==r)}}function ya(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function o0(e){var t=e.alternate;t!==null&&(e.alternate=null,o0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[ri],delete t[gc],delete t[Jw],delete t[Qw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function a0(e){return e.tag===5||e.tag===3||e.tag===4}function sf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||a0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ac(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Co));else if(r!==4&&(e=e.child,e!==null))for(Ac(e,t,n),e=e.sibling;e!==null;)Ac(e,t,n),e=e.sibling}function Rc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Rc(e,t,n),e=e.sibling;e!==null;)Rc(e,t,n),e=e.sibling}var Ne=null,bt=!1;function Zt(e,t,n){for(n=n.child;n!==null;)l0(e,t,n),n=n.sibling}function l0(e,t,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(ca,n)}catch{}switch(n.tag){case 5:Oe||Nr(n,t);case 6:var r=Ne,s=bt;Ne=null,Zt(e,t,n),Ne=r,bt=s,Ne!==null&&(bt?(e=Ne,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(bt?(e=Ne,n=n.stateNode,e.nodeType===8?ol(e.parentNode,n):e.nodeType===1&&ol(e,n),Xs(e)):ol(Ne,n.stateNode));break;case 4:r=Ne,s=bt,Ne=n.stateNode.containerInfo,bt=!0,Zt(e,t,n),Ne=r,bt=s;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Cc(n,t,o),s=s.next}while(s!==r)}Zt(e,t,n);break;case 1:if(!Oe&&(Nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ue(n,t,a)}Zt(e,t,n);break;case 21:Zt(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,Zt(e,t,n),Oe=r):Zt(e,t,n);break;default:Zt(e,t,n)}}function of(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new hb),t.forEach(function(r){var s=_b.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ne=a.stateNode,bt=!1;break e;case 3:Ne=a.stateNode.containerInfo,bt=!0;break e;case 4:Ne=a.stateNode.containerInfo,bt=!0;break e}a=a.return}if(Ne===null)throw Error(C(160));l0(i,o,s),Ne=null,bt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)c0(t,e),t=t.sibling}function c0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),Ct(e),r&4){try{Ls(3,e,e.return),ya(3,e)}catch(x){ue(e,e.return,x)}try{Ls(5,e,e.return)}catch(x){ue(e,e.return,x)}}break;case 1:yt(t,e),Ct(e),r&512&&n!==null&&Nr(n,n.return);break;case 5:if(yt(t,e),Ct(e),r&512&&n!==null&&Nr(n,n.return),e.flags&32){var s=e.stateNode;try{Gs(s,"")}catch(x){ue(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Am(s,i),nc(a,o);var u=nc(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Mm(s,h):d==="dangerouslySetInnerHTML"?Im(s,h):d==="children"?Gs(s,h):wu(s,d,h,u)}switch(a){case"input":Yl(s,i);break;case"textarea":Rm(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Or(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?Or(s,!!i.multiple,i.defaultValue,!0):Or(s,!!i.multiple,i.multiple?[]:"",!1))}s[ri]=i}catch(x){ue(e,e.return,x)}}break;case 6:if(yt(t,e),Ct(e),r&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){ue(e,e.return,x)}}break;case 3:if(yt(t,e),Ct(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xs(t.containerInfo)}catch(x){ue(e,e.return,x)}break;case 4:yt(t,e),Ct(e);break;case 13:yt(t,e),Ct(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Zu=pe())),r&4&&of(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(u=Oe)||d,yt(t,e),Oe=u):yt(t,e),Ct(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(I=e,d=e.child;d!==null;){for(h=I=d;I!==null;){switch(f=I,m=f.child,f.tag){case 0:case 11:case 14:case 15:Ls(4,f,f.return);break;case 1:Nr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){ue(r,n,x)}}break;case 5:Nr(f,f.return);break;case 22:if(f.memoizedState!==null){lf(h);continue}}m!==null?(m.return=f,I=m):lf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Dm("display",o))}catch(x){ue(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){ue(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:yt(t,e),Ct(e),r&4&&of(e);break;case 21:break;default:yt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(a0(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Gs(s,""),r.flags&=-33);var i=sf(e);Rc(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=sf(e);Ac(e,a,o);break;default:throw Error(C(161))}}catch(l){ue(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pb(e,t,n){I=e,u0(e)}function u0(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Gi;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Oe;a=Gi;var u=Oe;if(Gi=o,(Oe=l)&&!u)for(I=s;I!==null;)o=I,l=o.child,o.tag===22&&o.memoizedState!==null?cf(s):l!==null?(l.return=o,I=l):cf(s);for(;i!==null;)I=i,u0(i),i=i.sibling;I=s,Gi=a,Oe=u}af(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):af(e)}}function af(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||ya(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:wt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Wh(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wh(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Xs(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Oe||t.flags&512&&Pc(t)}catch(f){ue(t,t.return,f)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function lf(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function cf(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ya(4,t)}catch(l){ue(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ue(t,s,l)}}var i=t.return;try{Pc(t)}catch(l){ue(t,i,l)}break;case 5:var o=t.return;try{Pc(t)}catch(l){ue(t,o,l)}}}catch(l){ue(t,t.return,l)}if(t===e){I=null;break}var a=t.sibling;if(a!==null){a.return=t.return,I=a;break}I=t.return}}var mb=Math.ceil,zo=Yt.ReactCurrentDispatcher,Yu=Yt.ReactCurrentOwner,ht=Yt.ReactCurrentBatchConfig,W=0,ke=null,ve=null,Te=0,Qe=0,Er=kn(0),be=0,ci=null,Zn=0,va=0,Xu=0,$s=null,Be=null,Zu=0,Gr=1/0,$t=null,Fo=!1,Oc=null,gn=null,Ji=!1,un=null,Bo=0,Us=0,Ic=null,mo=-1,go=0;function Le(){return W&6?pe():mo!==-1?mo:mo=pe()}function yn(e){return e.mode&1?W&2&&Te!==0?Te&-Te:Xw.transition!==null?(go===0&&(go=Gm()),go):(e=q,e!==0||(e=window.event,e=e===void 0?16:tg(e.type)),e):1}function jt(e,t,n,r){if(50<Us)throw Us=0,Ic=null,Error(C(185));xi(e,n,r),(!(W&2)||e!==ke)&&(e===ke&&(!(W&2)&&(va|=n),be===4&&an(e,Te)),qe(e,r),n===1&&W===0&&!(t.mode&1)&&(Gr=pe()+500,pa&&jn()))}function qe(e,t){var n=e.callbackNode;Xx(e,t);var r=jo(e,e===ke?Te:0);if(r===0)n!==null&&yh(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&yh(n),t===1)e.tag===0?Yw(uf.bind(null,e)):wg(uf.bind(null,e)),qw(function(){!(W&6)&&jn()}),n=null;else{switch(Jm(r)){case 1:n=ju;break;case 4:n=Hm;break;case 16:n=ko;break;case 536870912:n=qm;break;default:n=ko}n=v0(n,d0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function d0(e,t){if(mo=-1,go=0,W&6)throw Error(C(327));var n=e.callbackNode;if($r()&&e.callbackNode!==n)return null;var r=jo(e,e===ke?Te:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Vo(e,r);else{t=r;var s=W;W|=2;var i=f0();(ke!==e||Te!==t)&&($t=null,Gr=pe()+500,Hn(e,t));do try{vb();break}catch(a){h0(e,a)}while(!0);$u(),zo.current=i,W=s,ve!==null?t=0:(ke=null,Te=0,t=be)}if(t!==0){if(t===2&&(s=ac(e),s!==0&&(r=s,t=Dc(e,s))),t===1)throw n=ci,Hn(e,0),an(e,r),qe(e,pe()),n;if(t===6)an(e,r);else{if(s=e.current.alternate,!(r&30)&&!gb(s)&&(t=Vo(e,r),t===2&&(i=ac(e),i!==0&&(r=i,t=Dc(e,i))),t===1))throw n=ci,Hn(e,0),an(e,r),qe(e,pe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:Dn(e,Be,$t);break;case 3:if(an(e,r),(r&130023424)===r&&(t=Zu+500-pe(),10<t)){if(jo(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Le(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=mc(Dn.bind(null,e,Be,$t),t);break}Dn(e,Be,$t);break;case 4:if(an(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-kt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mb(r/1960))-r,10<r){e.timeoutHandle=mc(Dn.bind(null,e,Be,$t),r);break}Dn(e,Be,$t);break;case 5:Dn(e,Be,$t);break;default:throw Error(C(329))}}}return qe(e,pe()),e.callbackNode===n?d0.bind(null,e):null}function Dc(e,t){var n=$s;return e.current.memoizedState.isDehydrated&&(Hn(e,t).flags|=256),e=Vo(e,t),e!==2&&(t=Be,Be=n,t!==null&&Mc(t)),e}function Mc(e){Be===null?Be=e:Be.push.apply(Be,e)}function gb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Nt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~Xu,t&=~va,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kt(t),r=1<<n;e[n]=-1,t&=~r}}function uf(e){if(W&6)throw Error(C(327));$r();var t=jo(e,0);if(!(t&1))return qe(e,pe()),null;var n=Vo(e,t);if(e.tag!==0&&n===2){var r=ac(e);r!==0&&(t=r,n=Dc(e,r))}if(n===1)throw n=ci,Hn(e,0),an(e,t),qe(e,pe()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dn(e,Be,$t),qe(e,pe()),null}function ed(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(Gr=pe()+500,pa&&jn())}}function er(e){un!==null&&un.tag===0&&!(W&6)&&$r();var t=W;W|=1;var n=ht.transition,r=q;try{if(ht.transition=null,q=1,e)return e()}finally{q=r,ht.transition=n,W=t,!(W&6)&&jn()}}function td(){Qe=Er.current,X(Er)}function Hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Hw(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(Du(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Po();break;case 3:Hr(),X(Ke),X(De),Wu();break;case 5:Vu(r);break;case 4:Hr();break;case 13:X(ne);break;case 19:X(ne);break;case 10:Uu(r.type._context);break;case 22:case 23:td()}n=n.return}if(ke=e,ve=e=vn(e.current,null),Te=Qe=t,be=0,ci=null,Xu=va=Zn=0,Be=$s=null,Bn!==null){for(t=0;t<Bn.length;t++)if(n=Bn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Bn=null}return e}function h0(e,t){do{var n=ve;try{if($u(),ho.current=Uo,$o){for(var r=se.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$o=!1}if(Xn=0,Se=we=se=null,Ms=!1,oi=0,Yu.current=null,n===null||n.return===null){be=1,ci=t,ve=null;break}e:{var i=e,o=n.return,a=n,l=t;if(t=Te,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Qh(o);if(m!==null){m.flags&=-257,Yh(m,o,a,i,t),m.mode&1&&Jh(i,u,t),t=m,l=u;var v=t.updateQueue;if(v===null){var x=new Set;x.add(l),t.updateQueue=x}else v.add(l);break e}else{if(!(t&1)){Jh(i,u,t),nd();break e}l=Error(C(426))}}else if(te&&a.mode&1){var w=Qh(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Yh(w,o,a,i,t),Mu(qr(l,a));break e}}i=l=qr(l,a),be!==4&&(be=2),$s===null?$s=[i]:$s.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Jg(i,l,t);Vh(i,g);break e;case 1:a=l;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gn===null||!gn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=Qg(i,a,t);Vh(i,_);break e}}i=i.return}while(i!==null)}m0(n)}catch(k){t=k,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function f0(){var e=zo.current;return zo.current=Uo,e===null?Uo:e}function nd(){(be===0||be===3||be===2)&&(be=4),ke===null||!(Zn&268435455)&&!(va&268435455)||an(ke,Te)}function Vo(e,t){var n=W;W|=2;var r=f0();(ke!==e||Te!==t)&&($t=null,Hn(e,t));do try{yb();break}catch(s){h0(e,s)}while(!0);if($u(),W=n,zo.current=r,ve!==null)throw Error(C(261));return ke=null,Te=0,be}function yb(){for(;ve!==null;)p0(ve)}function vb(){for(;ve!==null&&!Vx();)p0(ve)}function p0(e){var t=y0(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?m0(e):ve=t,Yu.current=null}function m0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=db(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,ve=null;return}}else if(n=ub(n,t,Qe),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);be===0&&(be=5)}function Dn(e,t,n){var r=q,s=ht.transition;try{ht.transition=null,q=1,xb(e,t,n,r)}finally{ht.transition=s,q=r}return null}function xb(e,t,n,r){do $r();while(un!==null);if(W&6)throw Error(C(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Zx(e,i),e===ke&&(ve=ke=null,Te=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ji||(Ji=!0,v0(ko,function(){return $r(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ht.transition,ht.transition=null;var o=q;q=1;var a=W;W|=4,Yu.current=null,fb(e,n),c0(n,e),Uw(fc),No=!!hc,fc=hc=null,e.current=n,pb(n),Wx(),W=a,q=o,ht.transition=i}else e.current=n;if(Ji&&(Ji=!1,un=e,Bo=s),i=e.pendingLanes,i===0&&(gn=null),qx(n.stateNode),qe(e,pe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fo)throw Fo=!1,e=Oc,Oc=null,e;return Bo&1&&e.tag!==0&&$r(),i=e.pendingLanes,i&1?e===Ic?Us++:(Us=0,Ic=e):Us=0,jn(),null}function $r(){if(un!==null){var e=Jm(Bo),t=ht.transition,n=q;try{if(ht.transition=null,q=16>e?16:e,un===null)var r=!1;else{if(e=un,un=null,Bo=0,W&6)throw Error(C(331));var s=W;for(W|=4,I=e.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(I=u;I!==null;){var d=I;switch(d.tag){case 0:case 11:case 15:Ls(8,d,i)}var h=d.child;if(h!==null)h.return=d,I=h;else for(;I!==null;){d=I;var f=d.sibling,m=d.return;if(o0(d),d===u){I=null;break}if(f!==null){f.return=m,I=f;break}I=m}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ls(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,I=g;break e}I=i.return}}var p=e.current;for(I=p;I!==null;){o=I;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,I=y;else e:for(o=p;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ya(9,a)}}catch(k){ue(a,a.return,k)}if(a===o){I=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,I=_;break e}I=a.return}}if(W=s,jn(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(ca,e)}catch{}r=!0}return r}finally{q=n,ht.transition=t}}return!1}function df(e,t,n){t=qr(n,t),t=Jg(e,t,1),e=mn(e,t,1),t=Le(),e!==null&&(xi(e,1,t),qe(e,t))}function ue(e,t,n){if(e.tag===3)df(e,e,n);else for(;t!==null;){if(t.tag===3){df(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gn===null||!gn.has(r))){e=qr(n,e),e=Qg(t,e,1),t=mn(t,e,1),e=Le(),t!==null&&(xi(t,1,e),qe(t,e));break}}t=t.return}}function wb(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Le(),e.pingedLanes|=e.suspendedLanes&n,ke===e&&(Te&n)===n&&(be===4||be===3&&(Te&130023424)===Te&&500>pe()-Zu?Hn(e,0):Xu|=n),qe(e,t)}function g0(e,t){t===0&&(e.mode&1?(t=Ui,Ui<<=1,!(Ui&130023424)&&(Ui=4194304)):t=1);var n=Le();e=Gt(e,t),e!==null&&(xi(e,t,n),qe(e,n))}function bb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),g0(e,n)}function _b(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),g0(e,n)}var y0;y0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,cb(e,t,n);We=!!(e.flags&131072)}else We=!1,te&&t.flags&1048576&&bg(t,Oo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;po(e,t),e=t.pendingProps;var s=Vr(t,De.current);Lr(t,n),s=Hu(null,t,r,e,s,n);var i=qu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,He(r)?(i=!0,Ao(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fu(t),s.updater=ga,t.stateNode=s,s._reactInternals=t,_c(t,r,e,n),t=jc(null,t,r,!0,i,n)):(t.tag=0,te&&i&&Iu(t),Me(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(po(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=kb(r),e=wt(r,e),s){case 0:t=kc(null,t,r,e,n);break e;case 1:t=ef(null,t,r,e,n);break e;case 11:t=Xh(null,t,r,e,n);break e;case 14:t=Zh(null,t,r,wt(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wt(r,s),kc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wt(r,s),ef(e,t,r,s,n);case 3:e:{if(e0(t),e===null)throw Error(C(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Eg(e,t),Mo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=qr(Error(C(423)),t),t=tf(e,t,r,n,s);break e}else if(r!==s){s=qr(Error(C(424)),t),t=tf(e,t,r,n,s);break e}else for(Ye=pn(t.stateNode.containerInfo.firstChild),Xe=t,te=!0,St=null,n=jg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wr(),r===s){t=Jt(e,t,n);break e}Me(e,t,r,n)}t=t.child}return t;case 5:return Tg(t),e===null&&xc(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,pc(r,s)?o=null:i!==null&&pc(r,i)&&(t.flags|=32),Zg(e,t),Me(e,t,o,n),t.child;case 6:return e===null&&xc(t),null;case 13:return t0(e,t,n);case 4:return Bu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Kr(t,null,r,n):Me(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wt(r,s),Xh(e,t,r,s,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Q(Io,r._currentValue),r._currentValue=o,i!==null)if(Nt(i.value,o)){if(i.children===s.children&&!Ke.current){t=Jt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Vt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),wc(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(C(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wc(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Me(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Lr(t,n),s=pt(s),r=r(s),t.flags|=1,Me(e,t,r,n),t.child;case 14:return r=t.type,s=wt(r,t.pendingProps),s=wt(r.type,s),Zh(e,t,r,s,n);case 15:return Yg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:wt(r,s),po(e,t),t.tag=1,He(r)?(e=!0,Ao(t)):e=!1,Lr(t,n),Gg(t,r,s),_c(t,r,s,n),jc(null,t,r,!0,e,n);case 19:return n0(e,t,n);case 22:return Xg(e,t,n)}throw Error(C(156,t.tag))};function v0(e,t){return Km(e,t)}function Sb(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,n,r){return new Sb(e,t,n,r)}function rd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kb(e){if(typeof e=="function")return rd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_u)return 11;if(e===Su)return 14}return 2}function vn(e,t){var n=e.alternate;return n===null?(n=ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function yo(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")rd(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case yr:return qn(n.children,s,i,t);case bu:o=8,s|=8;break;case Hl:return e=ut(12,n,t,s|2),e.elementType=Hl,e.lanes=i,e;case ql:return e=ut(13,n,t,s),e.elementType=ql,e.lanes=i,e;case Gl:return e=ut(19,n,t,s),e.elementType=Gl,e.lanes=i,e;case Tm:return xa(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Nm:o=10;break e;case Em:o=9;break e;case _u:o=11;break e;case Su:o=14;break e;case rn:o=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=ut(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function qn(e,t,n,r){return e=ut(7,e,r,t),e.lanes=n,e}function xa(e,t,n,r){return e=ut(22,e,r,t),e.elementType=Tm,e.lanes=n,e.stateNode={isHidden:!1},e}function pl(e,t,n){return e=ut(6,e,null,t),e.lanes=n,e}function ml(e,t,n){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jb(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ja(0),this.expirationTimes=Ja(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ja(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sd(e,t,n,r,s,i,o,a,l){return e=new jb(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ut(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fu(i),e}function Nb(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function x0(e){if(!e)return wn;e=e._reactInternals;e:{if(nr(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(He(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(He(n))return xg(e,n,t)}return t}function w0(e,t,n,r,s,i,o,a,l){return e=sd(n,r,!0,e,s,i,o,a,l),e.context=x0(null),n=e.current,r=Le(),s=yn(n),i=Vt(r,s),i.callback=t??null,mn(n,i,s),e.current.lanes=s,xi(e,s,r),qe(e,r),e}function wa(e,t,n,r){var s=t.current,i=Le(),o=yn(s);return n=x0(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mn(s,t,o),e!==null&&(jt(e,s,o,i),uo(e,s,o)),o}function Wo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function id(e,t){hf(e,t),(e=e.alternate)&&hf(e,t)}function Eb(){return null}var b0=typeof reportError=="function"?reportError:function(e){console.error(e)};function od(e){this._internalRoot=e}ba.prototype.render=od.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));wa(e,t,null,null)};ba.prototype.unmount=od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;er(function(){wa(null,e,null,null)}),t[qt]=null}};function ba(e){this._internalRoot=e}ba.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<on.length&&t!==0&&t<on[n].priority;n++);on.splice(n,0,e),n===0&&eg(e)}};function ad(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ff(){}function Tb(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Wo(o);i.call(u)}}var o=w0(t,r,e,0,null,!1,!1,"",ff);return e._reactRootContainer=o,e[qt]=o.current,ti(e.nodeType===8?e.parentNode:e),er(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Wo(l);a.call(u)}}var l=sd(e,0,!1,null,null,!1,!1,"",ff);return e._reactRootContainer=l,e[qt]=l.current,ti(e.nodeType===8?e.parentNode:e),er(function(){wa(t,l,n,r)}),l}function Sa(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Wo(o);a.call(l)}}wa(t,o,e,s)}else o=Tb(n,t,e,s,r);return Wo(o)}Qm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=js(t.pendingLanes);n!==0&&(Nu(t,n|1),qe(t,pe()),!(W&6)&&(Gr=pe()+500,jn()))}break;case 13:er(function(){var r=Gt(e,1);if(r!==null){var s=Le();jt(r,e,1,s)}}),id(e,1)}};Eu=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var n=Le();jt(t,e,134217728,n)}id(e,134217728)}};Ym=function(e){if(e.tag===13){var t=yn(e),n=Gt(e,t);if(n!==null){var r=Le();jt(n,e,t,r)}id(e,t)}};Xm=function(){return q};Zm=function(e,t){var n=q;try{return q=e,t()}finally{q=n}};sc=function(e,t,n){switch(t){case"input":if(Yl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=fa(r);if(!s)throw Error(C(90));Pm(r),Yl(r,s)}}}break;case"textarea":Rm(e,n);break;case"select":t=n.value,t!=null&&Or(e,!!n.multiple,t,!1)}};Um=ed;zm=er;var Cb={usingClientEntryPoint:!1,Events:[bi,br,fa,Lm,$m,ed]},ws={findFiberByHostInstance:Fn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pb={bundleType:ws.bundleType,version:ws.version,rendererPackageName:ws.rendererPackageName,rendererConfig:ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vm(e),e===null?null:e.stateNode},findFiberByHostInstance:ws.findFiberByHostInstance||Eb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qi.isDisabled&&Qi.supportsFiber)try{ca=Qi.inject(Pb),Ot=Qi}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cb;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ad(t))throw Error(C(200));return Nb(e,t,null,n)};nt.createRoot=function(e,t){if(!ad(e))throw Error(C(299));var n=!1,r="",s=b0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=sd(e,1,!1,null,null,n,!1,r,s),e[qt]=t.current,ti(e.nodeType===8?e.parentNode:e),new od(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Vm(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return er(e)};nt.hydrate=function(e,t,n){if(!_a(t))throw Error(C(200));return Sa(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!ad(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=b0;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=w0(t,null,e,1,n??null,s,!1,i,o),e[qt]=t.current,ti(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ba(t)};nt.render=function(e,t,n){if(!_a(t))throw Error(C(200));return Sa(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!_a(e))throw Error(C(40));return e._reactRootContainer?(er(function(){Sa(null,null,e,!1,function(){e._reactRootContainer=null,e[qt]=null})}),!0):!1};nt.unstable_batchedUpdates=ed;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_a(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Sa(e,t,n,!1,r)};nt.version="18.3.1-next-f1338f8080-20240426";function _0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_0)}catch(e){console.error(e)}}_0(),_m.exports=nt;var Ab=_m.exports,pf=Ab;Wl.createRoot=pf.createRoot,Wl.hydrateRoot=pf.hydrateRoot;/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rb={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=(e,t,n,r)=>{const s=b.forwardRef(({color:i="currentColor",size:o=24,stroke:a=2,title:l,className:u,children:d,...h},f)=>b.createElement("svg",{ref:f,...Rb[e],width:o,height:o,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),strokeWidth:a,stroke:i,...h},[l&&b.createElement("title",{key:"svg-title"},l),...r.map(([m,v])=>b.createElement(m,v)),...Array.isArray(d)?d:[d]]));return s.displayName=`${n}`,s};/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],S0=G("outline","alert-circle","AlertCircle",Ob);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-0"}],["path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0",key:"svg-1"}],["path",{d:"M3 6l0 13",key:"svg-2"}],["path",{d:"M12 6l0 13",key:"svg-3"}],["path",{d:"M21 6l0 13",key:"svg-4"}]],k0=G("outline","book","Book",Ib);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M20.945 11a9 9 0 1 1 -3.284 -5.997l-2.655 2.392a5.5 5.5 0 1 0 2.119 6.605h-4.125v-3h7.945z",key:"svg-0"}]],Mb=G("outline","brand-google","BrandGoogle",Db);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M3 7m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M8 7v-2a2 2 0 0 1 2 -2h4a2 2 0 0 1 2 2v2",key:"svg-1"}],["path",{d:"M12 12l0 .01",key:"svg-2"}],["path",{d:"M3 13a20 20 0 0 0 18 0",key:"svg-3"}]],j0=G("outline","briefcase","Briefcase",Lb);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]],Ko=G("outline","calendar","Calendar",$b);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],zb=G("outline","check","Check",Ub);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]],Bb=G("outline","chevron-down","ChevronDown",Fb);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"M15 6l-6 6l6 6",key:"svg-0"}]],N0=G("outline","chevron-left","ChevronLeft",Vb);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M9 6l6 6l-6 6",key:"svg-0"}]],ld=G("outline","chevron-right","ChevronRight",Wb);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]],Jr=G("outline","clock","Clock",Kb);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M14.8 9a2 2 0 0 0 -1.8 -1h-2a2 2 0 1 0 0 4h2a2 2 0 1 1 0 4h-2a2 2 0 0 1 -1.8 -1",key:"svg-1"}],["path",{d:"M12 7v10",key:"svg-2"}]],cd=G("outline","coin","Coin",Hb);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const qb=[["path",{d:"M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2",key:"svg-0"}],["path",{d:"M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0",key:"svg-1"}],["path",{d:"M14 4l0 4l-6 0l0 -4",key:"svg-2"}]],Gb=G("outline","device-floppy","DeviceFloppy",qb);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]],Qb=G("outline","external-link","ExternalLink",Jb);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z",key:"svg-1"}],["path",{d:"M12 17v-6",key:"svg-2"}],["path",{d:"M9.5 14.5l2.5 2.5l2.5 -2.5",key:"svg-3"}]],mf=G("outline","file-download","FileDownload",Yb);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xb=[["path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]],Zb=G("outline","grip-vertical","GripVertical",Xb);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z",key:"svg-1"}]],ss=G("outline","map-pin","MapPin",e1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M3 20l1.3 -3.9c-2.324 -3.437 -1.426 -7.872 2.1 -10.374c3.526 -2.501 8.59 -2.296 11.845 .48c3.255 2.777 3.695 7.266 1.029 10.501c-2.666 3.235 -7.615 4.215 -11.574 2.293l-4.7 1",key:"svg-0"}]],E0=G("outline","message-circle","MessageCircle",t1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2",key:"svg-0"}]],T0=G("outline","phone","Phone",n1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]],s1=G("outline","photo","Photo",r1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5",key:"svg-0"}]],o1=G("outline","rotate","Rotate",i1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0",key:"svg-0"}],["path",{d:"M21 21l-6 -6",key:"svg-1"}]],l1=G("outline","search","Search",a1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M11.46 20.846a12 12 0 0 1 -7.96 -14.846a12 12 0 0 0 8.5 -3a12 12 0 0 0 8.5 3a12 12 0 0 1 -.09 7.06",key:"svg-0"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-1"}]],u1=G("outline","shield-check","ShieldCheck",c1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm0 -12a2 2 0 0 1 2 2a2 2 0 0 1 2 -2a2 2 0 0 1 -2 -2a2 2 0 0 1 -2 2zm-7 12a6 6 0 0 1 6 -6a6 6 0 0 1 -6 -6a6 6 0 0 1 -6 6a6 6 0 0 1 6 6z",key:"svg-0"}]],ud=G("outline","sparkles","Sparkles",d1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M12 17.75l-6.172 3.245l1.179 -6.873l-5 -4.867l6.9 -1l3.086 -6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z",key:"svg-0"}]],C0=G("outline","star","Star",h1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M3 17l6 -6l4 4l8 -8",key:"svg-0"}],["path",{d:"M14 7l7 0l0 7",key:"svg-1"}]],p1=G("outline","trending-up","TrendingUp",f1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]],g1=G("outline","upload","Upload",m1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M16 19h6",key:"svg-1"}],["path",{d:"M19 16v6",key:"svg-2"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4",key:"svg-3"}]],v1=G("outline","user-plus","UserPlus",y1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]],w1=G("outline","user","User",x1);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],is=G("outline","x","X",b1),dd=b.createContext({});function hd(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const ka=b.createContext(null),fd=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class _1 extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function S1({children:e,isPresent:t}){const n=b.useId(),r=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=b.useContext(fd);return b.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:u}=s.current;if(t||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),c.jsx(_1,{isPresent:t,childRef:r,sizeRef:s,children:b.cloneElement(e,{ref:r})})}const k1=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=hd(j1),l=b.useId(),u=b.useCallback(h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},[a,r]),d=b.useMemo(()=>({id:l,initial:t,isPresent:n,custom:s,onExitComplete:u,register:h=>(a.set(h,!1),()=>a.delete(h))}),i?[Math.random(),u]:[n,u]);return b.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),b.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=c.jsx(S1,{isPresent:n,children:e})),c.jsx(ka.Provider,{value:d,children:e})};function j1(){return new Map}function P0(e=!0){const t=b.useContext(ka);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,i=b.useId();b.useEffect(()=>{e&&s(i)},[e]);const o=b.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const Yi=e=>e.key||"";function gf(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const pd=typeof window<"u",A0=pd?b.useLayoutEffect:b.useEffect,Gn=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[a,l]=P0(o),u=b.useMemo(()=>gf(e),[e]),d=o&&!a?[]:u.map(Yi),h=b.useRef(!0),f=b.useRef(u),m=hd(()=>new Map),[v,x]=b.useState(u),[w,g]=b.useState(u);A0(()=>{h.current=!1,f.current=u;for(let _=0;_<w.length;_++){const k=Yi(w[_]);d.includes(k)?m.delete(k):m.get(k)!==!0&&m.set(k,!1)}},[w,d.length,d.join("-")]);const p=[];if(u!==v){let _=[...u];for(let k=0;k<w.length;k++){const N=w[k],S=Yi(N);d.includes(S)||(_.splice(k,0,N),p.push(N))}i==="wait"&&p.length&&(_=p),g(gf(_)),x(u);return}const{forceRender:y}=b.useContext(dd);return c.jsx(c.Fragment,{children:w.map(_=>{const k=Yi(_),N=o&&!a?!1:u===w||d.includes(k),S=()=>{if(m.has(k))m.set(k,!0);else return;let j=!0;m.forEach(P=>{P||(j=!1)}),j&&(y==null||y(),g(f.current),o&&(l==null||l()),r&&r())};return c.jsx(k1,{isPresent:N,initial:!h.current||n?void 0:!1,custom:N?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:N?void 0:S,children:_},k)})})},Ze=e=>e;let R0=Ze;function md(e){let t;return()=>(t===void 0&&(t=e()),t)}const Qr=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Wt=e=>e*1e3,Kt=e=>e/1e3,N1={useManualTiming:!1};function E1(e){let t=new Set,n=new Set,r=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){i.has(u)&&(l.schedule(u),e()),u(o)}const l={schedule:(u,d=!1,h=!1)=>{const m=h&&r?t:n;return d&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,r){s=!0;return}r=!0,[t,n]=[n,t],t.forEach(a),t.clear(),r=!1,s&&(s=!1,l.process(u))}};return l}const Xi=["read","resolveKeyframes","update","preRender","render","postRender"],T1=40;function O0(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Xi.reduce((g,p)=>(g[p]=E1(i),g),{}),{read:a,resolveKeyframes:l,update:u,preRender:d,render:h,postRender:f}=o,m=()=>{const g=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,T1),1),s.timestamp=g,s.isProcessing=!0,a.process(s),l.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(m))},v=()=>{n=!0,r=!0,s.isProcessing||e(m)};return{schedule:Xi.reduce((g,p)=>{const y=o[p];return g[p]=(_,k=!1,N=!1)=>(n||v(),y.schedule(_,k,N)),g},{}),cancel:g=>{for(let p=0;p<Xi.length;p++)o[Xi[p]].cancel(g)},state:s,steps:o}}const{schedule:Z,cancel:bn,state:Ee,steps:gl}=O0(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ze,!0),I0=b.createContext({strict:!1}),yf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yr={};for(const e in yf)Yr[e]={isEnabled:t=>yf[e].some(n=>!!t[n])};function C1(e){for(const t in e)Yr[t]={...Yr[t],...e[t]}}const P1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ho(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||P1.has(e)}let D0=e=>!Ho(e);function A1(e){e&&(D0=t=>t.startsWith("on")?!Ho(t):e(t))}try{A1(require("@emotion/is-prop-valid").default)}catch{}function R1(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(D0(s)||n===!0&&Ho(s)||!t&&!Ho(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function O1(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const ja=b.createContext({});function ui(e){return typeof e=="string"||Array.isArray(e)}function Na(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const gd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yd=["initial",...gd];function Ea(e){return Na(e.animate)||yd.some(t=>ui(e[t]))}function M0(e){return!!(Ea(e)||e.variants)}function I1(e,t){if(Ea(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ui(n)?n:void 0,animate:ui(r)?r:void 0}}return e.inherit!==!1?t:{}}function D1(e){const{initial:t,animate:n}=I1(e,b.useContext(ja));return b.useMemo(()=>({initial:t,animate:n}),[vf(t),vf(n)])}function vf(e){return Array.isArray(e)?e.join(" "):e}const M1=Symbol.for("motionComponentSymbol");function Tr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function L1(e,t,n){return b.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Tr(n)&&(n.current=r))},[t])}const vd=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$1="framerAppearId",L0="data-"+vd($1),{schedule:xd}=O0(queueMicrotask,!1),$0=b.createContext({});function U1(e,t,n,r,s){var i,o;const{visualElement:a}=b.useContext(ja),l=b.useContext(I0),u=b.useContext(ka),d=b.useContext(fd).reducedMotion,h=b.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=b.useContext($0);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&z1(h.current,n,s,m);const v=b.useRef(!1);b.useInsertionEffect(()=>{f&&v.current&&f.update(n,u)});const x=n[L0],w=b.useRef(!!x&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return A0(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),xd.render(f.render),w.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)===null||g===void 0||g.call(window,x)}),w.current=!1))}),f}function z1(e,t,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:U0(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Tr(a),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:u})}function U0(e){if(e)return e.options.allowProjection!==!1?e.projection:U0(e.parent)}function F1({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){var i,o;e&&C1(e);function a(u,d){let h;const f={...b.useContext(fd),...u,layoutId:B1(u)},{isStatic:m}=f,v=D1(u),x=r(u,m);if(!m&&pd){V1();const w=W1(f);h=w.MeasureLayout,v.visualElement=U1(s,x,f,t,w.ProjectionNode)}return c.jsxs(ja.Provider,{value:v,children:[h&&v.visualElement?c.jsx(h,{visualElement:v.visualElement,...f}):null,n(s,u,L1(x,v.visualElement,d),x,m,v.visualElement)]})}a.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const l=b.forwardRef(a);return l[M1]=s,l}function B1({layoutId:e}){const t=b.useContext(dd).id;return t&&e!==void 0?t+"-"+e:e}function V1(e,t){b.useContext(I0).strict}function W1(e){const{drag:t,layout:n}=Yr;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const K1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wd(e){return typeof e!="string"||e.includes("-")?!1:!!(K1.indexOf(e)>-1||/[A-Z]/u.test(e))}function xf(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function bd(e,t,n,r){if(typeof t=="function"){const[s,i]=xf(r);t=t(n!==void 0?n:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=xf(r);t=t(n!==void 0?n:e.custom,s,i)}return t}const Lc=e=>Array.isArray(e),H1=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),q1=e=>Lc(e)?e[e.length-1]||0:e,Ie=e=>!!(e&&e.getVelocity);function vo(e){const t=Ie(e)?e.get():e;return H1(t)?t.toValue():t}function G1({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,s,i){const o={latestValues:J1(r,s,i,e),renderState:t()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const z0=e=>(t,n)=>{const r=b.useContext(ja),s=b.useContext(ka),i=()=>G1(e,t,r,s);return n?i():hd(i)};function J1(e,t,n,r){const s={},i=r(e,{});for(const f in i)s[f]=vo(i[f]);let{initial:o,animate:a}=e;const l=Ea(e),u=M0(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const h=d?a:o;if(h&&typeof h!="boolean"&&!Na(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const v=bd(e,f[m]);if(v){const{transitionEnd:x,transition:w,...g}=v;for(const p in g){let y=g[p];if(Array.isArray(y)){const _=d?y.length-1:0;y=y[_]}y!==null&&(s[p]=y)}for(const p in x)s[p]=x[p]}}}return s}const os=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],rr=new Set(os),F0=e=>t=>typeof t=="string"&&t.startsWith(e),B0=F0("--"),Q1=F0("var(--"),_d=e=>Q1(e)?Y1.test(e.split("/*")[0].trim()):!1,Y1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,V0=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Qt=(e,t,n)=>n>t?t:n<e?e:n,as={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},di={...as,transform:e=>Qt(0,1,e)},Zi={...as,default:1},Si=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),tn=Si("deg"),Dt=Si("%"),U=Si("px"),X1=Si("vh"),Z1=Si("vw"),wf={...Dt,parse:e=>Dt.parse(e)/100,transform:e=>Dt.transform(e*100)},e_={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,backgroundPositionX:U,backgroundPositionY:U},t_={rotate:tn,rotateX:tn,rotateY:tn,rotateZ:tn,scale:Zi,scaleX:Zi,scaleY:Zi,scaleZ:Zi,skew:tn,skewX:tn,skewY:tn,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:di,originX:wf,originY:wf,originZ:U},bf={...as,transform:Math.round},Sd={...e_,...t_,zIndex:bf,size:U,fillOpacity:di,strokeOpacity:di,numOctaves:bf},n_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},r_=os.length;function s_(e,t,n){let r="",s=!0;for(let i=0;i<r_;i++){const o=os[i],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=V0(a,Sd[o]);if(!l){s=!1;const d=n_[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function kd(e,t,n){const{style:r,vars:s,transformOrigin:i}=e;let o=!1,a=!1;for(const l in t){const u=t[l];if(rr.has(l)){o=!0;continue}else if(B0(l)){s[l]=u;continue}else{const d=V0(u,Sd[l]);l.startsWith("origin")?(a=!0,i[l]=d):r[l]=d}}if(t.transform||(o||n?r.transform=s_(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=i;r.transformOrigin=`${l} ${u} ${d}`}}const i_={offset:"stroke-dashoffset",array:"stroke-dasharray"},o_={offset:"strokeDashoffset",array:"strokeDasharray"};function a_(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?i_:o_;e[i.offset]=U.transform(-r);const o=U.transform(t),a=U.transform(n);e[i.array]=`${o} ${a}`}function _f(e,t,n){return typeof e=="string"?e:U.transform(t+n*e)}function l_(e,t,n){const r=_f(t,e.x,e.width),s=_f(n,e.y,e.height);return`${r} ${s}`}function jd(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},d,h){if(kd(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:v}=e;f.transform&&(v&&(m.transform=f.transform),delete f.transform),v&&(s!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=l_(v,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),o!==void 0&&a_(f,o,a,l,!1)}const Nd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),W0=()=>({...Nd(),attrs:{}}),Ed=e=>typeof e=="string"&&e.toLowerCase()==="svg";function K0(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const H0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function q0(e,t,n,r){K0(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(H0.has(s)?s:vd(s),t.attrs[s])}const qo={};function c_(e){Object.assign(qo,e)}function G0(e,{layout:t,layoutId:n}){return rr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!qo[e]||e==="opacity")}function Td(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(Ie(s[o])||t.style&&Ie(t.style[o])||G0(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function J0(e,t,n){const r=Td(e,t,n);for(const s in e)if(Ie(e[s])||Ie(t[s])){const i=os.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=e[s]}return r}function u_(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Sf=["x","y","width","height","cx","cy","r"],d_={useVisualState:z0({scrapeMotionValuesFromProps:J0,createRenderState:W0,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:s})=>{if(!n)return;let i=!!e.drag;if(!i){for(const a in s)if(rr.has(a)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let a=0;a<Sf.length;a++){const l=Sf[a];e[l]!==t[l]&&(o=!0)}o&&Z.read(()=>{u_(n,r),Z.render(()=>{jd(r,s,Ed(n.tagName),e.transformTemplate),q0(n,r)})})}})},h_={useVisualState:z0({scrapeMotionValuesFromProps:Td,createRenderState:Nd})};function Q0(e,t,n){for(const r in t)!Ie(t[r])&&!G0(r,n)&&(e[r]=t[r])}function f_({transformTemplate:e},t){return b.useMemo(()=>{const n=Nd();return kd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function p_(e,t){const n=e.style||{},r={};return Q0(r,n,e),Object.assign(r,f_(e,t)),r}function m_(e,t){const n={},r=p_(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function g_(e,t,n,r){const s=b.useMemo(()=>{const i=W0();return jd(i,t,Ed(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Q0(i,e.style,e),s.style={...i,...s.style}}return s}function y_(e=!1){return(n,r,s,{latestValues:i},o)=>{const l=(wd(n)?g_:m_)(r,i,o,n),u=R1(r,typeof n=="string",e),d=n!==b.Fragment?{...u,...l,ref:s}:{},{children:h}=r,f=b.useMemo(()=>Ie(h)?h.get():h,[h]);return b.createElement(n,{...d,children:f})}}function v_(e,t){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...wd(r)?d_:h_,preloadedFeatures:e,useRender:y_(s),createVisualElement:t,Component:r};return F1(o)}}function Y0(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Ta(e,t,n){const r=e.getProps();return bd(r,t,n!==void 0?n:r.custom,e)}const x_=md(()=>window.ScrollTimeline!==void 0);class w_{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(s=>{if(x_()&&s.attachTimeline)return s.attachTimeline(t);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class b_ extends w_{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Cd(e,t){return e?e[t]||e.default||e:void 0}const $c=2e4;function X0(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<$c;)t+=n,r=e.next(t);return t>=$c?1/0:t}function Pd(e){return typeof e=="function"}function kf(e,t){e.timeline=t,e.onfinish=null}const Ad=e=>Array.isArray(e)&&typeof e[0]=="number",__={linearEasing:void 0};function S_(e,t){const n=md(e);return()=>{var r;return(r=__[t])!==null&&r!==void 0?r:n()}}const Go=S_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Z0=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let i=0;i<s;i++)r+=e(Qr(0,s-1,i))+", ";return`linear(${r.substring(0,r.length-2)})`};function ey(e){return!!(typeof e=="function"&&Go()||!e||typeof e=="string"&&(e in Uc||Go())||Ad(e)||Array.isArray(e)&&e.every(ey))}const Es=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Uc={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Es([0,.65,.55,1]),circOut:Es([.55,0,1,.45]),backIn:Es([.31,.01,.66,-.59]),backOut:Es([.33,1.53,.69,.99])};function ty(e,t){if(e)return typeof e=="function"&&Go()?Z0(e,t):Ad(e)?Es(e):Array.isArray(e)?e.map(n=>ty(n,t)||Uc.easeOut):Uc[e]}const xt={x:!1,y:!1};function ny(){return xt.x||xt.y}function k_(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function ry(e,t){const n=k_(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function jf(e){return t=>{t.pointerType==="touch"||ny()||e(t)}}function j_(e,t,n={}){const[r,s,i]=ry(e,n),o=jf(a=>{const{target:l}=a,u=t(a);if(typeof u!="function"||!l)return;const d=jf(h=>{u(h),l.removeEventListener("pointerleave",d)});l.addEventListener("pointerleave",d,s)});return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const sy=(e,t)=>t?e===t?!0:sy(e,t.parentElement):!1,Rd=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,N_=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function E_(e){return N_.has(e.tagName)||e.tabIndex!==-1}const Ts=new WeakSet;function Nf(e){return t=>{t.key==="Enter"&&e(t)}}function yl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const T_=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Nf(()=>{if(Ts.has(n))return;yl(n,"down");const s=Nf(()=>{yl(n,"up")}),i=()=>yl(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Ef(e){return Rd(e)&&!ny()}function C_(e,t,n={}){const[r,s,i]=ry(e,n),o=a=>{const l=a.currentTarget;if(!Ef(a)||Ts.has(l))return;Ts.add(l);const u=t(a),d=(m,v)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Ef(m)||!Ts.has(l))&&(Ts.delete(l),typeof u=="function"&&u(m,{success:v}))},h=m=>{d(m,n.useGlobalTarget||sy(l,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{!E_(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),a.addEventListener("focus",u=>T_(u,s),s)}),i}function P_(e){return e==="x"||e==="y"?xt[e]?null:(xt[e]=!0,()=>{xt[e]=!1}):xt.x||xt.y?null:(xt.x=xt.y=!0,()=>{xt.x=xt.y=!1})}const iy=new Set(["width","height","top","left","right","bottom",...os]);let xo;function A_(){xo=void 0}const Mt={now:()=>(xo===void 0&&Mt.set(Ee.isProcessing||N1.useManualTiming?Ee.timestamp:performance.now()),xo),set:e=>{xo=e,queueMicrotask(A_)}};function Od(e,t){e.indexOf(t)===-1&&e.push(t)}function Id(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Dd{constructor(){this.subscriptions=[]}add(t){return Od(this.subscriptions,t),()=>Id(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function oy(e,t){return t?e*(1e3/t):0}const Tf=30,R_=e=>!isNaN(parseFloat(e));class O_{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const i=Mt.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Mt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=R_(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Dd);const r=this.events[t].add(n);return t==="change"?()=>{r(),Z.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Mt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Tf)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Tf);return oy(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hi(e,t){return new O_(e,t)}function I_(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,hi(n))}function D_(e,t){const n=Ta(e,t);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=q1(i[o]);I_(e,o,a)}}function M_(e){return!!(Ie(e)&&e.add)}function zc(e,t){const n=e.getValue("willChange");if(M_(n))return n.add(t)}function ay(e){return e.props[L0]}const ly=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,L_=1e-7,$_=12;function U_(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=ly(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>L_&&++a<$_);return o}function ki(e,t,n,r){if(e===t&&n===r)return Ze;const s=i=>U_(i,0,1,e,n);return i=>i===0||i===1?i:ly(s(i),t,r)}const cy=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,uy=e=>t=>1-e(1-t),dy=ki(.33,1.53,.69,.99),Md=uy(dy),hy=cy(Md),fy=e=>(e*=2)<1?.5*Md(e):.5*(2-Math.pow(2,-10*(e-1))),Ld=e=>1-Math.sin(Math.acos(e)),py=uy(Ld),my=cy(Ld),gy=e=>/^0[^.\s]+$/u.test(e);function z_(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||gy(e):!0}const zs=e=>Math.round(e*1e5)/1e5,$d=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function F_(e){return e==null}const B_=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ud=(e,t)=>n=>!!(typeof n=="string"&&B_.test(n)&&n.startsWith(e)||t&&!F_(n)&&Object.prototype.hasOwnProperty.call(n,t)),yy=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match($d);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},V_=e=>Qt(0,255,e),vl={...as,transform:e=>Math.round(V_(e))},Wn={test:Ud("rgb","red"),parse:yy("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+vl.transform(e)+", "+vl.transform(t)+", "+vl.transform(n)+", "+zs(di.transform(r))+")"};function W_(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Fc={test:Ud("#"),parse:W_,transform:Wn.transform},Cr={test:Ud("hsl","hue"),parse:yy("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Dt.transform(zs(t))+", "+Dt.transform(zs(n))+", "+zs(di.transform(r))+")"},Re={test:e=>Wn.test(e)||Fc.test(e)||Cr.test(e),parse:e=>Wn.test(e)?Wn.parse(e):Cr.test(e)?Cr.parse(e):Fc.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Wn.transform(e):Cr.transform(e)},K_=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function H_(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match($d))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(K_))===null||n===void 0?void 0:n.length)||0)>0}const vy="number",xy="color",q_="var",G_="var(",Cf="${}",J_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fi(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=t.replace(J_,l=>(Re.test(l)?(r.color.push(i),s.push(xy),n.push(Re.parse(l))):l.startsWith(G_)?(r.var.push(i),s.push(q_),n.push(l)):(r.number.push(i),s.push(vy),n.push(parseFloat(l))),++i,Cf)).split(Cf);return{values:n,split:a,indexes:r,types:s}}function wy(e){return fi(e).values}function by(e){const{split:t,types:n}=fi(e),r=t.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],s[o]!==void 0){const a=n[o];a===vy?i+=zs(s[o]):a===xy?i+=Re.transform(s[o]):i+=s[o]}return i}}const Q_=e=>typeof e=="number"?0:e;function Y_(e){const t=wy(e);return by(e)(t.map(Q_))}const _n={test:H_,parse:wy,createTransformer:by,getAnimatableNone:Y_},X_=new Set(["brightness","contrast","saturate","opacity"]);function Z_(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match($d)||[];if(!r)return e;const s=n.replace(r,"");let i=X_.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const eS=/\b([a-z-]*)\(.*?\)/gu,Bc={..._n,getAnimatableNone:e=>{const t=e.match(eS);return t?t.map(Z_).join(" "):e}},tS={...Sd,color:Re,backgroundColor:Re,outlineColor:Re,fill:Re,stroke:Re,borderColor:Re,borderTopColor:Re,borderRightColor:Re,borderBottomColor:Re,borderLeftColor:Re,filter:Bc,WebkitFilter:Bc},zd=e=>tS[e];function _y(e,t){let n=zd(e);return n!==Bc&&(n=_n),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const nS=new Set(["auto","none","0"]);function rS(e,t,n){let r=0,s;for(;r<e.length&&!s;){const i=e[r];typeof i=="string"&&!nS.has(i)&&fi(i).values.length&&(s=e[r]),r++}if(s&&n)for(const i of t)e[i]=_y(n,s)}const Pf=e=>e===as||e===U,Af=(e,t)=>parseFloat(e.split(", ")[t]),Rf=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return Af(s[1],t);{const i=r.match(/^matrix\((.+)\)$/u);return i?Af(i[1],e):0}},sS=new Set(["x","y","z"]),iS=os.filter(e=>!sS.has(e));function oS(e){const t=[];return iS.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Xr={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Rf(4,13),y:Rf(5,14)};Xr.translateX=Xr.x;Xr.translateY=Xr.y;const Jn=new Set;let Vc=!1,Wc=!1;function Sy(){if(Wc){const e=Array.from(Jn).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=oS(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))===null||a===void 0||a.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Wc=!1,Vc=!1,Jn.forEach(e=>e.complete()),Jn.clear()}function ky(){Jn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Wc=!0)})}function aS(){ky(),Sy()}class Fd{constructor(t,n,r,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Jn.add(this),Vc||(Vc=!0,Z.read(ky),Z.resolveKeyframes(Sy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),a=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Jn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Jn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const jy=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),lS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cS(e){const t=lS.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function Ny(e,t,n=1){const[r,s]=cS(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return jy(o)?parseFloat(o):o}return _d(s)?Ny(s,t,n+1):s}const Ey=e=>t=>t.test(e),uS={test:e=>e==="auto",parse:e=>e},Ty=[as,U,Dt,tn,Z1,X1,uS],Of=e=>Ty.find(Ey(e));class Cy extends Fd{constructor(t,n,r,s,i){super(t,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),_d(u))){const d=Ny(u,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!iy.has(r)||t.length!==2)return;const[s,i]=t,o=Of(s),a=Of(i);if(o!==a)if(Pf(o)&&Pf(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)z_(t[s])&&r.push(s);r.length&&rS(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const i=n.getValue(r);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,a=s[o];s[o]=Xr[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([l,u])=>{n.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const If=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_n.test(e)||e==="0")&&!e.startsWith("url("));function dS(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function hS(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=If(s,t),a=If(i,t);return!o||!a?!1:dS(e)||(n==="spring"||Pd(n))&&r}const fS=e=>e!==null;function Ca(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(fS),i=t&&n!=="loop"&&t%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const pS=40;class Py{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Mt.now(),this.options={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pS?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&aS(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Mt.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:i,delay:o,onComplete:a,onUpdate:l,isGenerator:u}=this.options;if(!u&&!hS(t,r,s,i))if(o)this.options.duration=0;else{l&&l(Ca(t,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const re=(e,t,n)=>e+(t-e)*n;function xl(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function mS({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=xl(l,a,e+1/3),i=xl(l,a,e),o=xl(l,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function Jo(e,t){return n=>n>0?t:e}const wl=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},gS=[Fc,Wn,Cr],yS=e=>gS.find(t=>t.test(e));function Df(e){const t=yS(e);if(!t)return!1;let n=t.parse(e);return t===Cr&&(n=mS(n)),n}const Mf=(e,t)=>{const n=Df(e),r=Df(t);if(!n||!r)return Jo(e,t);const s={...n};return i=>(s.red=wl(n.red,r.red,i),s.green=wl(n.green,r.green,i),s.blue=wl(n.blue,r.blue,i),s.alpha=re(n.alpha,r.alpha,i),Wn.transform(s))},vS=(e,t)=>n=>t(e(n)),ji=(...e)=>e.reduce(vS),Kc=new Set(["none","hidden"]);function xS(e,t){return Kc.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function wS(e,t){return n=>re(e,t,n)}function Bd(e){return typeof e=="number"?wS:typeof e=="string"?_d(e)?Jo:Re.test(e)?Mf:SS:Array.isArray(e)?Ay:typeof e=="object"?Re.test(e)?Mf:bS:Jo}function Ay(e,t){const n=[...e],r=n.length,s=e.map((i,o)=>Bd(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function bS(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=Bd(e[s])(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function _S(e,t){var n;const r=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],a=e.indexes[o][s[o]],l=(n=e.values[a])!==null&&n!==void 0?n:0;r[i]=l,s[o]++}return r}const SS=(e,t)=>{const n=_n.createTransformer(t),r=fi(e),s=fi(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Kc.has(e)&&!s.values.length||Kc.has(t)&&!r.values.length?xS(e,t):ji(Ay(_S(r,s),s.values),n):Jo(e,t)};function Ry(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?re(e,t,n):Bd(e)(e,t)}const kS=5;function Oy(e,t,n){const r=Math.max(t-kS,0);return oy(n-e(r),t-r)}const ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bl=.001;function jS({duration:e=ce.duration,bounce:t=ce.bounce,velocity:n=ce.velocity,mass:r=ce.mass}){let s,i,o=1-t;o=Qt(ce.minDamping,ce.maxDamping,o),e=Qt(ce.minDuration,ce.maxDuration,Kt(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-n,m=Hc(u,o),v=Math.exp(-h);return bl-f/m*v},i=u=>{const h=u*o*e,f=h*n+n,m=Math.pow(o,2)*Math.pow(u,2)*e,v=Math.exp(-h),x=Hc(Math.pow(u,2),o);return(-s(u)+bl>0?-1:1)*((f-m)*v)/x}):(s=u=>{const d=Math.exp(-u*e),h=(u-n)*e+1;return-bl+d*h},i=u=>{const d=Math.exp(-u*e),h=(n-u)*(e*e);return d*h});const a=5/e,l=ES(s,i,a);if(e=Wt(e),isNaN(l))return{stiffness:ce.stiffness,damping:ce.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const NS=12;function ES(e,t,n){let r=n;for(let s=1;s<NS;s++)r=r-e(r)/t(r);return r}function Hc(e,t){return e*Math.sqrt(1-t*t)}const TS=["duration","bounce"],CS=["stiffness","damping","mass"];function Lf(e,t){return t.some(n=>e[n]!==void 0)}function PS(e){let t={velocity:ce.velocity,stiffness:ce.stiffness,damping:ce.damping,mass:ce.mass,isResolvedFromDuration:!1,...e};if(!Lf(e,CS)&&Lf(e,TS))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Qt(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:ce.mass,stiffness:s,damping:i}}else{const n=jS(e);t={...t,...n,mass:ce.mass},t.isResolvedFromDuration=!0}return t}function Iy(e=ce.visualDuration,t=ce.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=PS({...n,velocity:-Kt(n.velocity||0)}),v=f||0,x=u/(2*Math.sqrt(l*d)),w=o-i,g=Kt(Math.sqrt(l/d)),p=Math.abs(w)<5;r||(r=p?ce.restSpeed.granular:ce.restSpeed.default),s||(s=p?ce.restDelta.granular:ce.restDelta.default);let y;if(x<1){const k=Hc(g,x);y=N=>{const S=Math.exp(-x*g*N);return o-S*((v+x*g*w)/k*Math.sin(k*N)+w*Math.cos(k*N))}}else if(x===1)y=k=>o-Math.exp(-g*k)*(w+(v+g*w)*k);else{const k=g*Math.sqrt(x*x-1);y=N=>{const S=Math.exp(-x*g*N),j=Math.min(k*N,300);return o-S*((v+x*g*w)*Math.sinh(j)+k*w*Math.cosh(j))/k}}const _={calculatedDuration:m&&h||null,next:k=>{const N=y(k);if(m)a.done=k>=h;else{let S=0;x<1&&(S=k===0?Wt(v):Oy(y,k,N));const j=Math.abs(S)<=r,P=Math.abs(o-N)<=s;a.done=j&&P}return a.value=a.done?o:N,a},toString:()=>{const k=Math.min(X0(_),$c),N=Z0(S=>_.next(k*S).value,k,30);return k+"ms "+N}};return _}function $f({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=j=>a!==void 0&&j<a||l!==void 0&&j>l,v=j=>a===void 0?l:l===void 0||Math.abs(a-j)<Math.abs(l-j)?a:l;let x=n*t;const w=h+x,g=o===void 0?w:o(w);g!==w&&(x=g-h);const p=j=>-x*Math.exp(-j/r),y=j=>g+p(j),_=j=>{const P=p(j),O=y(j);f.done=Math.abs(P)<=u,f.value=f.done?g:O};let k,N;const S=j=>{m(f.value)&&(k=j,N=Iy({keyframes:[f.value,v(f.value)],velocity:Oy(y,j,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:j=>{let P=!1;return!N&&k===void 0&&(P=!0,_(j),S(j)),k!==void 0&&j>=k?N.next(j-k):(!P&&_(j),f)}}}const AS=ki(.42,0,1,1),RS=ki(0,0,.58,1),Dy=ki(.42,0,.58,1),OS=e=>Array.isArray(e)&&typeof e[0]!="number",IS={linear:Ze,easeIn:AS,easeInOut:Dy,easeOut:RS,circIn:Ld,circInOut:my,circOut:py,backIn:Md,backInOut:hy,backOut:dy,anticipate:fy},Uf=e=>{if(Ad(e)){R0(e.length===4);const[t,n,r,s]=e;return ki(t,n,r,s)}else if(typeof e=="string")return IS[e];return e};function DS(e,t,n){const r=[],s=n||Ry,i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Ze:t;a=ji(l,a)}r.push(a)}return r}function MS(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(R0(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=DS(t,r,s),l=a.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=Qr(e[h],e[h+1],d);return a[h](f)};return n?d=>u(Qt(e[0],e[i-1],d)):u}function LS(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Qr(0,t,r);e.push(re(n,1,s))}}function $S(e){const t=[0];return LS(t,e.length-1),t}function US(e,t){return e.map(n=>n*t)}function zS(e,t){return e.map(()=>t||Dy).splice(0,e.length-1)}function Qo({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=OS(r)?r.map(Uf):Uf(r),i={done:!1,value:t[0]},o=US(n&&n.length===t.length?n:$S(t),e),a=MS(o,t,{ease:Array.isArray(s)?s:zS(t,s)});return{calculatedDuration:e,next:l=>(i.value=a(l),i.done=l>=e,i)}}const FS=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Z.update(t,!0),stop:()=>bn(t),now:()=>Ee.isProcessing?Ee.timestamp:Mt.now()}},BS={decay:$f,inertia:$f,tween:Qo,keyframes:Qo,spring:Iy},VS=e=>e/100;class Vd extends Py{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Fd,a=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new o(i,a,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,a=Pd(n)?n:BS[n]||Qo;let l,u;a!==Qo&&typeof t[0]!="number"&&(l=ji(VS,Ry(t[0],t[1])),t=[0,100]);const d=a({...this.options,keyframes:t});i==="mirror"&&(u=a({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=X0(d));const{calculatedDuration:h}=d,f=h+s,m=f*(r+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:j}=this.options;return{done:!0,value:j[j.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=r;if(this.startTime===null)return i.next(0);const{delay:f,repeat:m,repeatType:v,repeatDelay:x,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const g=this.currentTime-f*(this.speed>=0?1:-1),p=this.speed>=0?g<0:g>d;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let y=this.currentTime,_=i;if(m){const j=Math.min(this.currentTime,d)/h;let P=Math.floor(j),O=j%1;!O&&j>=1&&(O=1),O===1&&P--,P=Math.min(P,m+1),!!(P%2)&&(v==="reverse"?(O=1-O,x&&(O-=x/h)):v==="mirror"&&(_=o)),y=Qt(0,1,O)*h}const k=p?{done:!1,value:l[0]}:_.next(y);a&&(k.value=a(k.value));let{done:N}=k;!p&&u!==null&&(N=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return S&&s!==void 0&&(k.value=Ca(l,this.options,s)),w&&w(k.value),S&&this.finish(),k}get duration(){const{resolved:t}=this;return t?Kt(t.calculatedDuration):0}get time(){return Kt(this.currentTime)}set time(t){t=Wt(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Kt(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=FS,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const WS=new Set(["opacity","clipPath","filter","transform"]);function KS(e,t,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=ty(a,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const HS=md(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Yo=10,qS=2e4;function GS(e){return Pd(e.type)||e.type==="spring"||!ey(e.ease)}function JS(e,t){const n=new Vd({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const s=[];let i=0;for(;!r.done&&i<qS;)r=n.sample(i),s.push(r.value),i+=Yo;return{times:void 0,keyframes:s,duration:i-Yo,ease:"linear"}}const My={anticipate:fy,backInOut:hy,circInOut:my};function QS(e){return e in My}class zf extends Py{constructor(t){super(t);const{name:n,motionValue:r,element:s,keyframes:i}=this.options;this.resolver=new Cy(i,(o,a)=>this.onKeyframesResolved(o,a),n,r,s),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:s,ease:i,type:o,motionValue:a,name:l,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof i=="string"&&Go()&&QS(i)&&(i=My[i]),GS(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:v,...x}=this.options,w=JS(t,x);t=w.keyframes,t.length===1&&(t[1]=t[0]),r=w.duration,s=w.times,i=w.ease,o="keyframes"}const d=KS(a.owner.current,l,t,{...this.options,duration:r,times:s,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(kf(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;a.set(Ca(t,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Kt(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Kt(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Wt(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Ze;const{animation:r}=n;kf(r,t)}return Ze}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:s,type:i,ease:o,times:a}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...m}=this.options,v=new Vd({...m,keyframes:r,duration:s,type:i,ease:o,times:a,isGenerator:!0}),x=Wt(this.time);u.setWithVelocity(v.sample(x-Yo).value,v.sample(x).value,Yo)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:s,repeatType:i,damping:o,type:a}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=n.owner.getProps();return HS()&&r&&WS.has(r)&&!l&&!u&&!s&&i!=="mirror"&&o!==0&&a!=="inertia"}}const YS={type:"spring",stiffness:500,damping:25,restSpeed:10},XS=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ZS={type:"keyframes",duration:.8},ek={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tk=(e,{keyframes:t})=>t.length>2?ZS:rr.has(e)?e.startsWith("scale")?XS(t[1]):YS:ek;function nk({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const Wd=(e,t,n,r={},s,i)=>o=>{const a=Cd(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Wt(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:i?void 0:s};nk(a)||(d={...d,...tk(e,d)}),d.duration&&(d.duration=Wt(d.duration)),d.repeatDelay&&(d.repeatDelay=Wt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&t.get()!==void 0){const f=Ca(d.keyframes,a);if(f!==void 0)return Z.update(()=>{d.onUpdate(f),d.onComplete()}),new b_([])}return!i&&zf.supports(d)?new zf(d):new Vd(d)};function rk({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Ly(e,t,{delay:n=0,transitionOverride:r,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:a,...l}=t;r&&(o=r);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in l){const f=e.getValue(h,(i=e.latestValues[h])!==null&&i!==void 0?i:null),m=l[h];if(m===void 0||d&&rk(d,h))continue;const v={delay:n,...Cd(o||{},h)};let x=!1;if(window.MotionHandoffAnimation){const g=ay(e);if(g){const p=window.MotionHandoffAnimation(g,h,Z);p!==null&&(v.startTime=p,x=!0)}}zc(e,h),f.start(Wd(h,f,m,e.shouldReduceMotion&&iy.has(h)?{type:!1}:v,e,x));const w=f.animation;w&&u.push(w)}return a&&Promise.all(u).then(()=>{Z.update(()=>{a&&D_(e,a)})}),u}function qc(e,t,n={}){var r;const s=Ta(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const o=s?()=>Promise.all(Ly(e,s,n)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=i;return sk(e,t,d+u,h,f,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[o,a]:[a,o];return u().then(()=>d())}else return Promise.all([o(),a(n.delay)])}function sk(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,l=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(ik).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(qc(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function ik(e,t){return e.sortNodePosition(t)}function ok(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>qc(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=qc(e,t,n);else{const s=typeof t=="function"?Ta(e,t,n.custom):t;r=Promise.all(Ly(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const ak=yd.length;function $y(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?$y(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<ak;n++){const r=yd[n],s=e.props[r];(ui(s)||s===!1)&&(t[r]=s)}return t}const lk=[...gd].reverse(),ck=gd.length;function uk(e){return t=>Promise.all(t.map(({animation:n,options:r})=>ok(e,n,r)))}function dk(e){let t=uk(e),n=Ff(),r=!0;const s=l=>(u,d)=>{var h;const f=Ta(e,d,l==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:v,...x}=f;u={...u,...x,...v}}return u};function i(l){t=l(e)}function o(l){const{props:u}=e,d=$y(e.parent)||{},h=[],f=new Set;let m={},v=1/0;for(let w=0;w<ck;w++){const g=lk[w],p=n[g],y=u[g]!==void 0?u[g]:d[g],_=ui(y),k=g===l?p.isActive:null;k===!1&&(v=w);let N=y===d[g]&&y!==u[g]&&_;if(N&&r&&e.manuallyAnimateOnMount&&(N=!1),p.protectedKeys={...m},!p.isActive&&k===null||!y&&!p.prevProp||Na(y)||typeof y=="boolean")continue;const S=hk(p.prevProp,y);let j=S||g===l&&p.isActive&&!N&&_||w>v&&_,P=!1;const O=Array.isArray(y)?y:[y];let B=O.reduce(s(g),{});k===!1&&(B={});const{prevResolvedValues:H={}}=p,ee={...H,...B},ae=T=>{j=!0,f.has(T)&&(P=!0,f.delete(T)),p.needsAnimating[T]=!0;const E=e.getValue(T);E&&(E.liveStyle=!1)};for(const T in ee){const E=B[T],R=H[T];if(m.hasOwnProperty(T))continue;let D=!1;Lc(E)&&Lc(R)?D=!Y0(E,R):D=E!==R,D?E!=null?ae(T):f.add(T):E!==void 0&&f.has(T)?ae(T):p.protectedKeys[T]=!0}p.prevProp=y,p.prevResolvedValues=B,p.isActive&&(m={...m,...B}),r&&e.blockInitialAnimation&&(j=!1),j&&(!(N&&S)||P)&&h.push(...O.map(T=>({animation:T,options:{type:g}})))}if(f.size){const w={};f.forEach(g=>{const p=e.getBaseTarget(g),y=e.getValue(g);y&&(y.liveStyle=!0),w[g]=p??null}),h.push({animation:w})}let x=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(h):Promise.resolve()}function a(l,u){var d;if(n[l].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,u)}),n[l].isActive=u;const h=o(l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=Ff(),r=!0}}}function hk(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Y0(t,e):!1}function Pn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ff(){return{animate:Pn(!0),whileInView:Pn(),whileHover:Pn(),whileTap:Pn(),whileDrag:Pn(),whileFocus:Pn(),exit:Pn()}}class Nn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fk extends Nn{constructor(t){super(t),t.animationState||(t.animationState=dk(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Na(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let pk=0;class mk extends Nn{constructor(){super(...arguments),this.id=pk++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const gk={animation:{Feature:fk},exit:{Feature:mk}};function pi(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Ni(e){return{point:{x:e.pageX,y:e.pageY}}}const yk=e=>t=>Rd(t)&&e(t,Ni(t));function Fs(e,t,n,r){return pi(e,t,yk(n),r)}const Bf=(e,t)=>Math.abs(e-t);function vk(e,t){const n=Bf(e.x,t.x),r=Bf(e.y,t.y);return Math.sqrt(n**2+r**2)}class Uy{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Sl(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=vk(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:v}=h,{timestamp:x}=Ee;this.history.push({...v,timestamp:x});const{onStart:w,onMove:g}=this.handlers;f||(w&&w(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=_l(f,this.transformPagePoint),Z.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Sl(h.type==="pointercancel"?this.lastMoveEventInfo:_l(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,w),v&&v(h,w)},!Rd(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Ni(t),a=_l(o,this.transformPagePoint),{point:l}=a,{timestamp:u}=Ee;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Sl(a,this.history)),this.removeListeners=ji(Fs(this.contextWindow,"pointermove",this.handlePointerMove),Fs(this.contextWindow,"pointerup",this.handlePointerUp),Fs(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),bn(this.updatePoint)}}function _l(e,t){return t?{point:t(e.point)}:e}function Vf(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Sl({point:e},t){return{point:e,delta:Vf(e,zy(t)),offset:Vf(e,xk(t)),velocity:wk(t,.1)}}function xk(e){return e[0]}function zy(e){return e[e.length-1]}function wk(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=zy(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Wt(t)));)n--;if(!r)return{x:0,y:0};const i=Kt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Fy=1e-4,bk=1-Fy,_k=1+Fy,By=.01,Sk=0-By,kk=0+By;function tt(e){return e.max-e.min}function jk(e,t,n){return Math.abs(e-t)<=n}function Wf(e,t,n,r=.5){e.origin=r,e.originPoint=re(t.min,t.max,e.origin),e.scale=tt(n)/tt(t),e.translate=re(n.min,n.max,e.origin)-e.originPoint,(e.scale>=bk&&e.scale<=_k||isNaN(e.scale))&&(e.scale=1),(e.translate>=Sk&&e.translate<=kk||isNaN(e.translate))&&(e.translate=0)}function Bs(e,t,n,r){Wf(e.x,t.x,n.x,r?r.originX:void 0),Wf(e.y,t.y,n.y,r?r.originY:void 0)}function Kf(e,t,n){e.min=n.min+t.min,e.max=e.min+tt(t)}function Nk(e,t,n){Kf(e.x,t.x,n.x),Kf(e.y,t.y,n.y)}function Hf(e,t,n){e.min=t.min-n.min,e.max=e.min+tt(t)}function Vs(e,t,n){Hf(e.x,t.x,n.x),Hf(e.y,t.y,n.y)}function Ek(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?re(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?re(n,e,r.max):Math.min(e,n)),e}function qf(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Tk(e,{top:t,left:n,bottom:r,right:s}){return{x:qf(e.x,n,s),y:qf(e.y,t,r)}}function Gf(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Ck(e,t){return{x:Gf(e.x,t.x),y:Gf(e.y,t.y)}}function Pk(e,t){let n=.5;const r=tt(e),s=tt(t);return s>r?n=Qr(t.min,t.max-r,e.min):r>s&&(n=Qr(e.min,e.max-s,t.min)),Qt(0,1,n)}function Ak(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Gc=.35;function Rk(e=Gc){return e===!1?e=0:e===!0&&(e=Gc),{x:Jf(e,"left","right"),y:Jf(e,"top","bottom")}}function Jf(e,t,n){return{min:Qf(e,t),max:Qf(e,n)}}function Qf(e,t){return typeof e=="number"?e:e[t]||0}const Yf=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pr=()=>({x:Yf(),y:Yf()}),Xf=()=>({min:0,max:0}),fe=()=>({x:Xf(),y:Xf()});function at(e){return[e("x"),e("y")]}function Vy({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Ok({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ik(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function kl(e){return e===void 0||e===1}function Jc({scale:e,scaleX:t,scaleY:n}){return!kl(e)||!kl(t)||!kl(n)}function Mn(e){return Jc(e)||Wy(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Wy(e){return Zf(e.x)||Zf(e.y)}function Zf(e){return e&&e!=="0%"}function Xo(e,t,n){const r=e-n,s=t*r;return n+s}function ep(e,t,n,r,s){return s!==void 0&&(e=Xo(e,s,r)),Xo(e,n,r)+t}function Qc(e,t=0,n=1,r,s){e.min=ep(e.min,t,n,r,s),e.max=ep(e.max,t,n,r,s)}function Ky(e,{x:t,y:n}){Qc(e.x,t.translate,t.scale,t.originPoint),Qc(e.y,n.translate,n.scale,n.originPoint)}const tp=.999999999999,np=1.0000000000001;function Dk(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Rr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Ky(e,o)),r&&Mn(i.latestValues)&&Rr(e,i.latestValues))}t.x<np&&t.x>tp&&(t.x=1),t.y<np&&t.y>tp&&(t.y=1)}function Ar(e,t){e.min=e.min+t,e.max=e.max+t}function rp(e,t,n,r,s=.5){const i=re(e.min,e.max,s);Qc(e,t,n,i,r)}function Rr(e,t){rp(e.x,t.x,t.scaleX,t.scale,t.originX),rp(e.y,t.y,t.scaleY,t.scale,t.originY)}function Hy(e,t){return Vy(Ik(e.getBoundingClientRect(),t))}function Mk(e,t,n){const r=Hy(e,n),{scroll:s}=t;return s&&(Ar(r.x,s.offset.x),Ar(r.y,s.offset.y)),r}const qy=({current:e})=>e?e.ownerDocument.defaultView:null,Lk=new WeakMap;class $k{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ni(d).point)},i=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:v}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=P_(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),at(w=>{let g=this.getAxisMotionValue(w).get()||0;if(Dt.test(g)){const{projection:p}=this.visualElement;if(p&&p.layout){const y=p.layout.layoutBox[w];y&&(g=tt(y)*(parseFloat(g)/100))}}this.originPoint[w]=g}),v&&Z.postRender(()=>v(d,h)),zc(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:v,onDrag:x}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:w}=h;if(m&&this.currentDirection===null){this.currentDirection=Uk(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,w),this.updateAxis("y",h.point,w),this.visualElement.render(),x&&x(d,h)},a=(d,h)=>this.stop(d,h),l=()=>at(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Uy(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:qy(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Z.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!eo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Ek(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Tr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=Tk(s.layoutBox,n):this.constraints=!1,this.elastic=Rk(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&at(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ak(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Tr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Mk(r,s.root,this.visualElement.getTransformPagePoint());let o=Ck(s.layout.layoutBox,i);if(n){const a=n(Ok(o));this.hasMutatedConstraints=!!a,a&&(o=Vy(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=at(d=>{if(!eo(d,n,this.currentDirection))return;let h=l&&l[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return zc(this.visualElement,t),r.start(Wd(t,r,0,n,this.visualElement,!1))}stopAnimation(){at(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){at(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){at(n=>{const{drag:r}=this.getProps();if(!eo(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-re(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Tr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};at(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=Pk({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),at(o=>{if(!eo(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(re(l,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Lk.set(this.visualElement,this);const t=this.visualElement.current,n=Fs(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Tr(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Z.read(r);const o=pi(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(at(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Gc,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function eo(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Uk(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class zk extends Nn{constructor(t){super(t),this.removeGroupControls=Ze,this.removeListeners=Ze,this.controls=new $k(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ze}unmount(){this.removeGroupControls(),this.removeListeners()}}const sp=e=>(t,n)=>{e&&Z.postRender(()=>e(t,n))};class Fk extends Nn{constructor(){super(...arguments),this.removePointerDownListener=Ze}onPointerDown(t){this.session=new Uy(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qy(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:sp(t),onStart:sp(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Z.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Fs(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const wo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ip(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const bs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(U.test(e))e=parseFloat(e);else return e;const n=ip(e,t.target.x),r=ip(e,t.target.y);return`${n}% ${r}%`}},Bk={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=_n.parse(e);if(s.length>5)return r;const i=_n.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=l;const u=re(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class Vk extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;c_(Wk),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),wo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Z.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),xd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Gy(e){const[t,n]=P0(),r=b.useContext(dd);return c.jsx(Vk,{...e,layoutGroup:r,switchLayoutGroup:b.useContext($0),isPresent:t,safeToRemove:n})}const Wk={borderRadius:{...bs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bs,borderTopRightRadius:bs,borderBottomLeftRadius:bs,borderBottomRightRadius:bs,boxShadow:Bk};function Kk(e,t,n){const r=Ie(e)?e:hi(e);return r.start(Wd("",r,t,n)),r.animation}function Hk(e){return e instanceof SVGElement&&e.tagName!=="svg"}const qk=(e,t)=>e.depth-t.depth;class Gk{constructor(){this.children=[],this.isDirty=!1}add(t){Od(this.children,t),this.isDirty=!0}remove(t){Id(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(qk),this.isDirty=!1,this.children.forEach(t)}}function Jk(e,t){const n=Mt.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(bn(r),e(i-t))};return Z.read(r,!0),()=>bn(r)}const Jy=["TopLeft","TopRight","BottomLeft","BottomRight"],Qk=Jy.length,op=e=>typeof e=="string"?parseFloat(e):e,ap=e=>typeof e=="number"||U.test(e);function Yk(e,t,n,r,s,i){s?(e.opacity=re(0,n.opacity!==void 0?n.opacity:1,Xk(r)),e.opacityExit=re(t.opacity!==void 0?t.opacity:1,0,Zk(r))):i&&(e.opacity=re(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Qk;o++){const a=`border${Jy[o]}Radius`;let l=lp(t,a),u=lp(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||ap(l)===ap(u)?(e[a]=Math.max(re(op(l),op(u),r),0),(Dt.test(u)||Dt.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=re(t.rotate||0,n.rotate||0,r))}function lp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Xk=Qy(0,.5,py),Zk=Qy(.5,.95,Ze);function Qy(e,t,n){return r=>r<e?0:r>t?1:n(Qr(e,t,r))}function cp(e,t){e.min=t.min,e.max=t.max}function ot(e,t){cp(e.x,t.x),cp(e.y,t.y)}function up(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function dp(e,t,n,r,s){return e-=t,e=Xo(e,1/n,r),s!==void 0&&(e=Xo(e,1/s,r)),e}function ej(e,t=0,n=1,r=.5,s,i=e,o=e){if(Dt.test(t)&&(t=parseFloat(t),t=re(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=re(i.min,i.max,r);e===i&&(a-=t),e.min=dp(e.min,t,n,a,s),e.max=dp(e.max,t,n,a,s)}function hp(e,t,[n,r,s],i,o){ej(e,t[n],t[r],t[s],t.scale,i,o)}const tj=["x","scaleX","originX"],nj=["y","scaleY","originY"];function fp(e,t,n,r){hp(e.x,t,tj,n?n.x:void 0,r?r.x:void 0),hp(e.y,t,nj,n?n.y:void 0,r?r.y:void 0)}function pp(e){return e.translate===0&&e.scale===1}function Yy(e){return pp(e.x)&&pp(e.y)}function mp(e,t){return e.min===t.min&&e.max===t.max}function rj(e,t){return mp(e.x,t.x)&&mp(e.y,t.y)}function gp(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Xy(e,t){return gp(e.x,t.x)&&gp(e.y,t.y)}function yp(e){return tt(e.x)/tt(e.y)}function vp(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sj{constructor(){this.members=[]}add(t){Od(this.members,t),t.scheduleRender()}remove(t){if(Id(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ij(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:v}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Ln={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Cs=typeof window<"u"&&window.MotionDebug!==void 0,jl=["","X","Y","Z"],oj={visibility:"hidden"},xp=1e3;let aj=0;function Nl(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Zy(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ay(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Z,!(s||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Zy(r)}function ev({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=aj++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Cs&&(Ln.totalNodes=Ln.resolvedTargetDeltas=Ln.recalculatedProjection=0),this.nodes.forEach(uj),this.nodes.forEach(mj),this.nodes.forEach(gj),this.nodes.forEach(dj),Cs&&window.MotionDebug.record(Ln)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Gk)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Dd),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Hk(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Jk(f,250),wo.hasAnimatedSinceResize&&(wo.hasAnimatedSinceResize=!1,this.nodes.forEach(bp))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||bj,{onLayoutAnimationStart:w,onLayoutAnimationComplete:g}=d.getProps(),p=!this.targetLayout||!Xy(this.targetLayout,v)||m,y=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const _={...Cd(x,"layout"),onPlay:w,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||bp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,bn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Zy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wp);return}this.isUpdating||this.nodes.forEach(fj),this.isUpdating=!1,this.nodes.forEach(pj),this.nodes.forEach(lj),this.nodes.forEach(cj),this.clearAllSnapshots();const a=Mt.now();Ee.delta=Qt(0,1e3/60,a-Ee.timestamp),Ee.timestamp=a,Ee.isProcessing=!0,gl.update.process(Ee),gl.preRender.process(Ee),gl.render.process(Ee),Ee.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(hj),this.sharedNodes.forEach(vj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Z.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Z.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Yy(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||Mn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),_j(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return fe();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Sj))){const{scroll:d}=this.root;d&&(Ar(l.x,d.offset.x),Ar(l.y,d.offset.y))}return l}removeElementScroll(o){var a;const l=fe();if(ot(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&ot(l,o),Ar(l.x,h.offset.x),Ar(l.y,h.offset.y))}return l}applyTransform(o,a=!1){const l=fe();ot(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Rr(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Mn(d.latestValues)&&Rr(l,d.latestValues)}return Mn(this.latestValues)&&Rr(l,this.latestValues),l}removeTransform(o){const a=fe();ot(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Mn(u.latestValues))continue;Jc(u.latestValues)&&u.updateSnapshot();const d=fe(),h=u.measurePageBox();ot(d,h),fp(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Mn(this.latestValues)&&fp(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ee.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Ee.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fe(),this.relativeTargetOrigin=fe(),Vs(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=fe(),this.targetWithTransforms=fe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Nk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ot(this.target,this.layout.layoutBox),Ky(this.target,this.targetDelta)):ot(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fe(),this.relativeTargetOrigin=fe(),Vs(this.relativeTargetOrigin,this.target,m.target),ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cs&&Ln.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Jc(this.parent.latestValues)||Wy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ee.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;ot(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;Dk(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=fe());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(up(this.prevProjectionDelta.x,this.projectionDelta.x),up(this.prevProjectionDelta.y,this.projectionDelta.y)),Bs(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!vp(this.projectionDelta.x,this.prevProjectionDelta.x)||!vp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Cs&&Ln.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pr(),this.projectionDelta=Pr(),this.projectionDeltaWithTransform=Pr()}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},h=Pr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=fe(),m=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=m!==v,w=this.getStack(),g=!w||w.members.length<=1,p=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(wj));this.animationProgress=0;let y;this.mixTargetDelta=_=>{const k=_/1e3;_p(h.x,o.x,k),_p(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xj(this.relativeTarget,this.relativeTargetOrigin,f,k),y&&rj(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=fe()),ot(y,this.relativeTarget)),x&&(this.animationValues=d,Yk(d,u,this.latestValues,k,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(bn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Z.update(()=>{wo.hasAnimatedSinceResize=!0,this.currentAnimation=Kk(0,xp,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&tv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||fe();const h=tt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=tt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}ot(a,l),Rr(a,d),Bs(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new sj),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&Nl("z",o,u,this.animationValues);for(let d=0;d<jl.length;d++)Nl(`rotate${jl[d]}`,o,u,this.animationValues),Nl(`skew${jl[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oj;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=vo(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=vo(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Mn(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=ij(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in qo){if(f[x]===void 0)continue;const{correct:w,applyTo:g}=qo[x],p=u.transform==="none"?f[x]:w(f[x],h);if(g){const y=g.length;for(let _=0;_<y;_++)u[g[_]]=p}else u[x]=p}return this.options.layoutId&&(u.pointerEvents=h===this?vo(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(wp),this.root.sharedNodes.clear()}}}function lj(e){e.updateLayout()}function cj(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?at(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=tt(f);f.min=r[h].min,f.max=f.min+m}):tv(i,n.layoutBox,r)&&at(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],m=tt(r[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const a=Pr();Bs(a,r,n.layoutBox);const l=Pr();o?Bs(l,e.applyTransform(s,!0),n.measuredBox):Bs(l,r,n.layoutBox);const u=!Yy(a);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const v=fe();Vs(v,n.layoutBox,f.layoutBox);const x=fe();Vs(x,r,m.layoutBox),Xy(v,x)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=v,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function uj(e){Cs&&Ln.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function hj(e){e.clearSnapshot()}function wp(e){e.clearMeasurements()}function fj(e){e.isLayoutDirty=!1}function pj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function bp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mj(e){e.resolveTargetDelta()}function gj(e){e.calcProjection()}function yj(e){e.resetSkewAndRotation()}function vj(e){e.removeLeadSnapshot()}function _p(e,t,n){e.translate=re(t.translate,0,n),e.scale=re(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Sp(e,t,n,r){e.min=re(t.min,n.min,r),e.max=re(t.max,n.max,r)}function xj(e,t,n,r){Sp(e.x,t.x,n.x,r),Sp(e.y,t.y,n.y,r)}function wj(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const bj={duration:.45,ease:[.4,0,.1,1]},kp=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),jp=kp("applewebkit/")&&!kp("chrome/")?Math.round:Ze;function Np(e){e.min=jp(e.min),e.max=jp(e.max)}function _j(e){Np(e.x),Np(e.y)}function tv(e,t,n){return e==="position"||e==="preserve-aspect"&&!jk(yp(t),yp(n),.2)}function Sj(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const kj=ev({attachResizeListener:(e,t)=>pi(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),El={current:void 0},nv=ev({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!El.current){const e=new kj({});e.mount(window),e.setOptions({layoutScroll:!0}),El.current=e}return El.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),jj={pan:{Feature:Fk},drag:{Feature:zk,ProjectionNode:nv,MeasureLayout:Gy}};function Ep(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Z.postRender(()=>i(t,Ni(t)))}class Nj extends Nn{mount(){const{current:t}=this.node;t&&(this.unmount=j_(t,n=>(Ep(this.node,n,"Start"),r=>Ep(this.node,r,"End"))))}unmount(){}}class Ej extends Nn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ji(pi(this.node.current,"focus",()=>this.onFocus()),pi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Tp(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Z.postRender(()=>i(t,Ni(t)))}class Tj extends Nn{mount(){const{current:t}=this.node;t&&(this.unmount=C_(t,n=>(Tp(this.node,n,"Start"),(r,{success:s})=>Tp(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yc=new WeakMap,Tl=new WeakMap,Cj=e=>{const t=Yc.get(e.target);t&&t(e)},Pj=e=>{e.forEach(Cj)};function Aj({root:e,...t}){const n=e||document;Tl.has(n)||Tl.set(n,{});const r=Tl.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(Pj,{root:e,...t})),r[s]}function Rj(e,t,n){const r=Aj(t);return Yc.set(e,n),r.observe(e),()=>{Yc.delete(e),r.unobserve(e)}}const Oj={some:0,all:1};class Ij extends Nn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:Oj[s]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(l)};return Rj(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Dj(t,n))&&this.startObserver()}unmount(){}}function Dj({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Mj={inView:{Feature:Ij},tap:{Feature:Tj},focus:{Feature:Ej},hover:{Feature:Nj}},Lj={layout:{ProjectionNode:nv,MeasureLayout:Gy}},Xc={current:null},rv={current:!1};function $j(){if(rv.current=!0,!!pd)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xc.current=e.matches;e.addListener(t),t()}else Xc.current=!1}const Uj=[...Ty,Re,_n],zj=e=>Uj.find(Ey(e)),Cp=new WeakMap;function Fj(e,t,n){for(const r in t){const s=t[r],i=n[r];if(Ie(s))e.addValue(r,s);else if(Ie(i))e.addValue(r,hi(s,{owner:e}));else if(i!==s)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(r);e.addValue(r,hi(o!==void 0?o:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Pp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Bj{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Mt.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Z.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Ea(n),this.isVariantNode=M0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in f){const v=f[m];l[m]!==void 0&&Ie(v)&&v.set(l[m],!1)}}mount(t){this.current=t,Cp.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),rv.current||$j(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Cp.delete(this.current),this.projection&&this.projection.unmount(),bn(this.notifyUpdate),bn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=rr.has(t),s=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Z.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Yr){const n=Yr[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Pp.length;r++){const s=Pp[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Fj(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=hi(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(jy(s)||gy(s))?s=parseFloat(s):!zj(s)&&_n.test(n)&&(s=_y(t,n)),this.setBaseTarget(t,Ie(s)?s.get():s)),Ie(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const o=bd(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(s=o[t])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ie(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Dd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class sv extends Bj{constructor(){super(...arguments),this.KeyframeResolver=Cy}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ie(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Vj(e){return window.getComputedStyle(e)}class Wj extends sv{constructor(){super(...arguments),this.type="html",this.renderInstance=K0}readValueFromInstance(t,n){if(rr.has(n)){const r=zd(n);return r&&r.default||0}else{const r=Vj(t),s=(B0(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Hy(t,n)}build(t,n,r){kd(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Td(t,n,r)}}class Kj extends sv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(rr.has(n)){const r=zd(n);return r&&r.default||0}return n=H0.has(n)?n:vd(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return J0(t,n,r)}build(t,n,r){jd(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,s){q0(t,n,r,s)}mount(t){this.isSVGTag=Ed(t.tagName),super.mount(t)}}const Hj=(e,t)=>wd(e)?new Kj(t):new Wj(t,{allowProjection:e!==b.Fragment}),qj=v_({...gk,...Mj,...jj,...Lj},Hj),dt=O1(qj),mi=["서울 전체","경기도 전체","수원","성남","용인","안양","부천","안산","남양주","화성","평택","의정부","시흥","파주","김포","광명","광주","군포","오산","이천","양주","안성","구리","포천","의왕","하남","여주","동두천","과천","고양","가평"],Zc=["전분야","코딩","영어","수학","과학","예체능","음악","미술","방과후","돌봄","특수교육","상담","행정","기타"],eu=[{value:"추천순",label:"추천순"},{value:"최신순",label:"최신순"},{value:"마감임박순",label:"마감임박순"},{value:"평점높은순",label:"평점높은순"},{value:"급여높은순",label:"급여높은순"},{value:"경력무관",label:"경력무관"}],Pa=mi[0],Aa=Zc[0],iv=eu[0].value;function Gj(e,t=300){const[n,r]=b.useState(e);return b.useEffect(()=>{const s=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(s)}},[e,t]),n}const Jj={},Ap=e=>{let t;const n=new Set,r=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const m=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(v=>v(t,m))}},s=()=>t,l={setState:r,getState:s,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Jj?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,s,l);return l},Qj=e=>e?Ap(e):Ap;var ov={exports:{}},av={},lv={exports:{}},cv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zr=b;function Yj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xj=typeof Object.is=="function"?Object.is:Yj,Zj=Zr.useState,eN=Zr.useEffect,tN=Zr.useLayoutEffect,nN=Zr.useDebugValue;function rN(e,t){var n=t(),r=Zj({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return tN(function(){s.value=n,s.getSnapshot=t,Cl(s)&&i({inst:s})},[e,n,t]),eN(function(){return Cl(s)&&i({inst:s}),e(function(){Cl(s)&&i({inst:s})})},[e]),nN(n),n}function Cl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xj(e,n)}catch{return!0}}function sN(e,t){return t()}var iN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?sN:rN;cv.useSyncExternalStore=Zr.useSyncExternalStore!==void 0?Zr.useSyncExternalStore:iN;lv.exports=cv;var oN=lv.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ra=b,aN=oN;function lN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cN=typeof Object.is=="function"?Object.is:lN,uN=aN.useSyncExternalStore,dN=Ra.useRef,hN=Ra.useEffect,fN=Ra.useMemo,pN=Ra.useDebugValue;av.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=dN(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=fN(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),s!==void 0&&o.hasValue){var v=o.value;if(s(v,m))return h=v}return h=m}if(v=h,cN(d,m))return v;var x=r(m);return s!==void 0&&s(v,x)?(d=m,v):(d=m,h=x)}var u=!1,d,h,f=n===void 0?null:n;return[function(){return l(t())},f===null?void 0:function(){return l(f())}]},[t,n,r,s]);var a=uN(e,i[0],i[1]);return hN(function(){o.hasValue=!0,o.value=a},[a]),pN(a),a};ov.exports=av;var mN=ov.exports;const gN=cm(mN),uv={},{useDebugValue:yN}=wm,{useSyncExternalStoreWithSelector:vN}=gN;let Rp=!1;const xN=e=>e;function wN(e,t=xN,n){(uv?"production":void 0)!=="production"&&n&&!Rp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Rp=!0);const r=vN(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return yN(r),r}const Op=e=>{(uv?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Qj(e):e,n=(r,s)=>wN(t,r,s);return Object.assign(n,t),n},Kd=e=>e?Op(e):Op,Pl={region:Pa,category:Aa,sort:iv},Ip=20,tu=Kd(e=>({searchQuery:"",filters:{...Pl},viewType:"all",limit:Ip,offset:0,lastUpdatedAt:Date.now(),setSearchQuery:t=>e({searchQuery:t,offset:0,lastUpdatedAt:Date.now()}),setFilters:t=>e(n=>({filters:{...n.filters,...t},offset:0,lastUpdatedAt:Date.now()})),setFilter:(t,n)=>e(r=>({filters:{...r.filters,[t]:n},offset:0,lastUpdatedAt:Date.now()})),setViewType:t=>e({viewType:t,offset:0,lastUpdatedAt:Date.now()}),loadMore:()=>e(t=>({offset:t.offset+t.limit})),setPagination:({limit:t,offset:n})=>e(r=>({limit:t??r.limit,offset:n??r.offset})),resetSearch:()=>e({searchQuery:"",offset:0,lastUpdatedAt:Date.now()}),resetFilters:()=>e({filters:{...Pl},offset:0,lastUpdatedAt:Date.now()}),resetAll:()=>e({searchQuery:"",filters:{...Pl},viewType:"all",limit:Ip,offset:0,lastUpdatedAt:Date.now()})})),Dp=[{id:"google",labels:{signup:"구글로 가입하기",login:"구글로 로그인하기"},description:"Google 계정으로 빠르게 가입하세요.",accent:"bg-[#F4F8FF] text-[#1A73E8]",icon:Mb},{id:"kakao",labels:{signup:"카카오톡으로 가입하기",login:"카카오톡으로 로그인하기"},description:"Kakao 계정과 연동하여 이용하세요.",accent:"bg-[#FFF4D6] text-[#3C1E1E]",icon:E0}];function bN({isOpen:e,onClose:t,onSelectProvider:n,loadingProvider:r=null,mode:s="signup"}){const i={signup:"셀미바이미 회원가입",login:"셀미바이미 로그인"},o={signup:"원하는 서비스로 인증을 진행하세요.",login:"연동된 소셜 계정으로 로그인하세요."},a={signup:"소셜 계정 인증 후 프로필 정보를 추가로 입력하게 됩니다.",login:"연결된 계정으로 로그인하면 내 정보를 불러옵니다."},l=s==="login"?Dp.filter(({id:u})=>u==="google"):Dp;return c.jsx(Gn,{children:e&&c.jsx(dt.div,{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:c.jsxs(dt.div,{className:"relative w-full max-w-md mx-4 rounded-2xl bg-white shadow-2xl",initial:{y:32,opacity:0},animate:{y:0,opacity:1},exit:{y:32,opacity:0},transition:{type:"spring",stiffness:220,damping:26},onClick:u=>u.stopPropagation(),children:[c.jsxs("header",{className:"flex items-center justify-between px-5 pt-5 pb-4 border-b border-gray-100",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-extrabold text-gray-900",children:i[s]}),c.jsx("p",{className:"mt-1 text-xs text-gray-500",children:o[s]})]}),c.jsx("button",{type:"button",onClick:t,className:"inline-flex h-9 w-9 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors","aria-label":"닫기",children:c.jsx(is,{size:18})})]}),c.jsx("div",{className:"px-5 pb-6 pt-4 space-y-3",children:l.map(({id:u,labels:d,description:h,icon:f,accent:m})=>{const v=r===u;return c.jsxs("button",{type:"button",onClick:()=>n(u),disabled:v,className:`w-full rounded-xl border border-gray-200 px-4 py-3 text-left transition-shadow focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#7aa3cc] flex items-center gap-3 ${v?"bg-gray-50 cursor-wait opacity-80":"hover:shadow-md"}`,children:[c.jsx("span",{className:`flex h-11 w-11 items-center justify-center rounded-full ${m}`,children:c.jsx(f,{size:22,stroke:1.8})}),c.jsxs("span",{className:"flex-1",children:[c.jsx("span",{className:"block text-sm font-semibold text-gray-900",children:d[s]}),c.jsx("span",{className:"mt-1 block text-xs text-gray-500",children:h})]}),v&&c.jsx("span",{className:"text-xs font-semibold text-[#7aa3cc]",children:"연결 중..."})]},u)})}),c.jsx("footer",{className:"px-5 pb-5 text-center text-[11px] text-gray-400",children:a[s]})]})})})}const _N="modulepreload",SN=function(e){return"/"+e},Mp={},Ei=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=SN(l),l in Mp)return;Mp[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":_N,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},kN=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ei(async()=>{const{default:r}=await Promise.resolve().then(()=>ls);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Hd extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Lp extends Hd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $p extends Hd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Up extends Hd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var nu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(nu||(nu={}));var jN=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class NN{constructor(t,{headers:n={},customFetch:r,region:s=nu.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=kN(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return jN(this,arguments,void 0,function*(n,r={}){var s;try{const{headers:i,method:o,body:a,signal:l}=r;let u={},{region:d}=r;d||(d=this.region);const h=new URL(`${this.url}/${n}`);d&&d!=="any"&&(u["x-region"]=d,h.searchParams.set("forceFunctionRegion",d));let f;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=a):typeof a=="string"?(u["Content-Type"]="text/plain",f=a):typeof FormData<"u"&&a instanceof FormData?f=a:(u["Content-Type"]="application/json",f=JSON.stringify(a)));const m=yield this.fetch(h.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:f,signal:l}).catch(g=>{throw g.name==="AbortError"?g:new Lp(g)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new $p(m);if(!m.ok)throw new Up(m);let x=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return x==="application/json"?w=yield m.json():x==="application/octet-stream"?w=yield m.blob():x==="text/event-stream"?w=m:x==="multipart/form-data"?w=yield m.formData():w=yield m.text(),{data:w,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Lp(i)}:{data:null,error:i,response:i instanceof Up||i instanceof $p?i.context:void 0}}})}}var Ve={},qd={},Oa={},Ti={},Ia={},Da={},EN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},es=EN();const TN=es.fetch,dv=es.fetch.bind(es),hv=es.Headers,CN=es.Request,PN=es.Response,ls=Object.freeze(Object.defineProperty({__proto__:null,Headers:hv,Request:CN,Response:PN,default:dv,fetch:TN},Symbol.toStringTag,{value:"Module"})),AN=ix(ls);var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0});let RN=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ma.default=RN;var fv=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Da,"__esModule",{value:!0});const ON=fv(AN),IN=fv(Ma);let DN=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ON.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,u;let d=null,h=null,f=null,m=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const w=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,m=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const w=await i.text();try{d=JSON.parse(w),Array.isArray(d)&&i.status===404&&(h=[],d=null,m=200,v="OK")}catch{i.status===404&&w===""?(m=204,v="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,m=200,v="OK"),d&&this.shouldThrowOnError)throw new IN.default(d)}return{error:d,data:h,count:f,status:m,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Da.default=DN;var MN=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ia,"__esModule",{value:!0});const LN=MN(Da);let $N=class extends LN.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Ia.default=$N;var UN=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ti,"__esModule",{value:!0});const zN=UN(Ia);let FN=class extends zN.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Ti.default=FN;var BN=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oa,"__esModule",{value:!0});const _s=BN(Ti);let VN=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,n){const{head:r=!1,count:s}=n??{},i=r?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),s&&this.headers.append("Prefer",`count=${s}`),new _s.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new _s.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new _s.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new _s.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new _s.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Oa.default=VN;var pv=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qd,"__esModule",{value:!0});const WN=pv(Oa),KN=pv(Ti);let HN=class mv{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new WN.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new mv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(a="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new KN.default({method:a,url:l,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};qd.default=HN;var cs=ft&&ft.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;const gv=cs(qd);Ve.PostgrestClient=gv.default;const yv=cs(Oa);Ve.PostgrestQueryBuilder=yv.default;const vv=cs(Ti);Ve.PostgrestFilterBuilder=vv.default;const xv=cs(Ia);Ve.PostgrestTransformBuilder=xv.default;const wv=cs(Da);Ve.PostgrestBuilder=wv.default;const bv=cs(Ma);Ve.PostgrestError=bv.default;var qN=Ve.default={PostgrestClient:gv.default,PostgrestQueryBuilder:yv.default,PostgrestFilterBuilder:vv.default,PostgrestTransformBuilder:xv.default,PostgrestBuilder:wv.default,PostgrestError:bv.default};const{PostgrestClient:GN,PostgrestQueryBuilder:wC,PostgrestFilterBuilder:bC,PostgrestTransformBuilder:_C,PostgrestBuilder:SC,PostgrestError:kC}=qN;class JN{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const QN="2.75.1",YN=`realtime-js/${QN}`,XN="1.0.0",ru=1e4,ZN=1e3,eE=100;var Ws;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ws||(Ws={}));var xe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xe||(xe={}));var _t;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(_t||(_t={}));var su;(function(e){e.websocket="websocket"})(su||(su={}));var Un;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Un||(Un={}));class tE{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+s));o=o+s;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class _v{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var J;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(J||(J={}));const zp=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=nE(o,e,t,s),i),{}):{}},nE=(e,t,n,r)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=n[e];return i&&!r.includes(i)?Sv(i,o):iu(o)},Sv=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return oE(t,n)}switch(e){case J.bool:return rE(t);case J.float4:case J.float8:case J.int2:case J.int4:case J.int8:case J.numeric:case J.oid:return sE(t);case J.json:case J.jsonb:return iE(t);case J.timestamp:return aE(t);case J.abstime:case J.date:case J.daterange:case J.int4range:case J.int8range:case J.money:case J.reltime:case J.text:case J.time:case J.timestamptz:case J.timetz:case J.tsrange:case J.tstzrange:return iu(t);default:return iu(t)}},iu=e=>e,rE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},sE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},iE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},oE=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Sv(t,a))}return e},aE=e=>typeof e=="string"?e.replace(" ","T"):e,kv=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Al{constructor(t,n,r={},s=ru){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Fp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Fp||(Fp={}));class Ks{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ks.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ks.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ks.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),o=this.transformState(n),a={},l={};return this.map(i,(u,d)=>{o[u]||(l[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(w=>w.presence_ref),m=h.map(w=>w.presence_ref),v=d.filter(w=>m.indexOf(w.presence_ref)<0),x=h.filter(w=>f.indexOf(w.presence_ref)<0);v.length>0&&(a[u]=v),x.length>0&&(l[u]=x)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Bp||(Bp={}));var Hs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hs||(Hs={}));var Ut;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ut||(Ut={}));class Gd{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Al(this,_t.join,this.params,this.timeout),this.rejoinTimer=new _v(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(_t.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ks(this),this.broadcastEndpointURL=kv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==xe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Hs.PRESENCE]&&this.bindings[Hs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Ut.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Ut.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t==null||t(Ut.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,g=[];for(let p=0;p<w;p++){const y=x[p],{filter:{event:_,schema:k,table:N,filter:S}}=y,j=m&&m[p];if(j&&j.event===_&&j.schema===k&&j.table===N&&j.filter===S)g.push(Object.assign(Object.assign({},y),{id:j.id}));else{this.unsubscribe(),this.state=xe.errored,t==null||t(Ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Ut.SUBSCRIBED);return}}).receive("error",m=>{this.state=xe.errored,t==null||t(Ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===xe.joined&&t===Hs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(_t.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Al(this,_t.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xe.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Al(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>eE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=_t;if(r&&[a,l,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,x,w;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,x,w,g,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,k=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((x=n.ids)===null||x===void 0?void 0:x.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(p=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:x,table:w,commit_timestamp:g,type:p,errors:y}=v;f=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:g,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(v))}m.callback(f,r)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Gd.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(_t.close,{},t)}_onError(t){this._on(_t.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=zp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=zp(t.columns,t.old_record)),n}}const Rl=()=>{},to={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lE=[1e3,2e3,5e3,1e4],cE=1e4,uE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dE{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ru,this.transport=null,this.heartbeatIntervalMs=to.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rl,this.ref=0,this.reconnectTimer=null,this.logger=Rl,this.conn=null,this.sendBuffer=[],this.serializer=new tE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Ei(async()=>{const{default:a}=await Promise.resolve().then(()=>ls);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${su.websocket}`,this.httpEndpoint=kv(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=JN.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:XN}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ws.connecting:return Un.Connecting;case Ws.open:return Un.Open;case Ws.closing:return Un.Closing;default:return Un.Closed}}isConnected(){return this.connectionState()===Un.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Gd(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ZN,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},to.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(_t.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([uE],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:YN};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(_t.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new _v(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},to.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,o,a,l,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:ru,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:to.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Rl,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:h=>lE[h-1]||cE,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Jd extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class hE extends Jd{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ou extends Jd{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var fE=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const jv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ei(async()=>{const{default:r}=await Promise.resolve().then(()=>ls);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},pE=()=>fE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ei(()=>Promise.resolve().then(()=>ls),void 0)).Response:Response}),au=e=>{if(Array.isArray(e))return e.map(n=>au(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=au(r)}),t},mE=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var sr=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Ol=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),gE=(e,t,n)=>sr(void 0,void 0,void 0,function*(){const r=yield pE();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new hE(Ol(s),i,o))}).catch(s=>{t(new ou(Ol(s),s))}):t(new ou(Ol(e),e))}),yE=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(mE(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function Ci(e,t,n,r,s,i){return sr(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(n,yE(t,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>gE(l,a,r))})})}function Zo(e,t,n,r){return sr(this,void 0,void 0,function*(){return Ci(e,"GET",t,n,r)})}function At(e,t,n,r,s){return sr(this,void 0,void 0,function*(){return Ci(e,"POST",t,r,s,n)})}function lu(e,t,n,r,s){return sr(this,void 0,void 0,function*(){return Ci(e,"PUT",t,r,s,n)})}function vE(e,t,n,r){return sr(this,void 0,void 0,function*(){return Ci(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Nv(e,t,n,r,s){return sr(this,void 0,void 0,function*(){return Ci(e,"DELETE",t,r,s,n)})}var xE=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class wE{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n}then(t,n){return this.execute().then(t,n)}execute(){return xE(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ye(t))return{data:null,error:t};throw t}})}}var bE=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})},Ev;class _E{constructor(t,n){this.downloadFn=t,this.shouldThrowOnError=n,this[Ev]="BlobDownloadBuilder",this.promise=null}asStream(){return new wE(this.downloadFn,this.shouldThrowOnError)}then(t,n){return this.getPromise().then(t,n)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return bE(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ye(t))return{data:null,error:t};throw t}})}}Ev=Symbol.toStringTag;var Fe=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const SE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kE{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=jv(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return Fe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Vp),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(t=="PUT"?lu:At)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ye(i))return{data:null,error:i};throw i}})}upload(t,n,r){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Fe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const u=Object.assign({upsert:Vp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield lu(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ye(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,n){return Fe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield At(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Jd("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}})}update(t,n,r){return Fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Fe(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Fe(this,void 0,void 0,function*(){try{return{data:{path:(yield At(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Fe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield At(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Fe(this,void 0,void 0,function*(){try{const s=yield At(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}})}download(t,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>Zo(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new _E(l,this.shouldThrowOnError)}info(t){return Fe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Zo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:au(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}})}exists(t){return Fe(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield vE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ye(r)&&r instanceof ou){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Fe(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}list(t,n,r){return Fe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},SE),n),{prefix:t||""});return{data:yield At(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}})}listV2(t,n){return Fe(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield At(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const jE="2.75.1",NE={"X-Client-Info":`storage-js/${jE}`};var ar=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class EE{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},NE),n),this.fetch=jv(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ar(this,void 0,void 0,function*(){try{return{data:yield Zo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(ye(t))return{data:null,error:t};throw t}})}getBucket(t){return ar(this,void 0,void 0,function*(){try{return{data:yield Zo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}createBucket(t){return ar(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield At(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ye(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return ar(this,void 0,void 0,function*(){try{return{data:yield lu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ye(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ar(this,void 0,void 0,function*(){try{return{data:yield At(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ar(this,void 0,void 0,function*(){try{return{data:yield Nv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ye(n))return{data:null,error:n};throw n}})}}class TE extends EE{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new kE(this.url,this.headers,t,this.fetch)}}const CE="2.75.1";let Ps="";typeof Deno<"u"?Ps="deno":typeof document<"u"?Ps="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ps="react-native":Ps="node";const PE={"X-Client-Info":`supabase-js-${Ps}/${CE}`},AE={headers:PE},RE={schema:"public"},OE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},IE={};var DE=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const ME=e=>{let t;return e?t=e:typeof fetch>"u"?t=dv:t=fetch,(...n)=>t(...n)},LE=()=>typeof Headers>"u"?hv:Headers,$E=(e,t,n)=>{const r=ME(n),s=LE();return(i,o)=>DE(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var UE=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function zE(e){return e.endsWith("/")?e:e+"/"}function FE(e,t){var n,r;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>UE(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function BE(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zE(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Tv="2.75.1",pr=30*1e3,cu=3,Il=cu*pr,VE="http://localhost:9999",WE="supabase.auth.token",KE={"X-Client-Info":`gotrue-js/${Tv}`},uu="X-Supabase-Api-Version",Cv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qE=10*60*1e3;class gi extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function M(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class GE extends gi{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function JE(e){return M(e)&&e.name==="AuthApiError"}class zn extends gi{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class En extends gi{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class nn extends En{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QE(e){return M(e)&&e.name==="AuthSessionMissingError"}class lr extends En{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class no extends En{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ro extends En{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YE(e){return M(e)&&e.name==="AuthImplicitGrantRedirectError"}class Wp extends En{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class du extends En{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Dl(e){return M(e)&&e.name==="AuthRetryableFetchError"}class Kp extends En{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class hu extends En{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hp=` 	
\r=`.split(""),XE=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Hp.length;t+=1)e[Hp[t].charCodeAt(0)]=-2;for(let t=0;t<ea.length;t+=1)e[ea[t].charCodeAt(0)]=t;return e})();function qp(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ea[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(ea[r]),t.queuedBits-=6}}function Pv(e,t,n){const r=XE[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gp(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{t2(o,r,n)};for(let o=0;o<e.length;o+=1)Pv(e.charCodeAt(o),s,i);return t.join("")}function ZE(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function e2(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}ZE(r,t)}}function t2(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ur(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Pv(e.charCodeAt(s),n,r);return new Uint8Array(t)}function n2(e){const t=[];return e2(e,n=>t.push(n)),new Uint8Array(t)}function Kn(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>qp(s,n,r)),qp(null,n,r),t.join("")}function r2(e){return Math.round(Date.now()/1e3)+e}function s2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Je=()=>typeof window<"u"&&typeof document<"u",An={tested:!1,writable:!1},Av=()=>{if(!Je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(An.tested)return An.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),An.tested=!0,An.writable=!0}catch{An.tested=!0,An.writable=!1}return An.writable};function i2(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Rv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Ei(async()=>{const{default:r}=await Promise.resolve().then(()=>ls);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},o2=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",mr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Rn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},en=async(e,t)=>{await e.removeItem(t)};class La{constructor(){this.promise=new La.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}La.promiseConstructor=Promise;function Ml(e){const t=e.split(".");if(t.length!==3)throw new hu("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!HE.test(t[r]))throw new hu("JWT not in base64url format");return{header:JSON.parse(Gp(t[0])),payload:JSON.parse(Gp(t[1])),signature:Ur(t[2]),raw:{header:t[0],payload:t[1]}}}async function a2(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function l2(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function c2(e){return("0"+e.toString(16)).substr(-2)}function u2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,c2).join("")}async function d2(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function h2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await d2(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function cr(e,t,n=!1){const r=u2();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await mr(e,`${t}-code-verifier`,s);const i=await h2(r);return[i,r===i?"plain":"s256"]}const f2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function p2(e){const t=e.headers.get(uu);if(!t||!t.match(f2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function m2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function g2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const y2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ur(e){if(!y2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ll(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jp(e){return JSON.parse(JSON.stringify(e))}var v2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const $n=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),x2=[502,503,504];async function Qp(e){var t;if(!o2(e))throw new du($n(e),0);if(x2.includes(e.status))throw new du($n(e),e.status);let n;try{n=await e.json()}catch(i){throw new zn($n(i),i)}let r;const s=p2(e);if(s&&s.getTime()>=Cv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Kp($n(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new nn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Kp($n(n),e.status,n.weak_password.reasons);throw new GE($n(n),e.status||500,r)}const w2=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function F(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[uu]||(i[uu]=Cv["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await b2(e,t,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function b2(e,t,n,r,s,i){const o=w2(t,r,s,i);let a;try{a=await e(n,Object.assign({},o))}catch(l){throw console.error(l),new du($n(l),0)}if(a.ok||await Qp(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Qp(l)}}function vt(e){var t;let n=null;k2(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=r2(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Yp(e){const t=vt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ln(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _2(e){return{data:e,error:null}}function S2(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,o=v2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Xp(e){return e}function k2(e){return e.access_token&&e.refresh_token&&e.expires_in}const $l=["global","local","others"];var j2=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class N2{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Rv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=$l[0]){if($l.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$l.join(", ")}`);try{return await F(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await F(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ln})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=j2(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await F(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:S2,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(M(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await F(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ln})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await F(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Xp});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(M(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ur(t);try{return await F(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ln})}catch(n){if(M(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ur(t);try{return await F(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ln})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ur(t);try{return await F(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ln})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ur(t.userId);try{const{data:n,error:r}=await F(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(M(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ur(t.userId),ur(t.id);try{return{data:await F(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await F(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Xp});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(M(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await F(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await F(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await F(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await F(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}}function Zp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const dr={debug:!!(globalThis&&Av()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ov extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class E2 extends Ov{}async function T2(e,t,n){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new E2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(dr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function C2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Iv(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function P2(e){return parseInt(e,16)}function A2(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function R2(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:f}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=Iv(e.address),v=d?`${d}://${r}`:r,x=e.statement?`${e.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${m}

${x}`;let g=`URI: ${h}
Version: ${f}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),a&&(g+=`
Not Before: ${a.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);p+=`
- ${y}`}g+=p}return`${w}
${g}`}class ge extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class ta extends ge{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function O2({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ge({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new ge({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new ge({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ge({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ge({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new ge({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ge({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Mv(o)){if(i.rp.id!==o)return new ge({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ge({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ge({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function I2({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ge({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ge({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(Mv(r)){if(n.rpId!==r)return new ge({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ge({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ge({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ge({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Dv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class D2{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const M2=new D2;function L2(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Dv(e,["challenge","user","excludeCredentials"]),i=Ur(t).buffer,o=Object.assign(Object.assign({},n),{id:Ur(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ur(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function $2(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Dv(e,["challenge","allowCredentials"]),s=Ur(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const a=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Ur(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function U2(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Kn(new Uint8Array(e.response.attestationObject)),clientDataJSON:Kn(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function z2(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Kn(new Uint8Array(s.authenticatorData)),clientDataJSON:Kn(new Uint8Array(s.clientDataJSON)),signature:Kn(new Uint8Array(s.signature)),userHandle:s.userHandle?Kn(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Mv(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function em(){var e,t;return!!(Je()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function F2(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ta("Browser returned unexpected credential type",t)}:{data:null,error:new ta("Empty credential response",t)}}catch(t){return{data:null,error:O2({error:t,options:e})}}}async function B2(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ta("Browser returned unexpected credential type",t)}:{data:null,error:new ta("Empty credential response",t)}}catch(t){return{data:null,error:I2({error:t,options:e})}}}const V2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},W2={userVerification:"preferred",hints:["security-key"]};function na(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))r[i]=o;else if(n(o))r[i]=o;else if(t(o)){const a=r[i];t(a)?r[i]=na(a,o):r[i]=na(o)}else r[i]=o}return r}function K2(e,t){return na(V2,e,t||{})}function H2(e,t){return na(W2,e,t||{})}class q2{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!o)return{data:null,error:a};const l=s??M2.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=K2(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await F2({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=H2(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await B2(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return M(o)?{data:null,error:o}:{data:null,error:new zn("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!n)return{data:null,error:new gi("rpId is required for WebAuthn authentication")};try{if(!em())return{data:null,error:new zn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(o){return M(o)?{data:null,error:o}:{data:null,error:new zn("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!n)return{data:null,error:new gi("rpId is required for WebAuthn registration")};try{if(!em())return{data:null,error:new zn("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return M(o)?{data:null,error:o}:{data:null,error:new zn("Unexpected error in register",o)}}}}C2();const G2={url:VE,storageKey:WE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:KE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function tm(e,t,n){return await n()}const hr={};class yi{get jwks(){var t,n;return(n=(t=hr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){hr[this.storageKey]=Object.assign(Object.assign({},hr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=hr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){hr[this.storageKey]=Object.assign(Object.assign({},hr[this.storageKey]),{cachedAt:t})}constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yi.nextInstanceID,yi.nextInstanceID+=1,this.instanceID>0&&Je()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},G2),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new N2({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Rv(s.fetch),this.lock=s.lock||tm,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Je()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=T2:this.lock=tm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new q2(this)},this.persistSession?(s.storage?this.storage=s.storage:Av()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Zp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Zp(this.memoryStorage)),Je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Tv}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=i2(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Je()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),YE(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return M(n)?{error:n}:{error:new zn("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:vt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await cr(this.storage,this.storageKey)),i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:vt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await F(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:vt})}else throw new no("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(M(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:o,options:a}=t;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yp})}else if("phone"in t){const{phone:i,password:o,options:a}=t;n=await F(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yp})}else throw new no("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new lr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,o,a,l,u,d,h,f;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:x,wallet:w,statement:g,options:p}=t;let y;if(Je())if(typeof w=="object")y=w;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")y=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=w}const _=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),k=await y.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=Iv(k[0]);let S=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!S){const P=await y.request({method:"eth_chainId"});S=P2(P)}const j={domain:_.host,address:N,statement:g,uri:_.href,version:"1",chainId:S,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=R2(j),v=await y.request({method:"personal_sign",params:[A2(m),N]})}try{const{data:x,error:w}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:vt});if(w)throw w;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new lr}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:w})}catch(x){if(M(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(t){var n,r,s,i,o,a,l,u,d,h,f,m;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:w,wallet:g,statement:p,options:y}=t;let _;if(Je())if(typeof g=="object")_=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const k=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),x=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${k.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=y==null?void 0:y.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:w,error:g}=await F(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Kn(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:vt});if(g)throw g;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new lr}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:g})}catch(w){if(M(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await Rn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await F(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:vt});if(await en(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new lr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(M(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=t,a=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:vt}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new lr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await cr(this.storage,this.storageKey));const{error:h}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await F(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new no("You must provide either an email or phone number.")}catch(a){if(M(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await F(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await cr(this.storage,this.storageKey)),await F(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:_2})}catch(i){if(M(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new nn;const{error:s}=await F(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(M(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:o}=await F(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:o,error:a}=await F(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new no("You must provide either an email or phone number and a type")}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Rn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Il:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Rn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ll()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ln}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new nn}:await F(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ln})})}catch(n){if(M(n))return QE(n)&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new nn;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await cr(this.storage,this.storageKey));const{data:u,error:d}=await F(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:ln});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(M(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new nn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Ml(t.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(M(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:a}=n;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new nn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(M(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Je())throw new ro("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ro(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Wp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ro("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Wp("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new ro("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const m=f-d;m*1e3<=pr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(M(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Rn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(JE(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=s2(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await cr(this.storage,this.storageKey,!0));try{return await F(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(M(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(M(n))return{data:null,error:n};throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,u,d;const{data:h,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await F(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Je()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(M(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:d}=t,h=await F(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:vt}),{data:f,error:m}=h;return m?{data:{user:null,session:null},error:m}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new lr}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),{data:f,error:m})}catch(s){if(M(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await F(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await l2(async s=>(s>0&&await a2(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await F(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Dl(i)&&Date.now()+o-r<pr})}catch(r){if(this._debug(n,"error",r),M(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Je()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Rn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Rn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await mr(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ll()}else if(s&&!s.user&&!s.user){const o=await Rn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await en(this.storage,this.storageKey+"-user"),await mr(this.storage,this.storageKey,s)):s.user=Ll()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Il;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Il}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Dl(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new La;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new nn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),M(i)){const o={data:null,error:i};return Dl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await mr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Jp(s);await mr(this.storage,this.storageKey,i)}else{const s=Jp(n);await mr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await en(this.storage,this.storageKey),await en(this.storage,this.storageKey+"-code-verifier"),await en(this.storage,this.storageKey+"-user"),this.userStorage&&await en(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),pr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/pr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${pr}ms, refresh threshold is ${cu} ticks`),s<=cu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Ov)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await cr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await F(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await F(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(M(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?U2(t.webauthn.credential_response):z2(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await F(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(M(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const o=await F(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:L2(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:$2(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(M(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Ml(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+qE>s)return r;const{data:i,error:o}=await F(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Ml(r);n!=null&&n.allowExpired||m2(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=g2(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,n2(`${a}.${l}`)))throw new hu("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(M(r))return{data:null,error:r};throw r}}}yi.nextInstanceID=0;const J2=yi;class Q2 extends J2{constructor(t){super(t)}}var Y2=function(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class X2{constructor(t,n,r){var s,i,o;this.supabaseUrl=t,this.supabaseKey=n;const a=BE(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:RE,realtime:IE,auth:Object.assign(Object.assign({},OE),{storageKey:l}),global:AE},d=FE(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=$E(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new GN(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new TE(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new NN(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Y2(this,void 0,void 0,function*(){var t,n;if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q2({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new dE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Z2=(e,t,n)=>new X2(e,t,n);function eT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}eT()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const tT="https://qpwnsvsiduvvqdijyxio.supabase.co",nT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFwd25zdnNpZHV2dnFkaWp5eGlvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA3MDU3NzAsImV4cCI6MjA3NjI4MTc3MH0.anomdGhxNrL3aHJ4x-PM6wXWcADNKuKZnuQ2mv8cWuQ",ie=Z2(tT,nT);let nm=null,rm=!1,Ul=!1;const Pi=Kd(e=>({user:null,status:"idle",initialize:async()=>{var t;if(!(rm||Ul)){Ul=!0,e({status:"loading"});try{const{data:n,error:r}=await ie.auth.getSession();if(r)console.error("세션 조회 실패:",r.message),e({user:null,status:"unauthenticated"});else{const s=((t=n.session)==null?void 0:t.user)??null;e({user:s,status:s?"authenticated":"unauthenticated"})}if(!nm){const{data:{subscription:s}}=ie.auth.onAuthStateChange((i,o)=>{const a=(o==null?void 0:o.user)??null;e({user:a,status:a?"authenticated":"unauthenticated"})});nm=s}rm=!0}finally{Ul=!1}}},logout:async()=>{const{error:t}=await ie.auth.signOut();if(t){console.error("로그아웃 실패:",t.message);return}e({user:null,status:"unauthenticated"})}}));async function rT(){await Pi.getState().initialize()}const fr=["all","job","talent","experience"],sm={all:"모두보기",job:"공고",talent:"인력",experience:"체험"},sT={all:"bg-gray-500",job:"bg-[#7aa3cc]",talent:"bg-[#7db8a3]",experience:"bg-[#f4c96b]"},iT={all:26,job:0,talent:26,experience:52};function oT({onProfileClick:e}){var _e,A;const[t,n]=b.useState(null),[r,s]=b.useState(""),[i,o]=b.useState(!1),[a,l]=b.useState("signup"),[u,d]=b.useState(null),{status:h,user:f}=Pi(T=>({status:T.status,user:T.user})),m=Gj(r,500),{searchQuery:v,filters:x,viewType:w,setSearchQuery:g,setFilter:p,setViewType:y,resetFilters:_}=tu(T=>({searchQuery:T.searchQuery,filters:T.filters,viewType:T.viewType,setSearchQuery:T.setSearchQuery,setFilter:T.setFilter,setViewType:T.setViewType,resetFilters:T.resetFilters})),k=()=>{const T=fr.indexOf(w),E=fr[(T+1)%fr.length];y(E)},N=T=>{n(E=>E===T?null:T)},S=T=>{p("region",T),n(null)},j=T=>{p("category",T),n(null)},P=T=>{p("sort",T),n(null)};b.useEffect(()=>{(m.length>0||v.length>0)&&g(m)},[m,g]);const O=T=>{T.key==="Enter"&&(T.preventDefault(),s(T.currentTarget.value),g(T.currentTarget.value))},B=b.useMemo(()=>Array.from(eu),[]),H=()=>{l("login"),o(!0)},ee=()=>{l("signup"),o(!0)},ae=async T=>{try{d(T);const E=`${window.location.origin}/auth/callback`,{error:R}=await ie.auth.signInWithOAuth({provider:T,options:{redirectTo:E,queryParams:T==="kakao"?{prompt:"login"}:void 0}});R&&console.error("소셜 로그인 오류:",R.message)}catch(E){console.error("소셜 로그인 처리 중 오류:",E)}finally{d(null),o(!1)}};return c.jsxs("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200 font-esamanru",children:[c.jsx("div",{className:"max-w-container mx-auto px-6 py-2.5",children:c.jsxs("div",{className:"flex items-center gap-4 w-full",children:[c.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[c.jsx("h1",{className:"text-xl font-extrabold text-gray-900",style:{letterSpacing:"-0.5px"},children:"셀미바이미"}),c.jsxs("button",{onClick:k,title:`${sm[fr[(fr.indexOf(w)+1)%fr.length]]} 보기`,className:`relative w-[76px] h-6 rounded-full overflow-hidden transition-colors duration-300 flex items-center justify-center ${w==="all"?"bg-gray-500 hover:bg-gray-600":"bg-gray-300 hover:bg-gray-400"}`,children:[c.jsx("span",{className:`absolute inset-0 flex items-center justify-center text-[9px] font-bold text-white leading-none pointer-events-none select-none transition-opacity duration-200 ${w==="all"?"opacity-100":"opacity-0"}`,children:"모두보기"}),c.jsx(dt.div,{className:`absolute top-0.5 w-5 h-5 rounded-full flex items-center justify-center pointer-events-none ${sT[w]}`,initial:!1,animate:{x:iT[w],opacity:w==="all"?0:1,scale:w==="all"?.8:1},style:{left:"2px"},transition:{type:"spring",stiffness:340,damping:28},children:c.jsx("span",{className:`text-[8px] font-semibold text-white leading-none pointer-events-none select-none transition-opacity duration-150 ${w==="all"?"opacity-0":"opacity-100"}`,children:w==="all"?"":sm[w]})})]})]}),c.jsx("div",{className:"flex-1 max-w-[680px]",children:c.jsxs("div",{className:"relative flex items-center h-9 border border-gray-300 rounded-md focus-within:border-primary transition-colors",children:[c.jsx(l1,{className:"absolute left-3 text-gray-400",size:16,stroke:1.5}),c.jsx("input",{type:"text",value:r,onChange:T=>s(T.target.value),onKeyDown:O,placeholder:"검색어를 입력하세요",className:"flex-1 h-full pl-10 pr-3 text-sm bg-transparent focus:outline-none"}),c.jsxs("div",{className:"flex items-center gap-2 pr-3 border-l border-gray-200 pl-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>N("region"),className:`px-2.5 py-1 text-xs rounded transition-all ${x.region!==mi[0]?"bg-gray-100 text-gray-900 font-medium border border-gray-300":"text-gray-500 hover:bg-gray-50"} ${t==="region"?"bg-[#f0f6fa] border-primary":""}`,children:x.region}),c.jsx(Gn,{children:t==="region"&&c.jsx(dt.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute top-full mt-2 left-0 bg-white rounded-md shadow-xl border border-gray-200 p-3 z-50",style:{width:"380px"},children:c.jsx("div",{className:"grid grid-cols-5 gap-2",children:mi.map(T=>c.jsx("button",{onClick:()=>S(T),className:`px-3 py-1.5 text-xs rounded border transition-colors ${x.region===T?"bg-primary text-white border-primary font-medium":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400"}`,children:T},T))})})})]}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>N("category"),className:`px-2.5 py-1 text-xs rounded transition-all ${x.category!==Zc[0]?"bg-gray-100 text-gray-900 font-medium border border-gray-300":"text-gray-500 hover:bg-gray-50"} ${t==="category"?"bg-[#f0f6fa] border-primary":""}`,children:x.category}),c.jsx(Gn,{children:t==="category"&&c.jsx(dt.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute top-full mt-2 left-0 bg-white rounded-md shadow-xl border border-gray-200 p-3 z-50",style:{width:"280px"},children:c.jsx("div",{className:"grid grid-cols-3 gap-2",children:Zc.map(T=>c.jsx("button",{onClick:()=>j(T),className:`px-3 py-1.5 text-xs rounded border transition-colors ${x.category===T?"bg-primary text-white border-primary font-medium":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400"}`,children:T},T))})})})]}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{onClick:()=>N("sort"),className:`px-2.5 py-1 text-xs rounded transition-all ${x.sort!==eu[0].value?"bg-gray-100 text-gray-900 font-medium border border-gray-300":"text-gray-500 hover:bg-gray-50"} ${t==="sort"?"bg-[#f0f6fa] border-primary":""}`,children:x.sort}),c.jsx(Gn,{children:t==="sort"&&c.jsx(dt.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.15},className:"absolute top-full mt-2 left-0 bg-white rounded-md shadow-xl border border-gray-200 p-3 z-50",style:{width:"230px"},children:c.jsx("div",{className:"grid grid-cols-2 gap-2",children:B.map(T=>c.jsx("button",{onClick:()=>P(T.value),className:`px-3 py-2 text-xs rounded border transition-colors ${x.sort===T.value?"bg-primary text-white border-primary font-medium":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 hover:border-gray-400"}`,children:T.label},T.value))})})})]}),c.jsx("button",{onClick:()=>{_(),n(null)},className:"px-2 py-1 text-xs text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded transition-colors",children:"초기화"})]})]})}),c.jsx("div",{className:"flex items-center gap-2 shrink-0 ml-auto",children:h==="authenticated"&&f?c.jsxs("button",{type:"button",onClick:()=>e==null?void 0:e(),className:"flex items-center gap-2 h-9 px-4 text-sm font-semibold text-white rounded-md bg-gradient-to-r from-[#7aa3cc] to-[#5f89b4] shadow-sm hover:from-[#6b95be] hover:to-[#517aa5] transition-colors",children:[c.jsx("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-white/20 text-white text-xs font-bold",children:((A=(_e=f.email)==null?void 0:_e[0])==null?void 0:A.toUpperCase())??"P"}),c.jsx("span",{children:"프로필"})]}):c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:H,className:"h-9 px-4 text-sm font-semibold text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"로그인"}),c.jsx("button",{type:"button",onClick:ee,className:"h-9 px-4 text-sm font-semibold text-white rounded-md bg-gradient-to-r from-[#7aa3cc] to-[#5f89b4] shadow-sm hover:from-[#6b95be] hover:to-[#517aa5] transition-colors",children:"회원가입"})]})})]})}),t&&c.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(null)}),c.jsx(bN,{isOpen:i,onClose:()=>{u||o(!1)},onSelectProvider:ae,loadingProvider:u,mode:a})]})}const aT=/^#?[0-9a-fA-F]{3,6}$/,zr=e=>Math.max(0,Math.min(255,Math.round(e))).toString(16).padStart(2,"0"),ra=e=>{if(!e)return null;const t=e.trim();if(!aT.test(t))return null;let n=t.startsWith("#")?t.slice(1):t;return n.length===3&&(n=n.split("").map(r=>r+r).join("")),n.length!==6?null:`#${n.toLowerCase()}`},lT=(e,t)=>{const n=ra(e);if(!n)return"#ffffff";const r=n.slice(1),s=parseInt(r.slice(0,2),16),i=parseInt(r.slice(2,4),16),o=parseInt(r.slice(4,6),16),a=l=>l+(255-l)*t;return`#${zr(a(s))}${zr(a(i))}${zr(a(o))}`},cT=(e,t)=>{const n=ra(e);if(!n)return"#1f2937";const r=n.slice(1),s=parseInt(r.slice(0,2),16),i=parseInt(r.slice(2,4),16),o=parseInt(r.slice(4,6),16),a=l=>l*(1-t);return`#${zr(a(s))}${zr(a(i))}${zr(a(o))}`},Lv=(e,t="#dbeafe")=>{const n=ra(e)??ra(t)??"#dbeafe",r=cT(n,.35),s=lT(n,.4);return`linear-gradient(90deg, ${r} 0%, ${n} 50%, ${s} 100%)`};function uT({job:e}){return c.jsxs("article",{className:"card-interactive bg-white border border-gray-200 rounded-lg animate-slide-up overflow-hidden h-full",children:[c.jsx("div",{className:"h-0.5 bg-gradient-to-r from-primary to-[#8fb4d6]"}),c.jsxs("div",{className:"flex h-full flex-col p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-sm font-semibold text-[#7aa3cc]",children:"공고"}),e.isUrgent&&c.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-red-500 text-white text-xs font-bold",children:"🔥 긴급"})]}),c.jsx("h3",{className:"text-lg font-extrabold text-gray-900 mb-1 line-clamp-1",style:{letterSpacing:"-0.4px"},children:e.organization}),c.jsx("p",{className:"text-base font-semibold text-gray-700 leading-snug mb-2 line-clamp-1",children:e.title}),c.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:e.tags.slice(0,3).map((t,n)=>{const r=["bg-[#e8f1f8] text-[#5a8ab8]","bg-green-100 text-green-700","bg-indigo-100 text-indigo-700"];return c.jsx("span",{className:`rounded-full px-2.5 py-1 text-sm font-semibold ${r[n%r.length]}`,children:t},n)})}),c.jsxs("div",{className:"mt-auto space-y-1.5 text-sm text-gray-700",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ss,{size:16,stroke:1.5,className:"text-[#7aa3cc] flex-shrink-0"}),c.jsx("span",{className:"font-medium truncate",children:e.location})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(cd,{size:16,stroke:1.5,className:"text-[#7db8a3] flex-shrink-0"}),c.jsx("span",{className:"font-medium text-gray-900 truncate",children:e.compensation})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Jr,{size:16,stroke:1.5,className:"text-orange-500 flex-shrink-0"}),c.jsx("span",{className:"font-medium truncate",children:e.deadline}),e.daysLeft!==void 0&&c.jsxs("span",{className:`ml-auto rounded-full px-2 py-0.5 text-xs font-semibold ${e.daysLeft<=3?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"}`,children:["D-",e.daysLeft]})]})]})]})]})}function dT({talent:e}){return c.jsxs("article",{className:"card-interactive bg-white border border-gray-200 rounded-lg animate-slide-up overflow-hidden h-full",children:[c.jsx("div",{className:"h-0.5 bg-gradient-to-r from-[#9fd5bf] to-[#6fb59b]"}),c.jsxs("div",{className:"flex h-full flex-col p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-sm font-semibold text-[#7db8a3]",children:"인력풀"}),e.isVerified&&c.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-[#7db8a3] text-white text-xs font-bold rounded-full",children:"✓ 인증"})]}),c.jsx("h3",{className:"text-lg font-extrabold text-gray-900 mb-1 line-clamp-1",style:{letterSpacing:"-0.4px"},children:e.name}),c.jsx("p",{className:"text-base font-semibold text-gray-700 leading-snug mb-2 line-clamp-1",children:e.specialty}),c.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:e.tags.slice(0,3).map((t,n)=>{const r=["bg-[#e5f4f0] text-[#5a9d85]","bg-[#dff0ea] text-[#5a9d85]","bg-cyan-100 text-cyan-700"];return c.jsx("span",{className:`rounded-full px-2.5 py-1 text-sm font-semibold ${r[n%r.length]}`,children:t},n)})}),c.jsxs("div",{className:"mt-auto space-y-1.5 text-sm text-gray-700",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ss,{size:16,stroke:1.5,className:"text-[#7aa3cc] flex-shrink-0"}),c.jsx("span",{className:"font-medium truncate",children:e.location})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(j0,{size:16,stroke:1.5,className:"text-purple-500 flex-shrink-0"}),c.jsx("span",{className:"font-medium text-gray-900 truncate",children:e.experience})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(C0,{size:16,stroke:1.5,className:"text-yellow-500 flex-shrink-0"}),c.jsx("span",{className:"font-medium text-gray-900",children:e.rating.toFixed(1)}),c.jsxs("span",{className:"font-medium text-gray-500",children:["(",e.reviewCount,")"]})]})]})]})]})}function hT({cards:e,userName:t="방문자",loading:n=!1,headlineOverride:r,descriptionOverride:s,promoCard:i}){const[o,a]=b.useState(0),[l,u]=b.useState(3),d=b.useRef(null);b.useEffect(()=>{const $=()=>{window.innerWidth<768?u(1):window.innerWidth<1024?u(2):u(3)};return $(),window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]);const h=e.slice(0,8),f=h[0],m=(i==null?void 0:i.insertPosition)??3,v=$=>{const de=Math.max(m-1,0);return Math.min(de,$)},w=!!i&&(!n||h.length===0)?{id:"promo-card",type:"promo"}:null,g={id:"placeholder-card",type:"placeholder"},y=!n&&h.length===0?(()=>{const $=[g];if(w){const de=v($.length);$.splice(de,0,w)}return $})():(()=>{const $=[...h];if(w){const de=v($.length);$.splice(de,0,w)}return w?$:h})(),_=y.length,k=Math.max(_-l,0),N=(i==null?void 0:i.headline)??"셀바, 학교와 교육자원을 연결하겠습니다",S=(i==null?void 0:i.backgroundColor)??"#f7c6d9",j=(i==null?void 0:i.fontColor)??"#1f2937",P=(i==null?void 0:i.fontSize)??24,O=(i==null?void 0:i.imageUrl)??"/picture/section%20right%20ad2.png",B=Math.min(Math.max((i==null?void 0:i.imageScale)??1,.5),1.5),H={height:`${180*B}px`},ee={maxHeight:`${170*B}px`,maxWidth:`${240*B}px`};b.useEffect(()=>{o>k&&a(k)},[o,k]),b.useEffect(()=>{a(0)},[e.length,m]);const ae=o>0,_e=o<k,A=()=>{ae&&a(o-1)},T=()=>{_e&&a(o+1)},R=(()=>{var $,de;if(!f)return{headline:"추천을 준비 중이에요",description:"관심 조건을 분석해 맞춤 카드를 정리해둘게요."};if(f.type==="job"){const je=f.tags[0],st=f.tags[1],ze=[je,st].filter(Boolean).slice(0,2).join(", ");return{headline:`${(($=f.location)==null?void 0:$.split(/[ ,]/).filter(Boolean).slice(0,2).join(", "))||f.location} 인근 공고를 먼저 모았어요`,description:`${t}님 관심 조건과 ${ze||"최근 저장한 키워드"}를 우선으로 최신 공고를 추렸어요.`}}if(f.type==="talent"){const je=f.tags[0],st=Array.isArray(f.location)?f.location.slice(0,2).join(", "):(de=f.location)==null?void 0:de.split(/[ ,]/).filter(Boolean).slice(0,2).join(", ");return{headline:`${f.specialty} 인재를 골라봤어요`,description:`${st||f.location}에서 활동 중인 ${je??"핵심 역량"} 강사를 우선 추천드려요.`}}return{headline:"추천을 준비 중이에요",description:"필요한 조건을 분석해 맞춤 카드를 준비하고 있어요."}})(),D=n?"추천을 준비 중이에요":r??R.headline,z=n?"AI가 프로필을 분석해 맞춤 카드를 정리하고 있어요.":s??R.description;return c.jsx("section",{className:"bg-gradient-to-b from-[#f4f5f7] via-[#eef0f2] to-[#e2e4e7] pt-2 pb-6",children:c.jsxs("div",{className:"max-w-container mx-auto px-6",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(ud,{size:18,stroke:1.5,className:"text-primary"}),c.jsx("h2",{className:"text-base font-bold text-gray-900",children:"셀바 AI"})]}),c.jsxs("div",{className:"flex flex-col gap-2.5 lg:flex-row lg:items-stretch lg:h-[260px]",children:[c.jsxs("aside",{className:"flex min-h-[200px] flex-col justify-between rounded-2xl border-2 border-indigo-200 bg-gradient-to-br from-indigo-100 via-blue-50 to-white p-4 shadow-md shrink-0 lg:h-full lg:w-[220px] lg:min-w-[220px] lg:max-w-[240px]",children:[c.jsxs("div",{className:"space-y-2.5 flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-800",children:[c.jsx(E0,{size:16,stroke:1.5,className:"text-primary"}),c.jsx("span",{children:"AI 코멘트"})]}),c.jsxs("p",{className:"text-xs text-gray-600 leading-relaxed",children:[c.jsx("span",{className:"block text-sm font-semibold text-gray-900 leading-snug mb-1",children:D}),c.jsx("span",{className:"block line-clamp-3 break-words whitespace-pre-line text-[11px] leading-relaxed text-gray-600",children:z})]})]}),c.jsxs("div",{className:"mt-3.5 flex gap-1.5",children:[c.jsx("button",{className:"btn-interactive flex-1 rounded-md bg-[#7aa3cc] text-white shadow-sm transition-shadow hover:shadow-md",children:c.jsxs("div",{className:"flex h-[42px] flex-col items-center justify-center gap-0.5",children:[c.jsx("span",{className:"text-[11px] font-semibold",children:"공고"}),c.jsx("span",{className:"text-[10px] font-semibold tracking-tight",children:"등록"})]})}),c.jsx("button",{className:"btn-interactive flex-1 rounded-md bg-[#7db8a3] text-white shadow-sm transition-shadow hover:shadow-md",children:c.jsxs("div",{className:"flex h-[42px] flex-col items-center justify-center gap-0.5",children:[c.jsx("span",{className:"text-[11px] font-semibold",children:"인력"}),c.jsx("span",{className:"text-[10px] font-semibold tracking-tight",children:"등록"})]})}),c.jsx("button",{className:"btn-interactive flex-1 rounded-md bg-[#f4c96b] text-[#7a5520] shadow-sm transition-shadow hover:shadow-md",children:c.jsxs("div",{className:"flex h-[42px] flex-col items-center justify-center gap-0.5",children:[c.jsx("span",{className:"text-[11px] font-semibold",children:"체험"}),c.jsx("span",{className:"text-[10px] font-semibold tracking-tight",children:"등록"})]})})]})]}),c.jsxs("div",{className:"relative flex-1 min-w-0 h-[210px] lg:h-full",children:[c.jsx("button",{onClick:A,disabled:!ae,className:`absolute left-0 top-1/2 -translate-y-1/2 -translate-x-3 z-10 w-7 h-7 rounded-full bg-white border border-gray-200 shadow-md flex items-center justify-center transition-all ${ae?"hover:border-gray-400 hover:shadow-lg cursor-pointer":"opacity-50 cursor-not-allowed"}`,"aria-label":"이전 추천 보기",children:c.jsx(N0,{size:14,stroke:1.5})}),c.jsx("div",{ref:d,className:"overflow-hidden h-full",children:c.jsx("div",{className:"flex h-full gap-2.5 transition-transform duration-300 ease-in-out",style:{transform:`translateX(-${o*(100/l)}%)`},children:y.map($=>c.jsx("div",{className:"flex-shrink-0",style:{width:`calc((100% - ${(l-1)*14}px) / ${l})`,height:"100%"},children:$.type==="job"?c.jsx(uT,{job:$}):$.type==="talent"?c.jsx(dT,{talent:$}):$.type==="placeholder"?c.jsx("article",{className:"card-interactive bg-white border border-dashed border-gray-300 rounded-lg animate-slide-up overflow-hidden h-full flex items-center justify-center p-4 text-center",children:c.jsx("p",{className:"text-sm text-gray-500 leading-relaxed",children:"프로필 정보를 저장하면 맞춤 추천이 여기에 표시됩니다."})}):c.jsx("article",{className:"card-interactive border border-gray-200 rounded-lg animate-slide-up overflow-hidden h-full flex flex-col",style:{backgroundColor:S},children:c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"w-full flex-shrink-0",style:{height:"2px",backgroundImage:Lv(i==null?void 0:i.badgeColor),backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",backgroundPosition:"0 0"}}),c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4 px-5 py-6 text-center",children:[c.jsx("h3",{className:"font-semibold leading-tight whitespace-pre-line",style:{color:j,fontSize:`${P}px`},children:N}),c.jsx("div",{className:"flex w-full flex-1 items-center justify-center",style:H,children:O?c.jsx("img",{src:O,alt:N,className:"w-auto object-contain drop-shadow",style:ee,draggable:!1}):c.jsx("div",{className:"flex w-full flex-col items-center justify-center rounded-xl border border-dashed border-slate-300 text-slate-400",style:ee,children:c.jsx("span",{className:"text-xs",children:"이미지 없음"})})})]})]})})},$.id))})}),c.jsx("button",{onClick:T,disabled:!_e,className:`absolute right-0 top-1/2 -translate-y-1/2 translate-x-3 z-10 w-7 h-7 rounded-full bg-white border border-gray-200 shadow-md flex items-center justify-center transition-all ${_e?"hover:border-gray-400 hover:shadow-lg cursor-pointer":"opacity-50 cursor-not-allowed"}`,"aria-label":"다음 추천 보기",children:c.jsx(ld,{size:14,stroke:1.5})})]})]})]})})}function fT({resultCount:e,searchQuery:t="수원 코딩강사",topResultIndex:n=1}){const[r,s]=b.useState(0),i=[{type:"event",title:"신규 회원 가입 이벤트",description:"프리미엄 1개월 무료!",link:"/event/signup"},{type:"notice",title:"시스템 점검 안내",description:"10/20 02:00-04:00",link:"/notice/123"},{type:"review",title:"성공 사례",description:"3일 만에 강사 구했어요!",link:"/review/456"}];b.useEffect(()=>{const l=setInterval(()=>{s(u=>(u+1)%i.length)},3e3);return()=>clearInterval(l)},[i.length]);const o=i[r],a={event:"from-orange-400 to-yellow-500",notice:"from-[#a8c5e0] to-[#8fb4d6]",review:"from-[#9fd5bf] to-[#6fb59b]"};return c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg px-4 py-3 mb-4 flex gap-4 h-[96px] items-center",children:[c.jsxs("div",{className:"basis-1/2 space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(p1,{size:16,stroke:1.5,className:"text-[#7db8a3]"}),c.jsxs("span",{className:"font-semibold text-gray-800",children:["오늘 신규 공고 ",e,"건"]})]}),c.jsx("div",{className:"text-gray-300 text-lg leading-none",children:"·"}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(Jr,{size:16,stroke:1.5,className:"text-orange-600"}),c.jsx("span",{className:"text-gray-700",children:"마감임박 5건"})]}),c.jsx("div",{className:"text-gray-300 text-lg leading-none",children:"·"}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx(v1,{size:16,stroke:1.5,className:"text-[#7aa3cc]"}),c.jsx("span",{className:"text-gray-700",children:"신규 인력 12명 등록"})]})]}),c.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[c.jsx("span",{className:"font-medium text-gray-700",children:"인기:"}),["#코딩강사","#영어강사","#방과후","#수원","#성남"].map(l=>c.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded cursor-pointer hover:bg-gray-200 transition-colors",children:l},l))]})]}),c.jsx("div",{className:"basis-1/2 h-full",children:c.jsxs("div",{className:`h-full bg-gradient-to-r ${a[o.type]} text-white rounded-lg px-4 py-3 shadow-sm hover:shadow-md transition-all cursor-pointer hover:scale-[1.02]`,onClick:()=>window.location.href=o.link,children:[c.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[c.jsx("span",{className:"text-xs font-bold uppercase",children:o.type==="event"?"이벤트":o.type==="notice"?"공지":"후기"}),c.jsx("div",{className:"flex gap-1",children:i.map((l,u)=>c.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${u===r?"bg-white w-3":"bg-white/50"}`},u))})]}),c.jsx("h3",{className:"text-sm font-bold mb-0.5",children:o.title}),c.jsx("p",{className:"text-xs opacity-90 mb-2",children:o.description}),c.jsx("div",{className:"flex items-center justify-end",children:c.jsx(ld,{size:14,stroke:2})})]})})]})}function pT({job:e,onClick:t}){const n=e.tags.map(a=>a.replace(/학교안전지킴이/g,"학생보호인력").replace(/계약제교사/g,"기간제교사").replace(/시간강사/g,"방과후강사")),r=Array.from(new Set(n)).slice(0,2),s=e.qualifications&&e.qualifications.length>0?e.qualifications[0]:void 0,i=s?s.replace(/\s*\(\s*예:\s*[^)]*\)/g,"").replace(/(있는\s*자|대상자|지원자)$/g,"").replace(/\s{2,}/g," ").trim():void 0,o=!!(e.application_period||e.work_period||i||e.contact||e.source_url);return c.jsxs("article",{className:"group relative",onClick:t,children:[c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-md animate-slide-up flex flex-col min-h-[240px] cursor-pointer transition-all duration-300 ease-out group-hover:shadow-none group-hover:rounded-b-none group-hover:border-b-0 group-hover:z-40",style:{overflow:"visible"},children:[c.jsx("div",{className:"h-0.5 bg-gradient-to-r from-primary to-[#8fb4d6]"}),c.jsxs("div",{className:"flex h-full flex-col p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-sm font-semibold text-[#7aa3cc]",children:"공고"}),e.isUrgent&&c.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-red-500 text-white text-xs font-bold",children:"🔥 긴급"})]}),c.jsx("h3",{className:"text-lg font-extrabold text-gray-900 mb-1 line-clamp-1",style:{letterSpacing:"-0.4px"},children:e.organization}),c.jsx("p",{className:"text-base font-semibold text-gray-700 leading-snug mb-2 line-clamp-1",children:e.title}),c.jsx("div",{className:"flex flex-wrap gap-1.5 max-h-[44px] overflow-hidden",children:r.map((a,l)=>c.jsx("span",{className:"rounded-full border border-gray-200 bg-white px-2.5 py-1 text-sm font-medium text-gray-700",children:a},l))}),c.jsxs("div",{className:"mt-3 space-y-1.5 text-sm text-gray-700",children:[c.jsxs("div",{className:"flex items-center gap-2 truncate",children:[c.jsx(ss,{size:16,stroke:1.5,className:"text-[#7aa3cc] flex-shrink-0"}),c.jsx("span",{className:"font-medium truncate",children:e.location})]}),c.jsxs("div",{className:"flex items-center gap-2 truncate",children:[c.jsx(cd,{size:16,stroke:1.5,className:"text-[#7db8a3] flex-shrink-0"}),c.jsx("span",{className:"font-medium text-gray-900 truncate",children:e.compensation})]}),c.jsxs("div",{className:"flex items-center gap-2 truncate",children:[c.jsx(Jr,{size:16,stroke:1.5,className:"text-orange-500 flex-shrink-0"}),c.jsx("span",{className:"font-medium truncate",children:e.deadline}),e.daysLeft!==void 0&&c.jsxs("span",{className:`ml-auto rounded-full px-2 py-0.5 text-xs font-semibold ${e.daysLeft<=3?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"}`,children:["D-",e.daysLeft]})]})]})]})]}),o&&c.jsx("div",{className:"hidden md:block absolute inset-x-0 top-full z-50 pointer-events-none opacity-0 translate-y-1 transition-all duration-300 ease-out group-hover:translate-y-0 group-hover:opacity-100 group-hover:pointer-events-auto",onClick:a=>a.stopPropagation(),children:c.jsxs("div",{className:"rounded-b-lg rounded-t-none border border-gray-200 bg-white shadow-2xl p-4 space-y-3",children:[e.application_period&&c.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[c.jsx(Ko,{size:18,stroke:1.5,className:"text-blue-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 mb-0.5",children:"접수기간"}),c.jsx("p",{className:"font-semibold",children:e.application_period})]})]}),e.work_period&&c.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[c.jsx(Ko,{size:18,stroke:1.5,className:"text-indigo-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 mb-0.5",children:"근무기간"}),c.jsx("p",{className:"font-semibold",children:e.work_period})]})]}),e.work_time&&c.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[c.jsx(Jr,{size:18,stroke:1.5,className:"text-orange-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 mb-0.5",children:"근무시간"}),c.jsx("p",{className:"font-semibold",children:e.work_time})]})]}),i&&c.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[c.jsx(k0,{size:18,stroke:1.5,className:"text-green-600 flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 mb-0.5",children:"필수 자격"}),c.jsx("p",{className:"font-semibold text-gray-900 leading-snug line-clamp-2",children:i})]})]}),e.contact&&c.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[c.jsx(T0,{size:18,stroke:1.5,className:"text-green-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500 mb-0.5",children:"문의"}),c.jsx("p",{className:"font-semibold",children:e.contact})]})]}),c.jsxs("div",{className:"flex gap-2 pt-1 text-sm font-semibold",children:[e.source_url&&c.jsx("a",{href:e.source_url,target:"_blank",rel:"noopener noreferrer",className:"flex-1 inline-flex items-center justify-center gap-1 rounded-lg bg-gray-100 text-gray-900 px-3 py-2 hover:bg-gray-200 transition-colors",onClick:a=>a.stopPropagation(),children:"원문링크"}),t&&c.jsx("button",{type:"button",onClick:()=>t(),className:"flex-1 inline-flex items-center justify-center gap-1 rounded-lg border border-gray-200 px-3 py-2 text-gray-700 hover:border-gray-300 transition-colors",children:"상세보기"})]})]})})]})}function mT({talent:e}){return c.jsxs("article",{className:"card-interactive bg-white border border-gray-200 rounded-lg shadow-md animate-slide-up overflow-hidden flex flex-col h-full",style:{minHeight:"240px",maxHeight:"240px"},children:[c.jsx("div",{className:"h-0.5 bg-gradient-to-r from-[#9fd5bf] to-[#6fb59b]"}),c.jsxs("div",{className:"flex h-full flex-col p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-sm font-semibold text-[#7db8a3]",children:"인력풀"}),e.isVerified&&c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-[#7db8a3] text-white text-xs font-bold rounded-full",children:[c.jsx(u1,{size:14,stroke:1.5})," 인증"]})]}),c.jsx("h3",{className:"text-lg font-extrabold text-gray-900 mb-1 line-clamp-1 break-keep overflow-hidden",children:e.name}),c.jsx("p",{className:"text-base font-semibold text-gray-700 leading-snug mb-2 line-clamp-1 break-keep overflow-hidden",children:e.specialty}),c.jsx("div",{className:"mb-4 flex flex-wrap gap-2",children:e.tags.slice(0,2).map((t,n)=>c.jsx("span",{className:"rounded-full border border-gray-200 bg-white px-2.5 py-1 text-sm font-medium text-gray-700",children:t},n))}),c.jsxs("div",{className:"mt-auto space-y-1.5 text-sm text-gray-700",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ss,{size:16,stroke:1.5,className:"text-[#7aa3cc] flex-shrink-0"}),c.jsx("span",{className:"font-medium truncate",children:e.location})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(j0,{size:16,stroke:1.5,className:"text-purple-500 flex-shrink-0"}),c.jsx("span",{className:"font-medium text-gray-900 truncate",children:e.experience})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(C0,{size:16,stroke:1.5,className:"text-yellow-500 flex-shrink-0"}),c.jsx("span",{className:"font-medium text-gray-900",children:e.rating.toFixed(1)}),c.jsxs("span",{className:"font-medium text-gray-500",children:["(",e.reviewCount,")"]})]})]})]})]})}function gT({job:e,isOpen:t,onClose:n}){var H,ee,ae,_e,A,T;if(!t)return null;const r=e.structured_content??null,s=E=>{const R=E==null?void 0:E.toString().trim();return R&&R.length>0?R:void 0},i=e.deadline?`${e.deadline}${e.daysLeft!==void 0?` (D-${e.daysLeft})`:""}`:void 0,o=s(i),a=s(e.location),l=s(e.compensation),u=s(((H=r==null?void 0:r.overview)==null?void 0:H.work_period)||e.work_period),d=s(((ee=r==null?void 0:r.overview)==null?void 0:ee.application_period)||e.application_period),h=s((ae=r==null?void 0:r.contact)==null?void 0:ae.name),f=s((_e=r==null?void 0:r.contact)==null?void 0:_e.phone),m=s((A=r==null?void 0:r.contact)==null?void 0:A.email),v=s(e.contact);let x,w,g;if(v){const E=v.match(/\d{2,4}[\-\s]?\d{3,4}[\-\s]?\d{4}/);if(E&&(w=E[0].replace(/\s+/g,""),!w.includes("-")&&w.length>=9)){const z=w,$=z.length===9?z.slice(0,2):z.slice(0,3),de=z.length===9?z.slice(2,5):z.slice(3,z.length-4),je=z.slice(-4);w=`${$}-${de}-${je}`}const R=v.match(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/);R&&(g=R[0]);const D=v.replace(E?E[0]:"","").replace(R?R[0]:"","").split(/\n|\|/).map(z=>z.replace(/[\p{Zs}\t]+/gu," ").trim()).find(z=>z.length>0);D&&(x=D)}const p=h??x,y=f??w,_=m??g,k=[p?{label:"담당자",value:p}:null,y?{label:"전화번호",value:y}:null,_?{label:"이메일",value:_}:null].filter(Boolean),N=(E,R,D,z)=>({icon:E,accent:R,label:D,value:z}),S=[];a&&S.push(N(ss,"text-[#7aa3cc]","위치",a)),l&&S.push(N(cd,"text-[#7db8a3]","급여",l)),o&&S.push(N(Jr,"text-orange-500","마감일",o));const j=[];u&&j.push(N(Ko,"text-blue-500","근무기간",u)),d&&j.push(N(Ko,"text-indigo-500","접수기간",d));const P=e.qualifications&&e.qualifications.length>0?e.qualifications:((T=r==null?void 0:r.qualifications)==null?void 0:T.filter(E=>E&&E.trim().length>0))??[],O=s(e.work_time),B=[e.organization,e.title].filter(Boolean).join(" ");return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",onClick:n,children:c.jsxs("div",{className:"relative w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-white rounded-2xl shadow-2xl animate-slide-up",onClick:E=>E.stopPropagation(),children:[c.jsxs("div",{className:"sticky top-0 z-10 bg-gradient-to-r from-primary to-[#8fb4d6] p-4 text-white",children:[c.jsx("button",{onClick:n,className:"absolute top-3 right-3 p-2 rounded-full hover:bg-white/20 transition-colors",children:c.jsx(is,{size:24})}),c.jsxs("div",{className:"pr-10 space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-semibold opacity-90",children:"공고"}),e.isUrgent&&c.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-red-500 text-white text-xs font-bold",children:"🔥 긴급"})]}),c.jsx("h2",{className:"text-xl font-extrabold leading-tight md:text-2xl",children:B})]})]}),c.jsxs("div",{className:"p-4 space-y-3 sm:p-5 sm:space-y-4",children:[c.jsxs("div",{className:"space-y-2.5 sm:space-y-3",children:[S.length>0&&c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-1.5 sm:gap-2",children:S.map(({icon:E,accent:R,label:D,value:z})=>c.jsxs("div",{className:"flex items-start gap-1.5 p-2.5 sm:p-3 bg-gray-50 rounded-lg",children:[c.jsx(E,{size:20,className:`${R} flex-shrink-0 mt-0.5`}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:D}),c.jsx("div",{className:"font-semibold text-gray-900 leading-tight break-words",children:z})]})]},D))}),j.length>0&&c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1.5 sm:gap-2",children:j.map(({icon:E,accent:R,label:D,value:z})=>c.jsxs("div",{className:"flex items-start gap-1.5 p-2.5 sm:p-3 bg-gray-50 rounded-lg",children:[c.jsx(E,{size:20,className:`${R} flex-shrink-0 mt-0.5`}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:D}),c.jsx("div",{className:"font-semibold text-gray-900 leading-tight break-words",children:z})]})]},D))}),O&&c.jsxs("div",{className:"flex items-start gap-1.5 p-2.5 sm:p-3 bg-gray-50 rounded-lg",children:[c.jsx(Jr,{size:20,className:"text-primary flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 mb-0.5",children:"근무시간"}),c.jsx("div",{className:"font-semibold text-gray-900 break-words",children:O})]})]})]}),k.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-bold text-gray-900",children:[c.jsx(T0,{size:20}),"문의"]}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-2.5 sm:p-3",children:c.jsx("div",{className:"flex flex-col gap-1 sm:flex-row sm:flex-wrap sm:items-center sm:gap-2.5",children:k.map(({label:E,value:R})=>c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-900",children:[c.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:E}),c.jsx("span",{className:"font-semibold",children:R})]},E))})})]}),P.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("h3",{className:"flex items-center gap-2 text-lg font-bold text-gray-900",children:[c.jsx(k0,{size:20}),"자격 요건"]}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-2.5 sm:p-3",children:c.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:P.join(", ")})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.attachment_url?c.jsxs("a",{href:e.attachment_url,className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-primary text-white font-semibold rounded-lg hover:bg-primary/90 transition-colors",children:[c.jsx(mf,{size:20}),"공고문 다운로드"]}):c.jsxs("button",{type:"button",disabled:!0,className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-gray-100 text-gray-400 font-semibold rounded-lg cursor-not-allowed",children:[c.jsx(mf,{size:20}),"공고문 준비 중"]}),e.source_url&&c.jsxs("a",{href:e.source_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-5 py-2.5 bg-gray-100 text-gray-900 font-semibold rounded-lg hover:bg-gray-200 transition-colors",children:[c.jsx(Qb,{size:20}),"원문링크"]})]})]})]})})}function yT({cards:e}){const[t,n]=b.useState(null);return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(r=>c.jsx("div",{children:r.type==="job"?c.jsx(pT,{job:r,onClick:()=>n(r)}):c.jsx(mT,{talent:r})},r.id))}),t&&c.jsx(gT,{job:t,isOpen:!!t,onClose:()=>n(null)})]})}async function sa(e){const{data:t,error:n}=await ie.from("user_profiles").select("*").eq("user_id",e).maybeSingle();return n?{data:null,error:n}:{data:t,error:null}}async function vT(e,t){const{displayName:n,roles:r,primaryRegion:s,interestRegions:i,experienceYears:o,receiveNotifications:a,intro:l,agreeTerms:u,agreePrivacy:d,agreeMarketing:h}=t,{data:f,error:m}=await ie.from("user_profiles").upsert({user_id:e,display_name:n,roles:r,primary_region:s,interest_regions:i,experience_years:o,receive_notifications:a,intro:l||null,agree_terms:u,agree_privacy:d,agree_marketing:h},{onConflict:"user_id"}).select().maybeSingle();return m?{data:null,error:m}:{data:f,error:null}}let im=0;const $v=Kd(e=>({toasts:[],showToast:(t,n="info")=>{im+=1;const r={id:im,message:t,type:n};e(s=>({toasts:[...s.toasts,r]})),setTimeout(()=>{e(s=>({toasts:s.toasts.filter(i=>i.id!==r.id)}))},2500)},removeToast:t=>{e(n=>({toasts:n.toasts.filter(r=>r.id!==t)}))}}));function xT({displayName:e,email:t,phone:n,profileImage:r,onNameChange:s,onPhoneChange:i,onImageChange:o,isEditMode:a}){const[l,u]=b.useState(null),d=f=>{var x;const m=(x=f.target.files)==null?void 0:x[0];if(!m)return;if(!m.type.startsWith("image/")){alert("이미지 파일만 선택 가능합니다.");return}if(m.size>5*1024*1024){alert("파일 크기는 5MB 이하여야 합니다.");return}o(m);const v=new FileReader;v.onload=w=>{var g;u((g=w.target)==null?void 0:g.result)},v.readAsDataURL(m)},h=()=>{o(null),u(null)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"기본 신원 정보"}),c.jsx("p",{className:"text-sm text-gray-500",children:"정확한 정보를 입력해 주세요. 이후 수정은 프로필 설정에서 가능합니다."})]}),c.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-gray-100 bg-[#f8fbff] px-5 py-5",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs font-semibold text-[#7aa3cc]",children:"이름"}),c.jsx("h4",{className:"text-base font-bold text-gray-900",children:"어떻게 불러드리면 될까요?"})]}),c.jsxs("label",{className:"space-y-2",children:[c.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"이름"}),c.jsx("input",{type:"text",value:e,onChange:f=>s(f.target.value),disabled:a,readOnly:a,placeholder:"홍길동",className:"w-full rounded-xl border border-gray-200 bg-white px-4 py-3 text-sm outline-none focus:border-[#7aa3cc] focus:ring-2 focus:ring-[#cfe0f3] disabled:bg-gray-50"})]})]}),c.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-gray-100 bg-white px-5 py-5",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs font-semibold text-[#7aa3cc]",children:"연락처"}),c.jsx("h4",{className:"text-base font-bold text-gray-900",children:"연락처를 알려주세요"})]}),c.jsxs("div",{className:"grid gap-2 text-sm text-gray-600",children:[c.jsx("span",{className:"font-semibold text-gray-700",children:"이메일"}),c.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-dashed border-gray-300 bg-white px-4 py-3 text-sm font-medium text-gray-700",children:[c.jsx("span",{children:t??"이메일 정보 없음"}),c.jsx("span",{className:"text-xs text-gray-400",children:"소셜 계정 연동"})]})]}),c.jsxs("label",{className:"space-y-2",children:[c.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"전화번호"}),c.jsx("input",{type:"tel",value:n,onChange:f=>i(f.target.value),placeholder:"010-1234-5678",className:"w-full rounded-xl border border-gray-200 bg-white px-4 py-3 text-sm outline-none focus:border-[#7aa3cc] focus:ring-2 focus:ring-[#cfe0f3]"})]})]}),c.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-gray-100 bg-white px-5 py-5",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs font-semibold text-[#7aa3cc]",children:"프로필 사진"}),c.jsx("h4",{className:"text-base font-bold text-gray-900",children:"프로필 사진을 등록해 주세요"}),c.jsx("p",{className:"text-xs text-gray-500",children:"선택 사항입니다. 나중에 수정할 수 있습니다."})]}),l?c.jsxs("div",{className:"relative w-full max-w-xs",children:[c.jsx("img",{src:l,alt:"프로필 미리보기",className:"w-full h-40 rounded-xl object-cover border border-gray-200"}),c.jsx("button",{type:"button",onClick:h,className:"absolute top-2 right-2 inline-flex h-8 w-8 items-center justify-center rounded-full bg-white shadow-md hover:bg-gray-100 transition-colors","aria-label":"이미지 제거",children:c.jsx(is,{size:16,className:"text-gray-600"})})]}):c.jsxs("label",{className:"flex flex-col items-center justify-center gap-3 rounded-xl border-2 border-dashed border-gray-300 bg-gray-50 px-6 py-8 cursor-pointer hover:border-[#7aa3cc] hover:bg-[#f8fbff] transition-colors",children:[c.jsx(g1,{size:24,className:"text-gray-400"}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"이미지를 선택해 주세요"}),c.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG (최대 5MB)"})]}),c.jsx("input",{type:"file",accept:"image/*",onChange:d,className:"hidden","aria-label":"프로필 사진 업로드"})]})]})]})}const wT=["요리","코딩","음악","미술","체육","영어","수학","과학","중국어","일본어","드론","로봇","보드게임","독서","글쓰기","진로교육","집단상담","교권보호","AI교육","유아놀이"],bT=["1년 미만","1-3년","3-5년","5-10년","10년 이상"],_T=["정교사 1급","정교사 2급","특수교육 자격","기타"];function ST({roles:e,instructorCategories:t,instructorCustom:n,experienceLevel:r,certificates:s,onRolesChange:i,onInstructorCategoriesChange:o,onInstructorCustomChange:a,onExperienceLevelChange:l,onCertificatesChange:u}){const[d,h]=b.useState(!1),f=["교사","강사","업체","기타"],m=g=>{e.includes(g)?i(e.filter(p=>p!==g)):i([...e,g])},v=g=>{t.includes(g)?o(t.filter(p=>p!==g)):o([...t,g])},x=g=>{s.includes(g)?u(s.filter(p=>p!==g)):u([...s,g])},w=e.includes("강사");return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"교육 자격 및 경력"}),c.jsx("p",{className:"text-sm text-gray-500",children:"정확한 자격과 경력 정보를 입력해 주세요."})]}),c.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-gray-100 bg-white px-5 py-5",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs font-semibold text-[#7aa3cc]",children:"역할 선택"}),c.jsx("h4",{className:"text-base font-bold text-gray-900",children:"어떤 역할로 활동하세요?"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",onClick:()=>h(!d),className:"w-full flex items-center justify-between rounded-xl border border-gray-200 bg-white px-4 py-3 text-left text-sm font-medium text-gray-700 hover:border-[#7aa3cc] transition-colors",children:[c.jsx("span",{children:e.length>0?`${e.join(", ")} (${e.length}개)`:"역할을 선택해 주세요"}),c.jsx(Bb,{size:18,className:`transition-transform ${d?"rotate-180":""}`})]}),d&&c.jsx("div",{className:"absolute top-full left-0 right-0 z-10 mt-2 rounded-xl border border-gray-200 bg-white shadow-lg",children:f.map(g=>c.jsxs("label",{className:"flex items-center gap-3 px-4 py-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",children:[c.jsx("input",{type:"checkbox",checked:e.includes(g),onChange:()=>m(g),className:"h-4 w-4 rounded border-gray-300 text-[#7aa3cc] focus:ring-[#7aa3cc]"}),c.jsx("span",{className:"text-sm text-gray-700",children:g})]},g))})]})]}),w&&c.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-[#e3edf9] bg-[#f6f9fe] px-5 py-5",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs font-semibold text-[#7aa3cc]",children:"강사 분야"}),c.jsx("h4",{className:"text-base font-bold text-gray-900",children:"어떤 분야를 가르치세요?"}),c.jsx("p",{className:"text-xs text-gray-500",children:"여러 분야를 선택할 수 있습니다."})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:wT.map(g=>c.jsx("button",{type:"button",onClick:()=>v(g),className:`rounded-full px-4 py-2 text-sm font-semibold transition-colors ${t.includes(g)?"bg-[#7aa3cc] text-white shadow-sm":"border border-gray-200 text-gray-600 hover:border-[#7aa3cc]"}`,children:g},g))}),c.jsxs("label",{className:"space-y-2",children:[c.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"자유 입력 (추가 분야)"}),c.jsx("textarea",{value:n,onChange:g=>a(g.target.value),placeholder:"예: 드론 조종, 보드게임 등",className:"w-full rounded-xl border border-gray-200 bg-white px-4 py-3 text-sm outline-none focus:border-[#7aa3cc] focus:ring-2 focus:ring-[#cfe0f3] resize-none",rows:2})]})]}),c.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-gray-100 bg-white px-5 py-5",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs font-semibold text-[#7aa3cc]",children:"경력"}),c.jsx("h4",{className:"text-base font-bold text-gray-900",children:"교육 경력은 어느 정도 되세요?"})]}),c.jsx("div",{className:"space-y-2",children:bT.map(g=>c.jsxs("label",{className:"flex items-center gap-3 rounded-lg px-4 py-3 hover:bg-gray-50 cursor-pointer border border-gray-200 transition-colors",children:[c.jsx("input",{type:"radio",name:"experienceLevel",value:g,checked:r===g,onChange:p=>l(p.target.value),className:"h-4 w-4 border-gray-300 text-[#7aa3cc] focus:ring-[#7aa3cc]"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:g})]},g))})]}),c.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-gray-100 bg-white px-5 py-5",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs font-semibold text-[#7aa3cc]",children:"보유 자격증"}),c.jsx("h4",{className:"text-base font-bold text-gray-900",children:"보유하신 자격증을 선택해 주세요"}),c.jsx("p",{className:"text-xs text-gray-500",children:"선택사항입니다. 여러 개를 선택할 수 있습니다."})]}),c.jsx("div",{className:"space-y-2",children:_T.map(g=>c.jsxs("label",{className:"flex items-center gap-3 rounded-lg px-4 py-3 hover:bg-gray-50 cursor-pointer border border-gray-200 transition-colors",children:[c.jsx("input",{type:"checkbox",checked:s.includes(g),onChange:()=>x(g),className:"h-4 w-4 rounded border-gray-300 text-[#7aa3cc] focus:ring-[#7aa3cc]"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:g})]},g))})]})]})}const kT=["기간제 교사","시간제 교사","경력을 활용한 협력수업"],jT=["담임","과학","영어","체육","음악","미술","실과","국어","수학","사회","도덕","기술·가정"],NT=["선택한 지역만","선택한 지역 + 인접 지역","전국"];function ET({preferredRegions:e,regionExpansionMode:t,preferredJobTypes:n,preferredSubjects:r,onRegionsChange:s,onRegionExpansionChange:i,onJobTypesChange:o,onSubjectsChange:a}){const l=h=>{e.includes(h)?s(e.filter(f=>f!==h)):s([...e,h])},u=h=>{n.includes(h)?o(n.filter(f=>f!==h)):o([...n,h])},d=h=>{r.includes(h)?a(r.filter(f=>f!==h)):a([...r,h])};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"선호도 설정"}),c.jsx("p",{className:"text-sm text-gray-500",children:"선호하는 조건을 입력해 주세요. 최소 1개 이상 선택해야 합니다."})]}),c.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-gray-100 bg-white px-5 py-5",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs font-semibold text-[#7aa3cc]",children:"선호 지역"}),c.jsx("h4",{className:"text-base font-bold text-gray-900",children:"활동하고 싶은 지역을 선택해 주세요"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:mi.map(h=>c.jsx("button",{type:"button",onClick:()=>l(h),className:`rounded-full px-4 py-2 text-sm font-semibold transition-colors ${e.includes(h)?"bg-[#7aa3cc] text-white shadow-sm":"border border-gray-200 text-gray-600 hover:border-[#7aa3cc]"}`,children:h},h))}),e.length>0&&c.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-100",children:[c.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"지역 확대 방식"}),c.jsx("div",{className:"space-y-2",children:NT.map(h=>c.jsxs("label",{className:"flex items-center gap-3 rounded-lg px-4 py-3 hover:bg-gray-50 cursor-pointer border border-gray-200 transition-colors",children:[c.jsx("input",{type:"radio",name:"regionExpansionMode",value:h,checked:t===h,onChange:f=>i(f.target.value),className:"h-4 w-4 border-gray-300 text-[#7aa3cc] focus:ring-[#7aa3cc]"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:h})]},h))})]})]}),c.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-gray-100 bg-white px-5 py-5",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs font-semibold text-[#7aa3cc]",children:"선호 직종"}),c.jsx("h4",{className:"text-base font-bold text-gray-900",children:"선호하는 직종을 선택해 주세요"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:kT.map(h=>c.jsx("button",{type:"button",onClick:()=>u(h),className:`rounded-full px-4 py-2 text-sm font-semibold transition-colors ${n.includes(h)?"bg-[#7aa3cc] text-white shadow-sm":"border border-gray-200 text-gray-600 hover:border-[#7aa3cc]"}`,children:h},h))})]}),c.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-gray-100 bg-white px-5 py-5",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs font-semibold text-[#7aa3cc]",children:"선호 과목"}),c.jsx("h4",{className:"text-base font-bold text-gray-900",children:"선호하는 과목을 선택해 주세요"}),c.jsx("p",{className:"text-xs text-gray-500",children:"선택사항입니다. 여러 개를 선택할 수 있습니다."})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:jT.map(h=>c.jsx("button",{type:"button",onClick:()=>d(h),className:`rounded-full px-4 py-2 text-sm font-semibold transition-colors ${r.includes(h)?"bg-[#7aa3cc] text-white shadow-sm":"border border-gray-200 text-gray-600 hover:border-[#7aa3cc]"}`,children:h},h))})]})]})}function zl({items:e,onReorder:t,title:n,description:r}){const[s,i]=b.useState(null),o=u=>{i(u)},a=u=>{u.preventDefault()},l=u=>{if(s===null||s===u){i(null);return}const d=[...e],h=d[s];d.splice(s,1),d.splice(u,0,h),t(d),i(null)};return c.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-gray-100 bg-white px-5 py-5",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("h4",{className:"text-base font-bold text-gray-900",children:n}),c.jsx("p",{className:"text-xs text-gray-500",children:r})]}),e.length===0?c.jsx("div",{className:"rounded-lg border border-dashed border-gray-300 bg-gray-50 px-4 py-6 text-center text-sm text-gray-500",children:"선택된 항목이 없습니다. 이전 단계에서 선택해 주세요."}):c.jsx("div",{className:"space-y-2",children:e.map((u,d)=>c.jsxs("div",{draggable:!0,onDragStart:()=>o(d),onDragOver:a,onDrop:()=>l(d),className:`flex items-center gap-3 rounded-lg border px-4 py-3 cursor-move transition-all ${s===d?"border-[#7aa3cc] bg-[#f8fbff] opacity-50":"border-gray-200 bg-white hover:border-[#7aa3cc] hover:bg-[#f8fbff]"}`,children:[c.jsx(Zb,{size:18,className:"text-gray-400 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-900",children:u.label}),u.description&&c.jsx("div",{className:"text-xs text-gray-400 mt-1",children:u.description}),c.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["우선순위 ",d+1]})]})]},u.id))})]})}function TT({regionPriority:e,jobTypePriority:t,subjectPriority:n,availableRegions:r,availableJobTypes:s,availableSubjects:i,onRegionPriorityChange:o,onJobTypePriorityChange:a,onSubjectPriorityChange:l}){const u=e.map(m=>({id:m,label:m})),d={"경력을 활용한 협력수업":"정규교사와 수업시간 협력하는 미술상담 수업"},h=t.map(m=>({id:m,label:m,description:d[m]})),f=n.map(m=>({id:m,label:m}));return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"우선순위 설정"}),c.jsx("p",{className:"text-sm text-gray-500",children:"드래그로 우선순위를 정렬해 주세요. 위쪽이 더 높은 우선순위입니다."})]}),c.jsx(zl,{items:u,onReorder:m=>o(m.map(v=>v.id)),title:"지역 우선순위",description:"선호하는 지역의 우선순위를 정렬해 주세요."}),c.jsx(zl,{items:h,onReorder:m=>a(m.map(v=>v.id)),title:"직종 우선순위",description:"선호하는 직종의 우선순위를 정렬해 주세요."}),c.jsx(zl,{items:f,onReorder:m=>l(m.map(v=>v.id)),title:"과목 우선순위",description:"선호하는 과목의 우선순위를 정렬해 주세요. (선택사항)"})]})}function CT({additionalSkills:e,onSkillsChange:t}){const n=e.trim().split(`
`).filter(r=>r.trim()).length;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"추가 역량"}),c.jsx("p",{className:"text-sm text-gray-500",children:"보유하신 추가 역량을 입력해 주세요. (선택사항)"})]}),c.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-gray-100 bg-white px-5 py-5",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs font-semibold text-[#7aa3cc]",children:"추가 역량"}),c.jsx("h4",{className:"text-base font-bold text-gray-900",children:"본인을 소개하는 설명"}),c.jsx("p",{className:"text-xs text-gray-500",children:"본인의 역량을 자유롭게 소개해 주세요."})]}),c.jsx("textarea",{value:e,onChange:r=>t(r.target.value),placeholder:"예: 생활지도, 교권보호 관련 교직원 연수 가능합니다.\\n인공지능이나 놀이교육 관련 연수나 학생 수업도 진행할 수 있습니다.",className:"w-full rounded-xl border border-gray-200 bg-white px-4 py-3 text-sm outline-none focus:border-[#7aa3cc] focus:ring-2 focus:ring-[#cfe0f3] resize-none",rows:6}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[c.jsxs("span",{children:["입력된 역량: ",n,"개"]}),c.jsx("span",{className:"text-[#7aa3cc] font-semibold",children:"AI 추천 정확도 향상"})]})]}),c.jsx("div",{className:"rounded-2xl border border-[#e3edf9] bg-[#f6f9fe] px-5 py-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("h5",{className:"text-sm font-bold text-gray-900",children:"💡 팁"}),c.jsx("p",{className:"text-xs text-gray-600",children:"추가 역량을 입력하면 AI가 더 정확하게 맞춤 공고를 추천해 드릴 수 있습니다. 외국어, 특기, 자격증, 경험 등 자유롭게 입력해 주세요."})]})})]})}const Uv=["교사","강사","업체","기타"],PT=5,AT=30;function RT({isOpen:e,onClose:t,userEmail:n,userId:r,onComplete:s,mode:i="create",initialData:o}){const a=$v(K=>K.showToast),[l,u]=b.useState(1),[d,h]=b.useState(""),[f,m]=b.useState(null),[v,x]=b.useState(""),[w,g]=b.useState([]),[p,y]=b.useState([]),[_,k]=b.useState(""),[N,S]=b.useState(""),[j,P]=b.useState([]),[O,B]=b.useState(""),[H,ee]=b.useState([]),[ae,_e]=b.useState("선택한 지역만"),[A,T]=b.useState([]),[E,R]=b.useState([]),[D,z]=b.useState([]),[$,de]=b.useState([]),[je,st]=b.useState([]),[ze,Lt]=b.useState(""),[Xd,Zd]=b.useState(""),[Ua,Ai]=b.useState(null),[Tn,Cn]=b.useState(!0),[us,Ri]=b.useState(""),[Xt,ir]=b.useState(!1),[L,me]=b.useState(!1),[le,Ge]=b.useState(!1);b.useEffect(()=>{e&&(i==="edit"&&o&&(x(o.displayName??""),g(o.roles??[]),B(o.primaryRegion??""),ee(o.interestRegions??[]),Ai(o.experienceYears??null),Cn(o.receiveNotifications??!0),Ri(o.intro??""),ir(o.agreeTerms??!1),me(o.agreePrivacy??!1),Ge(o.agreeMarketing??!1)),i==="create"&&(x(""),g([]),B(""),ee([]),Ai(null),Cn(!0),Ri(""),ir(!1),me(!1),Ge(!1)))},[e,i,o]);const[it,Et]=b.useState("idle"),[gt,ds]=b.useState(null);b.useEffect(()=>{e&&(Et("idle"),ds(null))},[e,i,o]),b.useMemo(()=>Array.from({length:AT+1},(K,he)=>he),[]);const za=K=>{g(he=>he.includes(K)?he.filter(Oi=>Oi!==K):[...he,K])},Fa=!!v.trim()&&w.length>0&&(i==="edit"||Xt&&L)&&!!r,Qv=r?v.trim()?w.length===0?"역할을 선택해 주세요":i==="edit"?"변경 사항 저장":!Xt||!L?"필수 약관에 동의해 주세요":"등록 완료":"이름을 입력해 주세요":"로그인 정보가 필요합니다",Yv=async K=>{var nh;if(K.preventDefault(),!Fa||!r)return;Et("loading"),ds(null);const he={name:v.trim(),roles:w,primaryRegion:O,interestRegions:H,experienceYears:Ua,receiveNotifications:Tn,intro:us.trim(),agreeTerms:Xt,agreePrivacy:L,agreeMarketing:le},{error:Oi}=await vT(r,{displayName:he.name,roles:he.roles,primaryRegion:he.primaryRegion||null,interestRegions:he.interestRegions,experienceYears:he.experienceYears,receiveNotifications:he.receiveNotifications,intro:he.intro,agreeTerms:he.agreeTerms,agreePrivacy:he.agreePrivacy,agreeMarketing:he.agreeMarketing});if(Oi){Et("error"),ds(Oi.message);return}try{const{data:hs}=await ie.auth.getSession(),rh=(nh=hs==null?void 0:hs.session)==null?void 0:nh.access_token;if(rh){const{error:sh}=await ie.functions.invoke("profile-recommendations",{headers:{Authorization:`Bearer ${rh}`}});sh&&console.error("추천 생성 함수 호출 실패:",sh)}}catch(hs){console.error("추천 생성 호출 중 오류:",hs)}sessionStorage.removeItem("profileSetupPending"),Et("success"),a(i==="edit"?"프로필이 업데이트되었습니다":"가입완료 되었습니다","success"),s==null||s(),t()},Xv=it==="loading"?"저장 중...":Qv,eh=b.useMemo(()=>[...w,...H.slice(0,2)].join(" · "),[w,H]),Tt=i==="edit",th=["기본 신원","교육 자격","선호도 설정","우선순위 설정","추가 역량"],Zv=["정확한 기본 정보를 입력해 주세요.","교육 자격과 경력을 선택해 주세요.","선호하는 지역, 직종, 과목을 선택해 주세요.","우선순위를 드래그로 정렬해 주세요.","추가 역량을 입력해 주세요. (선택사항)"],ex=Tt?"프로필 수정":`Step ${l} / ${th[l-1]}`,tx=Tt?"프로필 정보를 수정해 주세요":th[l-1],nx=Tt?"필요한 항목만 업데이트할 수 있어요.":Zv[l-1],rx=Tt?"취소":l===1?"닫기":"이전 단계",sx=l===5?"완료":"다음 단계",Ba=(()=>{switch(l){case 1:return!!v.trim();case 2:return w.length>0&&!!N;case 3:return H.length>0&&A.length>0;case 4:return!0;case 5:return!0;default:return!0}})(),Va=5;return c.jsx(Gn,{children:e&&c.jsx(dt.div,{className:"fixed inset-0 z-[998] flex items-center justify-center bg-black/45 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:c.jsxs(dt.div,{className:"relative w-full max-w-2xl mx-4 rounded-3xl bg-white shadow-2xl font-esamanru",initial:{y:40,opacity:0},animate:{y:0,opacity:1},exit:{y:40,opacity:0},transition:{type:"spring",stiffness:220,damping:26},onClick:K=>K.stopPropagation(),children:[c.jsxs("header",{className:"flex items-start justify-between px-8 pt-8 pb-4 border-b border-gray-100",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2 text-[#7aa3cc] text-xs font-semibold tracking-wide uppercase",children:[c.jsx("span",{children:"셀바바이미"}),c.jsx("span",{className:"px-2 py-0.5 rounded-full bg-[#e6f0fb] text-[#4b83c6]",children:ex})]}),c.jsx("h2",{className:"text-2xl font-extrabold text-gray-900",children:tx}),c.jsx("p",{className:"text-sm text-gray-500",children:nx})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[eh&&c.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 rounded-full bg-[#f1f5fb] text-xs text-[#4b83c6] font-semibold",children:[c.jsx(S0,{size:16}),c.jsx("span",{children:eh})]}),c.jsx("button",{type:"button",onClick:t,className:"inline-flex h-9 w-9 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors","aria-label":"닫기",children:c.jsx(is,{size:18})})]})]}),c.jsx("form",{onSubmit:Yv,className:"px-8 pb-8 pt-6 max-h-[80vh] overflow-y-auto",children:c.jsxs("section",{className:"space-y-6",children:[it==="error"&&gt&&c.jsxs("div",{className:"rounded-xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-600",children:["저장에 실패했습니다: ",gt]}),l===1?c.jsx(xT,{displayName:v,email:n??null,phone:d,profileImage:f,onNameChange:x,onPhoneChange:h,onImageChange:m,isEditMode:Tt}):l===2?c.jsx(ST,{roles:w,instructorCategories:p,instructorCustom:_,experienceLevel:N,certificates:j,onRolesChange:g,onInstructorCategoriesChange:y,onInstructorCustomChange:k,onExperienceLevelChange:S,onCertificatesChange:P}):l===3?c.jsx(ET,{preferredRegions:H,regionExpansionMode:ae,preferredJobTypes:A,preferredSubjects:E,onRegionsChange:ee,onRegionExpansionChange:_e,onJobTypesChange:T,onSubjectsChange:R}):l===4?c.jsx(TT,{regionPriority:D,jobTypePriority:$,subjectPriority:je,availableRegions:H,availableJobTypes:A,availableSubjects:E,onRegionPriorityChange:z,onJobTypePriorityChange:de,onSubjectPriorityChange:st}):l===5?c.jsx(CT,{additionalSkills:ze,onSkillsChange:Lt}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl border border-gray-100 bg-[#f8fbff] px-5 py-5",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-xs font-semibold text-[#4b83c6]",children:"기본 정보"}),c.jsx("h3",{className:"mt-1 text-lg font-bold text-gray-900",children:"어떻게 불러드리면 될까요?"})]}),c.jsxs("label",{className:"space-y-2",children:[c.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"이름"}),c.jsx("input",{type:"text",value:v,onChange:K=>x(K.target.value),disabled:Tt,readOnly:Tt,placeholder:"홍길동",className:"w-full rounded-xl border border-gray-200 bg-white px-4 py-3 text-sm outline-none focus:border-[#7aa3cc] focus:ring-2 focus:ring-[#cfe0f3]"})]}),c.jsxs("div",{className:"grid gap-2 text-sm text-gray-600",children:[c.jsx("span",{className:"font-semibold text-gray-700",children:"연동된 소셜 계정"}),c.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-dashed border-gray-300 bg-white px-4 py-3 text-sm font-medium text-gray-700",children:[c.jsx("span",{children:n??"이메일 정보 없음"}),c.jsx("span",{className:"text-xs text-gray-400",children:"변경은 계정 설정에서 가능합니다"})]})]})]}),c.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-gray-100 bg-white px-5 py-5 shadow-[0_6px_20px_rgba(15,97,153,0.06)]",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs font-semibold text-[#7aa3cc]",children:"역할 선택"}),c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"어떤 형태로 활동 중인가요?"}),c.jsx("p",{className:"text-xs text-gray-500",children:"여러 역할을 함께 선택하면 AI 매칭이 더 정확해집니다."})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Uv.map(K=>{const he=w.includes(K);return c.jsx("button",{type:"button",onClick:()=>za(K),className:`rounded-full px-4 py-2 text-sm font-semibold transition-colors ${he?"bg-[#7aa3cc] text-white shadow-sm":"border border-gray-200 text-gray-600 hover:border-[#7aa3cc]"}
                            `,children:K},K)})})]}),c.jsxs("div",{className:"flex flex-col gap-4 rounded-2xl border border-gray-100 bg-white px-5 py-5",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("span",{className:"text-xs font-semibold text-[#7aa3cc]",children:"활동 지역"}),c.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"활동하는 지역을 알려주세요"}),c.jsxs("p",{className:"text-xs text-gray-500",children:["주요 지역 1곳과 관심 지역을 최대 ",PT,"개까지 입력할 수 있습니다."]})]}),c.jsxs("label",{className:"space-y-2",children:[c.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"주 활동 지역"}),c.jsxs("select",{value:O,onChange:K=>B(K.target.value),className:"w-full rounded-xl border border-gray-200 bg-white px-4 py-3 text-sm text-gray-700 outline-none focus:border-[#7aa3cc] focus:ring-2 focus:ring-[#cfe0f3]",children:[c.jsx("option",{value:"",children:"선택해 주세요"}),mi.map(K=>c.jsx("option",{value:K,children:K},K))]})]}),c.jsxs("label",{className:"flex items-center justify-between gap-4 rounded-xl border border-gray-200 bg-white px-4 py-3",children:[c.jsxs("div",{className:"flex flex-col",children:[c.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"서비스 알림 수신"}),c.jsx("span",{className:"text-xs text-gray-400",children:"새 공고와 추천을 이메일로 받아보세요"})]}),c.jsx("button",{type:"button",onClick:()=>Cn(K=>!K),disabled:Tt,className:`relative h-7 w-12 rounded-full transition-colors ${Tn?"bg-[#7aa3cc]":"bg-gray-300"}`,"aria-pressed":Tn,children:c.jsx("span",{className:`absolute top-1 left-1 h-5 w-5 rounded-full bg-white shadow transition-transform ${Tn?"translate-x-5":"translate-x-0"}`})})]}),c.jsxs("div",{className:"flex flex-col gap-3",children:[c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:Xt,onChange:K=>ir(K.target.checked),disabled:Tt,className:"h-4 w-4 rounded border-gray-300 text-[#7aa3cc] focus:ring-[#7aa3cc]"}),c.jsx("span",{className:"flex-1",children:"이용약관에 동의합니다 (필수)"}),c.jsx("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",className:"text-xs font-semibold text-[#7aa3cc]",children:"보기"})]}),c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:L,onChange:K=>me(K.target.checked),disabled:Tt,className:"h-4 w-4 rounded border-gray-300 text-[#7aa3cc] focus:ring-[#7aa3cc]"}),c.jsx("span",{className:"flex-1",children:"개인정보 수집 및 이용에 동의합니다 (필수)"}),c.jsx("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-xs font-semibold text-[#7aa3cc]",children:"보기"})]}),c.jsxs("label",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"checkbox",checked:le,onChange:K=>Ge(K.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[#7aa3cc] focus:ring-[#7aa3cc]"}),c.jsx("span",{className:"flex-1",children:"셀미바이미 소식 및 이벤트 정보를 받아볼게요 (선택)"})]})]})]})]}),c.jsxs("footer",{className:"flex flex-col gap-3 border-t border-gray-100 pt-4",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[c.jsxs("span",{children:["단계 ",l," / ",Va]}),c.jsx("div",{className:"flex gap-1",children:Array.from({length:Va}).map((K,he)=>c.jsx("div",{className:`h-1 flex-1 rounded-full transition-colors ${he<l?"bg-[#7aa3cc]":"bg-gray-200"}`},he))})]}),c.jsxs("div",{className:"flex flex-col-reverse gap-2 sm:flex-row sm:justify-between",children:[c.jsxs("button",{type:"button",onClick:l===1?t:()=>u(l-1),className:"h-11 rounded-xl border border-gray-300 px-6 text-sm font-semibold text-gray-600 transition-colors hover:bg-gray-100 flex items-center justify-center gap-2",children:[l>1&&c.jsx(N0,{size:16}),rx]}),l<Va?c.jsxs("button",{type:"button",onClick:()=>{Ba&&(l===3&&(z(H),de(A),st(E)),u(l+1))},disabled:!Ba,className:`h-11 rounded-xl px-6 text-sm font-semibold transition-colors flex items-center justify-center gap-2 ${Ba?"bg-[#4b83c6] text-white hover:bg-[#3d73b4]":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:[sx,c.jsx(ld,{size:16})]}):c.jsx("button",{type:"submit",disabled:!Fa||it==="loading",className:`h-11 rounded-xl px-6 text-sm font-semibold transition-colors ${Fa?"bg-[#4b83c6] text-white hover:bg-[#3d73b4]":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:Xv})]})]})]})})]})})})}function OT({isOpen:e,onClose:t,userId:n,userEmail:r,onRequestEdit:s}){const i=Pi(p=>p.logout),[o,a]=b.useState("idle"),[l,u]=b.useState(null),[d,h]=b.useState(null),[f,m]=b.useState(!1);b.useEffect(()=>{let p=!0;return e?n?(a("loading"),h(null),sa(n).then(({data:y,error:_})=>{if(p){if(_){h(_.message),a("error");return}if(!y){u(null),a("empty");return}u(y),a("success")}}),()=>{p=!1}):(u(null),h("로그인 세션이 만료되었습니다. 다시 로그인해 주세요."),a("error"),()=>{p=!1}):()=>{p=!1}},[e,n]);const v=b.useMemo(()=>{var p;return(p=l==null?void 0:l.roles)!=null&&p.length?l.roles.filter(Boolean):[]},[l==null?void 0:l.roles]),x=b.useMemo(()=>{var p;return(p=l==null?void 0:l.interest_regions)!=null&&p.length?l.interest_regions.filter(Boolean):[]},[l==null?void 0:l.interest_regions]),w=b.useMemo(()=>(l==null?void 0:l.experience_years)===null||(l==null?void 0:l.experience_years)===void 0?"입력 안 함":`${l.experience_years}년`,[l==null?void 0:l.experience_years]),g=async()=>{if(!f)try{m(!0),await i(),t()}finally{m(!1)}};return c.jsx(Gn,{children:e&&c.jsx(dt.div,{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:c.jsxs(dt.div,{className:"relative w-full max-w-lg mx-4 rounded-3xl bg-white shadow-2xl font-esamanru",initial:{y:32,opacity:0},animate:{y:0,opacity:1},exit:{y:32,opacity:0},transition:{type:"spring",stiffness:220,damping:26},onClick:p=>p.stopPropagation(),children:[c.jsxs("header",{className:"flex items-start justify-between px-7 pt-7 pb-4 border-b border-gray-100",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-xs font-semibold text-[#7aa3cc] uppercase tracking-wide",children:"내 프로필"}),c.jsx("h2",{className:"text-2xl font-extrabold text-gray-900",children:(l==null?void 0:l.display_name)??"회원 정보"}),c.jsxs("p",{className:"text-xs text-gray-500",children:["가입 이메일: ",r??"알 수 없음"]})]}),c.jsx("button",{type:"button",onClick:t,className:"inline-flex h-9 w-9 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors","aria-label":"닫기",children:c.jsx(is,{size:18})})]}),c.jsxs("div",{className:"px-7 py-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[o==="loading"&&c.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-10 text-sm text-gray-500",children:[c.jsx("span",{className:"animate-spin text-2xl",children:"⏳"}),c.jsx("span",{children:"프로필 정보를 불러오는 중입니다..."})]}),o==="error"&&d&&c.jsxs("div",{className:"flex items-start gap-3 rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:[c.jsx(S0,{size:18}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold",children:"프로필을 불러오지 못했습니다."}),c.jsx("p",{className:"mt-1 text-xs text-red-600/80",children:d})]})]}),o==="empty"&&c.jsx("div",{className:"rounded-2xl border border-dashed border-[#7aa3cc]/40 bg-[#eef5fb] px-5 py-6 text-center text-sm text-gray-600",children:"아직 프로필 정보가 없습니다. 프로필을 먼저 완성해 주세요."}),o==="success"&&l&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("section",{className:"rounded-2xl border border-gray-100 bg-[#f8fbff] px-5 py-5",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"mt-1 rounded-full bg-white p-2 text-[#4b83c6]",children:c.jsx(w1,{size:18})}),c.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[c.jsx("p",{className:"text-xs font-semibold text-[#7aa3cc]",children:"기본 정보"}),c.jsx("p",{className:"text-base font-bold text-gray-900",children:l.display_name}),c.jsx("p",{children:r??"이메일 정보 없음"}),c.jsxs("p",{className:"text-xs text-gray-400",children:["가입: ",new Date(l.created_at).toLocaleString()]})]})]})}),c.jsxs("section",{className:"rounded-2xl border border-gray-100 bg-white px-5 py-5 space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ud,{size:18,className:"text-[#7aa3cc]"}),c.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"역할 & 활동 정보"})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:v.length>0?v.map(p=>c.jsx("span",{className:"rounded-full bg-[#eef3fb] px-3 py-1 text-xs font-semibold text-[#4b83c6]",children:p},p)):c.jsx("span",{className:"text-xs text-gray-500",children:"역할 정보가 없습니다."})}),c.jsxs("div",{className:"grid gap-3 text-sm text-gray-700 md:grid-cols-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ss,{size:16,className:"text-[#4b83c6]"}),c.jsxs("span",{children:["주 활동 지역: ",c.jsx("strong",{children:l.primary_region??"미입력"})]})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-xs font-semibold text-gray-500",children:"경력 연차"}),c.jsx("p",{className:"text-sm text-gray-800",children:w})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("span",{className:"text-xs font-semibold text-gray-500",children:"관심 지역"}),x.length>0?c.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(p=>c.jsx("span",{className:"rounded-full bg-[#f0f6fa] px-3 py-1 text-xs font-semibold text-[#4b83c6]",children:p},p))}):c.jsx("p",{className:"text-xs text-gray-500",children:"관심 지역을 아직 추가하지 않았습니다."})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("span",{className:"text-xs font-semibold text-gray-500",children:"한 줄 소개"}),c.jsx("p",{className:"rounded-xl border border-gray-200 bg-[#fdfefe] px-4 py-3 text-sm text-gray-700",children:l.intro?l.intro:"아직 소개가 등록되지 않았습니다."})]})]}),c.jsxs("section",{className:"rounded-2xl border border-gray-100 bg-white px-5 py-4 text-xs text-gray-500 space-y-2",children:[c.jsx("p",{className:"font-semibold text-gray-600",children:"알림 수신 여부"}),c.jsx("p",{className:"text-sm text-gray-700",children:l.receive_notifications?"서비스 알림을 받는 중입니다.":"서비스 알림을 받고 있지 않습니다."}),c.jsxs("div",{className:"flex flex-wrap gap-2 text-[11px] text-gray-500",children:[c.jsxs("span",{className:`rounded-full px-2.5 py-1 border ${l.agree_terms?"border-emerald-300 bg-emerald-50 text-emerald-600":"border-gray-200 bg-gray-50 text-gray-500"}`,children:["이용약관 동의 ",l.agree_terms?"완료":"미동의"]}),c.jsxs("span",{className:`rounded-full px-2.5 py-1 border ${l.agree_privacy?"border-emerald-300 bg-emerald-50 text-emerald-600":"border-gray-200 bg-gray-50 text-gray-500"}`,children:["개인정보 처리방침 동의 ",l.agree_privacy?"완료":"미동의"]}),c.jsxs("span",{className:`rounded-full px-2.5 py-1 border ${l.agree_marketing?"border-blue-200 bg-blue-50 text-blue-600":"border-gray-200 bg-gray-50 text-gray-500"}`,children:["마케팅 정보 수신 ",l.agree_marketing?"동의":"거부"]})]})]})]})]}),c.jsxs("footer",{className:"flex items-center justify-end gap-2 px-7 py-5 border-t border-gray-100 bg-[#f9fbfe]",children:[c.jsx("button",{type:"button",onClick:()=>s==null?void 0:s(l),className:"inline-flex items-center gap-2 rounded-xl border border-[#4b83c6] px-4 py-2 text-sm font-semibold text-[#4b83c6] transition-colors hover:bg-[#e7f1fb]",children:"프로필 수정"}),c.jsx("button",{type:"button",onClick:g,disabled:f,className:"inline-flex items-center gap-2 rounded-xl bg-[#4b83c6] px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-[#3d73b4] disabled:opacity-60",children:f?"로그아웃 중...":"로그아웃"})]})]})})})}function IT({isOpen:e,onConfirm:t,onClose:n}){const r=b.useCallback(()=>{n==null||n()},[n]),s=b.useCallback(i=>{i.stopPropagation()},[]);return c.jsx(Gn,{children:e&&c.jsx(dt.div,{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/45 backdrop-blur-sm",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,children:c.jsxs(dt.div,{className:"relative w-full max-w-md mx-4 rounded-3xl bg-white shadow-2xl font-esamanru",initial:{y:40,opacity:0},animate:{y:0,opacity:1},exit:{y:40,opacity:0},transition:{type:"spring",stiffness:220,damping:26},onClick:s,children:[c.jsx("button",{type:"button",onClick:n,className:"absolute top-5 right-5 inline-flex h-9 w-9 items-center justify-center rounded-full text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors","aria-label":"닫기",children:c.jsx(is,{size:18})}),c.jsxs("div",{className:"px-8 pt-10 pb-8 space-y-7",children:[c.jsxs("header",{className:"space-y-2",children:[c.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-[#7aa3cc]",children:"프로필 입력 안내"}),c.jsx("h2",{className:"text-2xl font-extrabold text-gray-900",children:"맞춤 추천을 위해 단계별로 함께 준비해요"})]}),c.jsxs("section",{className:"rounded-2xl border border-[#e3edf9] bg-[#f6f9fe] px-6 py-5 text-sm text-gray-700 space-y-2",children:[c.jsx("p",{children:"선생님, 단계별로 자세히 입력해주실수록 AI가 가장 정확하게, 가장 빨리 추천해 드릴 수 있습니다."}),c.jsx("p",{className:"text-[#4b83c6] font-semibold",children:"조금만 시간을 내어 프로필을 완성해 주세요. 부탁드립니다."})]}),c.jsx("footer",{className:"flex justify-end",children:c.jsx("button",{type:"button",onClick:t,className:"inline-flex min-w-[120px] items-center justify-center rounded-xl bg-[#4b83c6] px-6 py-3 text-sm font-semibold text-white transition-colors hover:bg-[#3d73b4]",children:"확인"})})]})]})})})}function DT(){const{toasts:e,removeToast:t}=$v(),n=b.useMemo(()=>e,[e]);return n.length===0?null:c.jsx("div",{className:"pointer-events-none fixed top-6 right-6 z-[9999] flex w-full max-w-sm flex-col gap-3",children:n.map(r=>{const s="pointer-events-auto flex items-start gap-3 rounded-2xl border px-4 py-3 shadow-lg backdrop-blur-sm text-sm font-medium transition-all",i={success:"border-emerald-200 bg-emerald-50/95 text-emerald-800",error:"border-red-200 bg-red-50/95 text-red-800",info:"border-slate-200 bg-white/95 text-slate-800"}[r.type];return c.jsxs("div",{className:`${s} ${i}`,role:"status","aria-live":"polite",children:[c.jsx("span",{className:"flex-1 leading-relaxed",children:r.message}),c.jsx("button",{type:"button",onClick:()=>t(r.id),className:"text-xs font-semibold text-slate-500 transition-colors hover:text-slate-800",children:"닫기"})]},r.id)})})}function zv(e){return{id:e.id,isActive:e.is_active,headline:e.headline,backgroundColor:e.background_color??"#ffffff",fontColor:e.font_color??"#1f2937",fontSize:e.font_size??28,badgeColor:e.badge_color??"#dbeafe",imageScale:typeof e.image_scale=="number"?e.image_scale:1,imageUrl:e.image_url??null,insertPosition:e.insert_position,lastDraftAt:e.last_draft_at,lastAppliedAt:e.last_applied_at,updatedBy:e.updated_by,createdAt:e.created_at,updatedAt:e.updated_at}}async function MT(e){const{data:t,error:n}=await ie.from("recommendations_cache").select("cards, ai_comment, profile_snapshot, updated_at").eq("user_id",e).maybeSingle();if(n)throw console.error("추천 캐시 조회 실패:",n),n;return t?{cards:t.cards??[],aiComment:t.ai_comment??null,profileSnapshot:t.profile_snapshot??null,updatedAt:t.updated_at}:null}async function Fv(e){let t=ie.from("promo_card_settings").select("*").order("updated_at",{ascending:!1});e!=null&&e.onlyActive&&(t=t.eq("is_active",!0));const{data:n,error:r}=await t.limit(1).maybeSingle();if(r)throw console.error("프로모 카드 설정 조회 실패:",r),r;return n?zv(n):null}async function Bv(e,t,n){const r=new Date().toISOString(),s={is_active:e.isActive,headline:e.headline,image_url:e.imageUrl??null,insert_position:e.insertPosition,background_color:e.backgroundColor,font_color:e.fontColor,font_size:e.fontSize,badge_color:e.badgeColor,image_scale:e.imageScale};e.id&&(s.id=e.id),t==="draft"&&(s.last_draft_at=r),t==="apply"&&(s.last_applied_at=r),(n==null?void 0:n.userId)!==void 0&&(s.updated_by=n.userId??null),console.debug("[PromoCard] mutate request",{mode:t,mapped:s,options:n});const{data:i,error:o}=await ie.from("promo_card_settings").upsert(s,{onConflict:"id"}).select("*").single();if(o)throw console.error("프로모 카드 설정 저장 실패:",{error:o,mode:t,mapped:s,options:n}),o;return console.debug("[PromoCard] mutate success",{mode:t,response:i}),zv(i)}async function LT(e,t){return Bv(e,"draft",t)}async function $T(e,t){return Bv(e,"apply",t)}const $a=20,Qd=0,UT="experience",Fl=()=>typeof performance<"u"&&typeof performance.now=="function"?performance.now():Date.now();async function zT(e){const{error:t}=await ie.functions.invoke("admin-crawl-run",{body:{boardId:e}});if(t)throw console.error("크롤 즉시 실행 실패:",t),t}async function FT(e){const{data:t,error:n}=await ie.functions.invoke("admin-crawl-test",{body:{boardId:e}});if(n)throw console.error("크롤 테스트 실행 실패:",n),n;return t}async function BT(){const{data:e,error:t}=await ie.from("crawl_boards").select("*").order("created_at",{ascending:!1});if(t)throw console.error("크롤 게시판 조회 실패:",t),t;return(e??[]).map(Yd)}async function VT(e){const{data:t,error:n}=await ie.from("crawl_boards").insert(Wv(e)).select("*").single();if(n)throw console.error("크롤 게시판 생성 실패:",n),n;return Yd(t)}async function Vv(e,t){const{data:n,error:r}=await ie.from("crawl_boards").update(Wv(t)).eq("id",e).select("*").single();if(r)throw console.error("크롤 게시판 업데이트 실패:",r),r;return Yd(n)}async function WT(e,t){let n=ie.from("crawl_logs").select("*").order("started_at",{ascending:!1}).limit(200);e&&(n=n.eq("board_id",e)),t&&(n=n.eq("status",t));const{data:r,error:s}=await n;if(s)throw console.error("크롤 로그 조회 실패:",s),s;return(r??[]).map(KT)}function Yd(e){return{id:e.id,name:e.name,boardUrl:e.board_url,category:e.category,description:e.description,isActive:e.is_active,status:e.status,crawlConfig:e.crawl_config??{},crawlBatchSize:e.crawl_batch_size??20,lastCrawledAt:e.last_crawled_at,lastSuccessAt:e.last_success_at,errorCount:e.error_count??0,errorMessage:e.error_message,createdAt:e.created_at,updatedAt:e.updated_at}}function Wv(e){const t={};return e.name!==void 0&&(t.name=e.name),e.boardUrl!==void 0&&(t.board_url=e.boardUrl),e.category!==void 0&&(t.category=e.category),e.description!==void 0&&(t.description=e.description),e.isActive!==void 0&&(t.is_active=e.isActive),e.status!==void 0&&(t.status=e.status),e.crawlConfig!==void 0&&(t.crawl_config=e.crawlConfig??{}),e.crawlBatchSize!==void 0&&(t.crawl_batch_size=e.crawlBatchSize),t}function KT(e){return{id:e.id,boardId:e.board_id,status:e.status,startedAt:e.started_at,completedAt:e.completed_at,itemsFound:e.items_found??0,itemsNew:e.items_new??0,itemsSkipped:e.items_skipped??0,aiTokensUsed:e.ai_tokens_used??0,errorLog:e.error_log,createdAt:e.created_at}}async function om(e){try{const t={query:e.searchQuery,filters:e.filters,result_count:e.resultCount},{error:n}=await ie.from("search_logs").insert(t);n&&console.error("검색 로그 저장 실패:",n)}catch(t){console.error("검색 로그 처리 실패:",t)}}function HT(e){const t=new Date(e),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return`~ ${n}.${r}`}function qT(e){const t=new Date,n=new Date(e),r=Math.ceil((n.getTime()-t.getTime())/(1e3*60*60*24));return r>0?r:void 0}async function GT(e={}){const{searchQuery:t="",filters:n,viewType:r="all",limit:s=$a,offset:i=Qd,lastUpdatedAt:o}=e,a=JT(n),l=r??"all",u=QT(t),d=Fl();try{let h;return l==="all"?h=await ZT({searchQuery:t,tokens:u,filters:a,limit:s,offset:i,lastUpdatedAt:o}):l==="talent"?h=await qv({searchQuery:t,tokens:u,filters:a,limit:s,offset:i,lastUpdatedAt:o}):h=await Hv({searchQuery:t,tokens:u,filters:a,limit:s,offset:i,jobType:l==="experience"?UT:void 0,lastUpdatedAt:o}),om({searchQuery:t,tokens:u,viewType:l,filters:a,resultCount:h.totalCount,durationMs:Fl()-d,isError:!1}),h}catch(h){throw om({searchQuery:t,tokens:u,viewType:l,filters:a,resultCount:0,durationMs:Fl()-d,isError:!0,errorMessage:h instanceof Error?h.message:String(h)}),h}}function JT(e){return{region:(e==null?void 0:e.region)??Pa,category:(e==null?void 0:e.category)??Aa,sort:(e==null?void 0:e.sort)??iv}}function QT(e){return e.trim().split(/\s+/).map(t=>t.trim()).filter(t=>t.length>0)}function Kv(e,t){const n=e.map(i=>i.replace(/[&|!:*<>()"\[\]]+/g,"").trim()).filter(i=>i.length>0);if(!n.some(i=>/[^\u0000-\u007F]/.test(i))&&n.length>0)return n.join(" & ");const s=t.trim();return s.length>0&&!/[^\u0000-\u007F]/.test(s)?s:null}function YT(e,t,n){return[...e].sort((r,s)=>{const i=ia(r,t,n),o=ia(s,t,n);if(i!==o)return o-i;const a=typeof r.view_count=="number"?r.view_count:0,l=typeof s.view_count=="number"?s.view_count:0;return a!==l?l-a:new Date(s.created_at??0).getTime()-new Date(r.created_at??0).getTime()})}function XT(e,t,n){return[...e].sort((r,s)=>{const i=oa(r,t,n),o=oa(s,t,n);if(i!==o)return o-i;const a=typeof r.rating=="number"?r.rating:0,l=typeof s.rating=="number"?s.rating:0;if(a!==l)return l-a;const u=typeof r.review_count=="number"?r.review_count:0;return(typeof s.review_count=="number"?s.review_count:0)-u})}function ia(e,t,n){const r=((e==null?void 0:e.title)??"").toLowerCase(),s=((e==null?void 0:e.organization)??"").toLowerCase(),i=((e==null?void 0:e.location)??"").toLowerCase(),o=Array.isArray(e==null?void 0:e.tags)?e.tags.map(d=>(d??"").toLowerCase()):[],a=t.length===0&&n.trim().length>0?[n.trim().toLowerCase()]:[],l=t.length>0?t.map(d=>d.toLowerCase()):a;let u=0;return l.forEach(d=>{d&&(r===d?u+=60:r.includes(d)&&(u+=40),s===d?u+=40:s.includes(d)&&(u+=25),i.includes(d)&&(u+=10),o.some(h=>h===d)?u+=30:o.some(h=>h.includes(d))&&(u+=15))}),e!=null&&e.is_urgent&&(u+=5),u}function oa(e,t,n){const r=((e==null?void 0:e.name)??"").toLowerCase(),s=((e==null?void 0:e.specialty)??"").toLowerCase(),i=Array.isArray(e==null?void 0:e.location)?e.location.map(d=>(d??"").toLowerCase()):[],o=Array.isArray(e==null?void 0:e.tags)?e.tags.map(d=>(d??"").toLowerCase()):[],a=t.length===0&&n.trim().length>0?[n.trim().toLowerCase()]:[],l=t.length>0?t.map(d=>d.toLowerCase()):a;let u=0;return l.forEach(d=>{d&&(r===d?u+=60:r.includes(d)&&(u+=40),s===d?u+=35:s.includes(d)&&(u+=20),i.some(h=>h.includes(d))&&(u+=10),o.some(h=>h===d)?u+=25:o.some(h=>h.includes(d))&&(u+=12))}),u}async function ZT({searchQuery:e,tokens:t,filters:n,limit:r,offset:s}){const[i,o]=await Promise.all([Hv({searchQuery:e,tokens:t,filters:n,limit:1e3,offset:0}),qv({searchQuery:e,tokens:t,filters:n,limit:1e3,offset:0})]),a=[...i.cards,...o.cards],l=i.totalCount+o.totalCount;let u=a;n.sort==="추천순"&&(t.length>0||e.trim().length>0)?u=[...a].sort((m,v)=>{const x=m.type==="job"?ia(m,t,e):oa(m,t,e);return(v.type==="job"?ia(v,t,e):oa(v,t,e))-x}):n.sort==="최신순"&&(u=[...a].sort((m,v)=>{const x=new Date(m.created_at??0).getTime();return new Date(v.created_at??0).getTime()-x}));const d=Math.max(s??0,0),h=d+Math.max(r??$a,1);return{cards:u.slice(d,h),totalCount:l,pagination:{limit:r,offset:d}}}async function Hv({searchQuery:e,tokens:t,filters:n,limit:r,offset:s,jobType:i}){let o=ie.from("job_postings").select("*",{count:"exact"});const a=e.trim(),l=Kv(t,a);let u=!1;if(l&&(o=o.textSearch("search_vector",l,{type:"websearch",config:"simple"}),u=!0),t.length>0)t.forEach(y=>{const _=Fr(y),k=["title","organization","location"].map(N=>`${N}.ilike.${_}`).join(",");o=o.or(k)});else if(!u&&a.length>0){const y=Fr(a);o=o.or(["title","organization","location"].map(_=>`${_}.ilike.${y}`).join(","))}if(aa(n.region,Pa)){const y=Fr(n.region+"시");o=o.ilike("location",y)}aa(n.category,Aa)&&(o=o.contains("tags",[n.category])),i&&(o=o.eq("job_type",i));const d=new Date;d.setHours(0,0,0,0);const h=d.toISOString();o=o.or(`deadline.is.null,deadline.gte.${h}`),o=eC(o,n.sort);const f=Math.max(s??Qd,0),m=f+Math.max(r??$a,1)-1,{data:v,error:x,count:w}=await o.range(f,m);if(x||!v)return console.error("공고 검색 실패:",x),Gv(r,s);const p=n.sort==="추천순"&&(t.length>0||a.length>0)?YT(v,t,a):v;return{cards:p.map(nC),totalCount:w??p.length,pagination:{limit:r,offset:f}}}async function qv({searchQuery:e,tokens:t,filters:n,limit:r,offset:s}){let i=ie.from("talents").select("*",{count:"exact"});const o=e.trim(),a=Kv(t,o);let l=!1;if(a&&(i=i.textSearch("search_vector",a,{type:"websearch",config:"simple"}),l=!0),t.length>0)t.forEach(w=>{const g=Fr(w),p=["name","specialty"].map(y=>`${y}.ilike.${g}`).join(",");i=i.or(p)});else if(!l&&o.length>0){const w=Fr(o);i=i.or(["name","specialty"].map(g=>`${g}.ilike.${w}`).join(","))}if(aa(n.region,Pa)){const w=Fr(n.region+"시");i=i.ilike("location",w)}aa(n.category,Aa)&&(i=i.contains("tags",[n.category])),i=tC(i,n.sort);const u=Math.max(s??Qd,0),d=u+Math.max(r??$a,1)-1,{data:h,error:f,count:m}=await i.range(u,d);if(f||!h)return console.error("인력 검색 실패:",f),Gv(r,s);const x=n.sort==="추천순"&&(t.length>0||o.length>0)?XT(h,t,o):h;return{cards:x.map(rC),totalCount:m??x.length,pagination:{limit:r,offset:u}}}function eC(e,t){switch(t){case"마감임박순":return e.order("deadline",{ascending:!0,nullsLast:!0}).order("created_at",{ascending:!1});case"최신순":return e.order("created_at",{ascending:!1});case"급여높은순":return e.order("compensation",{ascending:!1,nullsLast:!0});default:return e.order("view_count",{ascending:!1,nullsLast:!0}).order("created_at",{ascending:!1})}}function tC(e,t){switch(t){case"경력무관":return e.order("experience_years",{ascending:!0,nullsLast:!0}).order("rating",{ascending:!1,nullsLast:!0});case"최신순":return e.order("created_at",{ascending:!1});case"평점높은순":case"추천순":default:return e.order("rating",{ascending:!1,nullsLast:!0}).order("review_count",{ascending:!1,nullsLast:!0})}}function Fr(e){return`%${e.replace(/[%_]/g,n=>`\\${n}`)}%`}function aa(e,t){return e&&e!==t}function Gv(e,t){return{cards:[],totalCount:0,pagination:{limit:e,offset:t}}}function nC(e){var s,i,o,a;const t=(e==null?void 0:e.structured_content)??null,n=(t==null?void 0:t.overview)??null,r=(e==null?void 0:e.contact)||[(s=t==null?void 0:t.contact)==null?void 0:s.department,(i=t==null?void 0:t.contact)==null?void 0:i.name,(o=t==null?void 0:t.contact)==null?void 0:o.phone,(a=t==null?void 0:t.contact)==null?void 0:a.email].filter(Boolean).join(" / ")||void 0;return{id:e.id,type:"job",isUrgent:!!e.is_urgent,organization:e.organization||(n==null?void 0:n.organization)||"미확인 기관",title:e.title,tags:e.tags||[],location:e.location,compensation:e.compensation||"협의",deadline:e.deadline?HT(e.deadline):"상시모집",daysLeft:e.deadline?qT(e.deadline):void 0,work_period:e.work_period||e.work_term||(n==null?void 0:n.work_period)||void 0,application_period:e.application_period||(n==null?void 0:n.application_period)||void 0,work_time:e.work_time||void 0,contact:r,detail_content:e.detail_content,attachment_url:e.attachment_url,source_url:e.source_url,qualifications:e.qualifications||(t==null?void 0:t.qualifications)||[],structured_content:t}}function rC(e){const t=Array.isArray(e.location)?e.location.join("/").replace(/\/+/,"/"):e.location??"",n=typeof e.experience_years=="number"?e.experience_years:0,r=typeof e.rating=="number"?Number(e.rating):0,s=e.review_count??0;return{id:e.id,type:"talent",isVerified:!!e.is_verified,name:e.name,specialty:e.specialty,tags:e.tags||[],location:t,experience:`경력 ${n}년`,rating:r,reviewCount:s}}function sC(){var ir;const{searchQuery:e,filters:t,viewType:n,limit:r,offset:s,lastUpdatedAt:i,loadMore:o}=tu(L=>({searchQuery:L.searchQuery,filters:L.filters,viewType:L.viewType,limit:L.limit,offset:L.offset,lastUpdatedAt:L.lastUpdatedAt,loadMore:L.loadMore})),{initialize:a,status:l,user:u}=Pi(L=>({initialize:L.initialize,status:L.status,user:L.user})),[d,h]=b.useState([]),[f,m]=b.useState(0),[v,x]=b.useState(!0),[w,g]=b.useState(!1),[p,y]=b.useState(null),_=b.useRef(null),[k,N]=b.useState(!1),[S,j]=b.useState(!1),[P,O]=b.useState(!1),[B,H]=b.useState(!1),[ee,ae]=b.useState(null),[_e,A]=b.useState([]),[T,E]=b.useState("추천을 준비 중이에요"),[R,D]=b.useState("프로필 정보를 기반으로 맞춤 카드를 정리하고 있습니다."),[z,$]=b.useState(!0),[de,je]=b.useState(0),[st,ze]=b.useState(null);b.useEffect(()=>{a()},[a]),b.useEffect(()=>{if(l!=="authenticated"){j(!1);return}const L=u==null?void 0:u.id;if(!L)return;let me=!1;async function le(Ge){try{const{data:it,error:Et}=await sa(Ge);if(me)return;Et&&console.error("프로필 확인 실패:",Et.message),it?(sessionStorage.removeItem("profileSetupPending"),sessionStorage.removeItem("awarenessModalShown"),N(!1),j(!1)):(sessionStorage.setItem("profileSetupPending","true"),sessionStorage.getItem("awarenessModalShown")?j(!0):N(!0))}catch(it){if(me)return;console.error("프로필 조회 중 예기치 못한 오류:",it)}}return le(L),()=>{me=!0}},[l,u==null?void 0:u.id]);const Lt=()=>{sessionStorage.setItem("awarenessModalShown","true"),N(!1),j(!0)},Xd=()=>{sessionStorage.removeItem("profileSetupPending"),N(!1)},Zd=()=>{sessionStorage.removeItem("profileSetupPending"),sessionStorage.removeItem("awarenessModalShown"),j(!1),N(!1),H(!1),ae(null)},Ua=()=>{sessionStorage.removeItem("profileSetupPending"),j(!1),je(L=>L+1),B&&O(!0),H(!1)},Ai=()=>{l!=="authenticated"||!(u!=null&&u.id)||O(!0)},Tn=L=>{if(!L){ae(null);return}const me=Array.isArray(L.roles)?L.roles.filter(le=>Uv.includes(le)):[];ae({displayName:L.display_name,roles:me,primaryRegion:L.primary_region,interestRegions:L.interest_regions,experienceYears:L.experience_years,receiveNotifications:L.receive_notifications,intro:L.intro,agreeTerms:L.agree_terms,agreePrivacy:L.agree_privacy,agreeMarketing:L.agree_marketing})},Cn=(u==null?void 0:u.id)??null,us=(u==null?void 0:u.email)??null;b.useEffect(()=>{let L=!1;async function me(){try{const le=await Fv({onlyActive:!0});L||ze(le)}catch(le){L||(console.error("프로모 카드 불러오기 실패:",le),ze(null))}}return me(),()=>{L=!0}},[de]),b.useEffect(()=>{if(l!=="authenticated"||!Cn){A([]),E("추천을 준비 중이에요"),D("로그인 후 프로필을 저장하면 맞춤 추천을 볼 수 있어요."),$(!1);return}const L=Cn,me=us;let le=!1;async function Ge(){var it,Et;$(!0);try{const gt=await MT(L);if(le)return;if(gt&&gt.cards.length>0){A(gt.cards);const ds=((it=gt.aiComment)==null?void 0:it.headline)??`${me??"회원님"}을 위한 추천을 준비했어요`,za=((Et=gt.aiComment)==null?void 0:Et.description)??"프로필 기반으로 최근 카드들을 정리했습니다.";E(ds),D(za)}else A([]),E("추천을 준비 중이에요"),D("프로필을 최신 상태로 저장하면 맞춤 추천을 받을 수 있어요.")}catch(gt){console.error("추천 캐시 조회 실패:",gt),le||(A([]),E("추천을 준비 중이에요"),D("추천 정보를 불러오는 중 문제가 발생했습니다. 잠시 후 다시 시도해 주세요."))}finally{le||$(!1)}}return Ge(),()=>{le=!0}},[l,Cn,us,de]),b.useEffect(()=>{let L=!0;async function me(){s===0?x(!0):g(!0),y(null);try{const{cards:le,totalCount:Ge}=await GT({searchQuery:e,filters:t,viewType:n,limit:r,offset:s});if(!L)return;h(it=>s===0?le:[...it,...le]),m(Ge)}catch(le){if(!L)return;console.error("카드 검색 실패:",le),y("데이터를 불러오는 중 문제가 발생했습니다.")}finally{if(!L)return;s===0?x(!1):g(!1)}}return me(),()=>{L=!1}},[e,t,n,r,s,i]);const Ri=b.useMemo(()=>e.trim()?e.trim():"전체",[e]),Xt=d.length<f;return b.useEffect(()=>{const L=_.current;if(!L||!Xt||v||w)return;const me=new IntersectionObserver(le=>{const Ge=le[0];Ge!=null&&Ge.isIntersecting&&o()},{rootMargin:"200px 0px 0px 0px",threshold:.1});return me.observe(L),()=>{me.disconnect()}},[Xt,v,w,o]),c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx(DT,{}),c.jsx(oT,{onProfileClick:Ai}),c.jsx(hT,{cards:_e,userName:((ir=u==null?void 0:u.user_metadata)==null?void 0:ir.full_name)??us??void 0,loading:z,headlineOverride:T,descriptionOverride:R,promoCard:st}),c.jsx("main",{className:"bg-gradient-to-b from-[#edf0f5] via-[#e2e5ec] to-[#d9dce3]",children:c.jsxs("div",{className:"max-w-container mx-auto px-6 pt-4 pb-10",children:[c.jsx(fT,{resultCount:f,searchQuery:Ri,topResultIndex:1}),v?c.jsx("div",{className:"flex justify-center items-center py-20",children:c.jsx("div",{className:"text-gray-500",children:"공고를 불러오는 중..."})}):p?c.jsxs("div",{className:"flex flex-col items-center py-16 gap-3 text-sm text-gray-600",children:[c.jsx("span",{children:p}),c.jsx("button",{onClick:()=>tu.getState().resetAll(),className:"px-4 py-2 text-sm font-medium text-white bg-primary rounded-md hover:bg-primary/90",children:"다시 시도"})]}):d.length===0?c.jsxs("div",{className:"flex flex-col items-center py-16 gap-2 text-center text-gray-500",children:[c.jsx("p",{children:"조건에 맞는 결과가 없습니다."}),c.jsx("p",{className:"text-sm",children:"필터를 조정하거나 다른 검색어를 입력해 주세요."})]}):c.jsxs(c.Fragment,{children:[c.jsx(yT,{cards:d}),c.jsx("div",{ref:_,className:"h-1","aria-hidden":!0}),w&&c.jsx("div",{className:"flex justify-center mt-10",children:c.jsx("div",{className:"text-sm text-gray-500",children:"결과를 불러오는 중..."})}),!Xt&&d.length>0&&c.jsx("div",{className:"flex justify-center mt-10",children:c.jsx("div",{className:"text-sm text-gray-400",children:"모든 결과를 확인했습니다."})})]})]})}),c.jsx("footer",{className:"bg-white border-t border-gray-200 mt-16 py-6",children:c.jsxs("div",{className:"max-w-container mx-auto px-6 text-center text-gray-500 text-xs",children:[c.jsx("p",{children:"© 2025 셀미바이미. All rights reserved."}),c.jsx("p",{className:"mt-1",children:"교육 인력 매칭 플랫폼"})]})}),c.jsx(IT,{isOpen:k,onConfirm:Lt,onClose:Xd}),c.jsx(RT,{isOpen:S,onClose:Zd,onComplete:Ua,userEmail:(u==null?void 0:u.email)??null,userId:u==null?void 0:u.id,mode:B?"edit":"create",initialData:ee??void 0}),c.jsx(OT,{isOpen:P,onClose:()=>O(!1),userId:u==null?void 0:u.id,userEmail:u==null?void 0:u.email,onRequestEdit:L=>{if(u!=null&&u.id){if(L){Tn(L),H(!0),O(!1),j(!0);return}sa(u.id).then(({data:me})=>{Tn(me??null),H(!0),O(!1),j(!0)})}}})]})}function Jv({value:e,onChange:t,disabled:n=!1}){const r=s=>{const i=Number(s.target.value);Number.isNaN(i)||t(i<1?1:Math.floor(i))};return c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsx("label",{className:"text-sm font-medium text-gray-700",htmlFor:"crawl-batch-size",children:"1회 크롤링 건수"}),c.jsx("input",{id:"crawl-batch-size",type:"number",min:1,step:1,value:e,disabled:n,onChange:r,className:"w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"}),c.jsxs("p",{className:"text-xs text-gray-500",children:["최신 공고부터 최대 ",e,"건까지 수집합니다. 필요에 따라 게시판별로 조정하세요."]})]})}function iC({onCreate:e,onEdit:t,onLogs:n,refreshToken:r}){const[s,i]=b.useState([]),[o,a]=b.useState(!0),[l,u]=b.useState(null),[d,h]=b.useState(null),[f,m]=b.useState(null),[v,x]=b.useState(new Set);b.useEffect(()=>{w()},[r]);const w=async()=>{a(!0),u(null);try{const S=await BT();i(S),x(j=>{const P=new Set;return S.forEach(O=>{j.has(O.id)&&P.add(O.id)}),P})}catch(S){console.error(S),u("게시판 목록을 불러오지 못했습니다.")}finally{a(!1)}},g=async S=>{h(S.id);try{await k(S.id,{isActive:!S.isActive})}finally{h(null)}},p=async(S,j)=>{h(S.id);try{await k(S.id,{crawlBatchSize:j})}finally{h(null)}},y=async S=>{m(S.id);try{await zT(S.id)}catch(j){console.error(j),u("즉시 크롤링 실행에 실패했습니다.")}finally{m(null)}},_=async S=>{m(S.id);try{await FT(S.id)}catch(j){console.error(j),u("테스트 크롤링 실행에 실패했습니다.")}finally{m(null)}},k=async(S,j)=>{try{const P=await Vv(S,j);i(O=>O.map(B=>B.id===S?P:B))}catch(P){console.error(P),u("게시판 정보를 저장하지 못했습니다.")}},N=S=>{x(j=>{const P=new Set(j);return P.has(S)?P.delete(S):P.add(S),P})};return c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{children:c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"크롤링 게시판 목록"})}),c.jsx("button",{onClick:e,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90",children:"+ 게시판 등록"})]}),l&&c.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:l}),o?c.jsx("div",{className:"rounded-md border border-gray-200 bg-white px-4 py-12 text-center text-sm text-gray-500",children:"게시판 목록을 불러오는 중입니다..."}):s.length===0?c.jsx("div",{className:"rounded-md border border-dashed border-gray-300 bg-gray-50 px-4 py-12 text-center text-sm text-gray-500",children:'등록된 게시판이 없습니다. "게시판 등록" 버튼을 눌러 시작하세요.'}):c.jsx("div",{className:"space-y-3",children:s.map(S=>c.jsxs("div",{className:"rounded-lg border border-gray-200 bg-white px-5 py-4 shadow-sm",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("button",{onClick:()=>N(S.id),className:"mt-0.5 rounded-md border border-gray-200 p-1 text-xs text-gray-600 hover:border-primary hover:text-primary","aria-expanded":v.has(S.id),"aria-label":`${S.name} ${v.has(S.id)?"접기":"펼치기"}`,children:v.has(S.id)?"−":"+"}),c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-base font-semibold text-gray-900",children:S.name}),c.jsx("span",{className:"text-xs text-gray-400",children:S.boardUrl})]}),c.jsxs("div",{className:"mt-1 flex flex-wrap gap-2 text-xs text-gray-500",children:[c.jsxs("span",{children:["상태: ",S.status]}),c.jsxs("span",{children:["활성화: ",S.isActive?"사용":"중지"]}),c.jsxs("span",{children:["최근 성공: ",S.lastSuccessAt?new Date(S.lastSuccessAt).toLocaleString():"-"]})]})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx("button",{onClick:()=>y(S),disabled:!!f,className:"rounded-md border border-gray-200 px-3 py-1.5 text-sm text-gray-700 hover:border-primary hover:text-primary disabled:opacity-50",children:"즉시 실행"}),c.jsx("button",{onClick:()=>_(S),disabled:!!f,className:"rounded-md border border-gray-200 px-3 py-1.5 text-sm text-gray-700 hover:border-primary hover:text-primary disabled:opacity-50",children:"테스트"}),c.jsx("button",{onClick:()=>t==null?void 0:t(S),className:"rounded-md border border-gray-200 px-3 py-1.5 text-sm text-gray-700 hover:border-primary hover:text-primary",children:"설정"}),c.jsx("button",{onClick:()=>n==null?void 0:n(S),className:"rounded-md border border-gray-200 px-3 py-1.5 text-sm text-gray-700 hover:border-primary hover:text-primary",children:"로그 보기"}),c.jsx("button",{onClick:()=>g(S),disabled:d===S.id,className:"rounded-md border border-gray-200 px-3 py-1.5 text-sm text-gray-700 hover:border-primary hover:text-primary disabled:opacity-50",children:S.isActive?"비활성화":"활성화"})]})]}),v.has(S.id)&&c.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:[c.jsx(Jv,{value:S.crawlBatchSize,onChange:j=>void p(S,j),disabled:d===S.id}),c.jsxs("div",{className:"flex flex-col gap-2 text-xs text-gray-500",children:[c.jsxs("span",{children:["마지막 크롤링: ",S.lastCrawledAt?new Date(S.lastCrawledAt).toLocaleString():"-"]}),c.jsxs("span",{children:["연속 실패 횟수: ",S.errorCount]}),S.errorMessage&&c.jsxs("span",{className:"text-red-500",children:["최근 오류: ",S.errorMessage]})]})]})]},S.id))})]})}function oC({initialValue:e,onSubmit:t,onClose:n}){const[r,s]=b.useState((e==null?void 0:e.name)??""),[i,o]=b.useState((e==null?void 0:e.boardUrl)??""),[a,l]=b.useState((e==null?void 0:e.category)??""),[u,d]=b.useState((e==null?void 0:e.crawlBatchSize)??20),[h,f]=b.useState((e==null?void 0:e.isActive)??!0),[m,v]=b.useState(!1),[x,w]=b.useState(null),g=async p=>{p.preventDefault(),v(!0),w(null);const y={name:r,boardUrl:i,category:a.trim()?a.trim():null,isActive:h,crawlBatchSize:u};if(!y.name.trim()){w("게시판 이름을 입력해 주세요."),v(!1);return}if(!y.boardUrl.trim()){w("게시판 URL을 입력해 주세요."),v(!1);return}try{await t(y,e==null?void 0:e.id),n()}catch(_){console.error(_),w("게시판 정보를 저장하는 데 실패했습니다.")}finally{v(!1)}};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-3 py-6",children:c.jsxs("div",{className:"w-full max-w-lg rounded-2xl bg-white p-5 shadow-xl",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:e?"게시판 설정 수정":"새 게시판 등록"}),c.jsx("p",{className:"text-sm text-gray-500",children:"게시판 URL과 크롤링 설정을 입력해 주세요."})]}),c.jsx("button",{onClick:n,className:"text-sm text-gray-500 hover:text-gray-700",children:"닫기"})]}),c.jsxs("form",{onSubmit:g,className:"mt-5 flex max-h-[70vh] flex-col gap-3 overflow-y-auto pr-1",children:[x&&c.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-600",children:x}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"board-name",className:"text-sm font-medium text-gray-700",children:"게시판 이름"}),c.jsx("input",{id:"board-name",type:"text",value:r,onChange:p=>s(p.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"예: 성남교육지원청 구인구직"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"board-url",className:"text-sm font-medium text-gray-700",children:"게시판 URL"}),c.jsx("input",{id:"board-url",type:"url",value:i,onChange:p=>o(p.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"https://example.go.kr/board"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"board-category",className:"text-sm font-medium text-gray-700",children:"분류 / 태그 (선택)"}),c.jsx("input",{id:"board-category",type:"text",value:a??"",onChange:p=>l(p.target.value),className:"mt-1 w-full rounded-md border border-gray-300 px-3 py-2 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"예: 성남교육지원청"})]}),c.jsx(Jv,{value:u,onChange:d}),c.jsxs("label",{className:"inline-flex items-center gap-2",children:[c.jsx("input",{type:"checkbox",checked:h,onChange:p=>f(p.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),c.jsx("span",{className:"text-sm text-gray-600",children:"활성화 상태로 등록"})]}),c.jsxs("div",{className:"mt-4 flex justify-end gap-3",children:[c.jsx("button",{type:"button",onClick:n,className:"rounded-md border border-gray-300 px-4 py-2 text-sm text-gray-600 hover:bg-gray-50",children:"취소"}),c.jsx("button",{type:"submit",disabled:m,className:"rounded-md bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary/90 disabled:opacity-50",children:m?"저장 중...":"저장"})]})]})]})})}function aC({board:e,statusFilter:t,open:n,onClose:r}){const[s,i]=b.useState([]),[o,a]=b.useState(!1),[l,u]=b.useState(null);b.useEffect(()=>{n&&d()},[n,e==null?void 0:e.id,t]);const d=async()=>{if(e){a(!0),u(null);try{const h=await WT(e.id,t);i(h)}catch(h){console.error(h),u("크롤 로그를 불러오지 못했습니다.")}finally{a(!1)}}};return!n||!e?null:c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 px-4 py-8",children:c.jsxs("div",{className:"h-[80vh] w-full max-w-3xl overflow-hidden rounded-lg bg-white shadow-xl",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-6 py-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"크롤링 로그"}),c.jsxs("p",{className:"text-sm text-gray-500",children:[e.name," 게시판의 최근 기록"]})]}),c.jsx("button",{onClick:r,className:"text-sm text-gray-500 hover:text-gray-700",children:"닫기"})]}),c.jsxs("div",{className:"flex h-full flex-col",children:[c.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-3 text-xs text-gray-500",children:[c.jsxs("span",{children:["총 ",s.length,"건"]}),c.jsx("button",{onClick:d,className:"text-primary hover:underline",children:"새로고침"})]}),l&&c.jsx("div",{className:"m-4 rounded-md border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-600",children:l}),c.jsx("div",{className:"flex-1 overflow-auto",children:o?c.jsx("div",{className:"flex h-full items-center justify-center text-sm text-gray-500",children:"로그를 불러오는 중입니다..."}):s.length===0?c.jsx("div",{className:"flex h-full items-center justify-center text-sm text-gray-500",children:"로그가 없습니다."}):c.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"시작 시간"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"상태"}),c.jsx("th",{className:"px-4 py-2 text-right font-medium text-gray-500",children:"발견"}),c.jsx("th",{className:"px-4 py-2 text-right font-medium text-gray-500",children:"신규"}),c.jsx("th",{className:"px-4 py-2 text-right font-medium text-gray-500",children:"중복 스킵"}),c.jsx("th",{className:"px-4 py-2 text-right font-medium text-gray-500",children:"토큰"}),c.jsx("th",{className:"px-4 py-2 text-left font-medium text-gray-500",children:"오류"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-100",children:s.map(h=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-4 py-2 text-gray-700",children:h.startedAt?new Date(h.startedAt).toLocaleString():"-"}),c.jsx("td",{className:"px-4 py-2",children:c.jsx("span",{className:"rounded-full bg-gray-100 px-2 py-1 text-xs font-medium text-gray-700",children:h.status})}),c.jsx("td",{className:"px-4 py-2 text-right text-gray-700",children:h.itemsFound}),c.jsx("td",{className:"px-4 py-2 text-right text-gray-700",children:h.itemsNew}),c.jsx("td",{className:"px-4 py-2 text-right text-gray-700",children:h.itemsSkipped}),c.jsx("td",{className:"px-4 py-2 text-right text-gray-700",children:h.aiTokensUsed}),c.jsx("td",{className:"px-4 py-2 text-xs text-gray-500",children:h.errorLog?h.errorLog.slice(0,120):"-"})]},h.id))})]})})]})]})})}const so={isActive:!0,headline:"셀바, 학교와 교육자원을 연결합니다",imageUrl:"/picture/section%20right%20ad2.png",insertPosition:2,backgroundColor:"#ffffff",fontColor:"#1f2937",fontSize:28,badgeColor:"#dbeafe",imageScale:1},lC=e=>({isActive:e.isActive,headline:e.headline,imageUrl:e.imageUrl??null,insertPosition:e.insertPosition,backgroundColor:e.backgroundColor??"#ffffff",fontColor:e.fontColor??"#1f2937",fontSize:e.fontSize??28,badgeColor:e.badgeColor??"#dbeafe",imageScale:typeof e.imageScale=="number"?e.imageScale:1}),On=e=>({...e}),Bl=e=>e&&typeof e=="object"&&"code"in e?e.code==="PGRST205":!1,am=e=>e?new Intl.DateTimeFormat("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(e):"저장 이력 없음";function cC({data:e}){const t=b.useMemo(()=>({color:e.fontColor,fontSize:`${e.fontSize}px`}),[e.fontColor,e.fontSize]),n=b.useMemo(()=>({backgroundImage:Lv(e.badgeColor)}),[e.badgeColor]),r=b.useMemo(()=>Math.min(Math.max(e.imageScale??1,.5),1.5),[e.imageScale]),s=b.useMemo(()=>({height:`${180*r}px`}),[r]),i=b.useMemo(()=>({maxHeight:`${170*r}px`,maxWidth:`${260*r}px`}),[r]),o=b.useMemo(()=>({height:`${170*r}px`,maxWidth:`${260*r}px`}),[r]);return c.jsxs("div",{className:"sticky top-0 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[c.jsx("span",{className:"font-semibold text-slate-600",children:"미리보기"}),c.jsx("span",{children:e.isActive?"노출 중":"비활성화"})]}),c.jsxs("div",{className:"relative overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[c.jsx("div",{className:"w-full",style:{...n,height:"2px"}}),c.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-3 text-xs font-semibold uppercase text-primary",children:[c.jsx(ud,{size:14,stroke:1.8}),c.jsx("span",{children:"셀바 프로모 카드"}),c.jsxs("span",{className:"ml-auto rounded-full bg-primary/10 px-2 py-0.5 text-[10px] font-semibold text-primary",children:["삽입 위치 ",e.insertPosition]})]}),c.jsxs("div",{className:"flex flex-col items-center gap-4 px-5 py-6 text-center transition-colors",style:{backgroundColor:e.backgroundColor},children:[c.jsx("h3",{className:"font-bold leading-tight whitespace-pre-line",style:t,children:e.headline||"헤드라인을 입력해 주세요"}),c.jsx("div",{className:"flex w-full items-center justify-center",style:s,children:e.imageUrl?c.jsx("div",{className:"flex h-full w-full items-center justify-center rounded-xl bg-white/70 p-3",children:c.jsx("img",{src:e.imageUrl,alt:e.headline||"프로모 카드 이미지",className:"w-auto object-contain drop-shadow",style:i,draggable:!1})}):c.jsxs("div",{className:"flex w-full flex-col items-center justify-center rounded-xl border border-dashed border-slate-300 text-slate-400",style:o,children:[c.jsx(s1,{size:28,stroke:1.8}),c.jsx("p",{className:"mt-2 text-xs",children:"이미지 미선택"})]})})]}),!e.isActive&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 backdrop-blur-sm",children:c.jsx("div",{className:"rounded-full bg-slate-900 px-4 py-2 text-xs font-semibold text-white",children:"노출 비활성화 상태"})})]}),c.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50/60 px-4 py-3 text-xs text-slate-500",children:[c.jsx("p",{className:"font-medium text-slate-600",children:"실제 반영 위치"}),c.jsxs("p",{className:"mt-1 leading-relaxed",children:["추천 섹션의 캐러셀 ",e.insertPosition,"번째 아이템에 삽입됩니다. 위치는 숫자를 조절해 변경할 수 있습니다."]})]})]})}function uC(){const[e,t]=b.useState(On(so)),[n,r]=b.useState(On(so)),[s,i]=b.useState(),[o,a]=b.useState(null),[l,u]=b.useState(null),[d,h]=b.useState("idle"),[f,m]=b.useState("idle"),[v,x]=b.useState(null),[w,g]=b.useState(!0),[p,y]=b.useState(null),_=Pi(A=>{var T;return((T=A.user)==null?void 0:T.id)??null}),k=b.useMemo(()=>am(o),[o]),N=b.useMemo(()=>am(l),[l]),S=b.useMemo(()=>JSON.stringify(e)!==JSON.stringify(n),[e,n]),j=(A,T)=>{t(E=>({...E,[A]:T})),x(null)},P=A=>A?new Date(A):null,O=A=>{if(A){const T=lC(A),E=On(T);t(E),r(On(E)),i(A.id),a(P(A.lastDraftAt)),u(P(A.lastAppliedAt))}else{const T=On(so);t(T),r(On(T)),i(void 0),a(null),u(null)}},B=()=>{t(On(so)),x(null)};b.useEffect(()=>{let A=!0;return(async()=>{g(!0),y(null);try{const E=await Fv();if(!A)return;O(E??null),x(null),h("idle"),m("idle")}catch(E){if(console.error("프로모 카드 불러오기 실패:",E),A){const R=Bl(E)?"프로모 카드 테이블이 존재하지 않습니다. Supabase 마이그레이션을 적용해 주세요.":"프로모 카드 정보를 불러오지 못했습니다. 잠시 후 다시 시도해 주세요.";y(R)}}finally{A&&g(!1)}})(),()=>{A=!1}},[]);const H=()=>{const A=e.headline.trim(),T=(e.imageUrl??"").trim();return{id:s,isActive:e.isActive,headline:A,imageUrl:T||null,insertPosition:e.insertPosition,backgroundColor:e.backgroundColor,fontColor:e.fontColor,fontSize:e.fontSize,badgeColor:e.badgeColor,imageScale:e.imageScale}},ee=A=>{O(A)},ae=async()=>{if(!(w||d==="saving")){h("saving"),x(null);try{const A=await LT(H(),{userId:_});ee(A),h("saved"),x({type:"success",message:"임시저장이 완료되었습니다."})}catch(A){console.error("프로모 카드 임시저장 실패:",A),h("error");const T=Bl(A)?"프로모 카드 테이블이 존재하지 않아 저장할 수 없습니다. Supabase 마이그레이션을 적용해 주세요.":"임시저장에 실패했습니다. 다시 시도해 주세요.";x({type:"error",message:T})}}},_e=async()=>{if(!(w||f==="saving")){m("saving"),x(null);try{const A=await $T(H(),{userId:_});ee(A),m("saved"),x({type:"success",message:"적용이 완료되었습니다. 추천 섹션에 즉시 반영됩니다."})}catch(A){console.error("프로모 카드 적용 실패:",A),m("error");const T=Bl(A)?"프로모 카드 테이블이 존재하지 않아 적용할 수 없습니다. Supabase 마이그레이션을 적용해 주세요.":"적용에 실패했습니다. 네트워크 상태를 확인해 주세요.";x({type:"error",message:T})}}};return c.jsxs("div",{className:"space-y-6",children:[w&&c.jsx("div",{className:"rounded-lg border border-slate-200 bg-white px-4 py-3 text-sm text-slate-600",children:"불러오는 중..."}),p&&c.jsx("div",{className:"rounded-lg border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700",children:p}),v&&c.jsx("div",{className:`rounded-lg border px-4 py-3 text-sm ${v.type==="success"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-rose-200 bg-rose-50 text-rose-700"}`,children:v.message}),c.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5 shadow-sm",children:[c.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start lg:justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"프로모 카드 편집"}),c.jsx("p",{className:"mt-1 text-sm text-slate-500",children:"헤드라인과 이미지 중심으로 간단한 홍보 카드를 구성합니다. 저장 후 추천 섹션에 적용할 수 있습니다."}),c.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-xs text-slate-500",children:[c.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-600",children:["임시저장 ",k]}),c.jsxs("span",{className:"rounded-full bg-slate-100 px-3 py-1 font-medium text-slate-600",children:["최근 적용 ",N]}),S&&c.jsx("span",{className:"rounded-full bg-amber-100 px-3 py-1 font-semibold text-amber-700",children:"변경 사항 감지됨"})]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.jsxs("button",{type:"button",onClick:B,className:"inline-flex items-center gap-2 rounded-lg border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-600 transition hover:border-slate-300 hover:bg-slate-50",disabled:d==="saving"||f==="saving",children:[c.jsx(o1,{size:16,stroke:1.8}),"기본값 불러오기"]}),c.jsxs("button",{type:"button",onClick:ae,className:"inline-flex items-center gap-2 rounded-lg border border-primary/60 bg-primary/10 px-4 py-2 text-sm font-semibold text-primary transition hover:bg-primary/20 disabled:cursor-not-allowed disabled:opacity-60",disabled:w||d==="saving"||f==="saving",children:[c.jsx(Gb,{size:16,stroke:1.8}),d==="saving"?"저장 중...":"임시저장"]}),c.jsxs("button",{type:"button",onClick:_e,className:"inline-flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-primary/90 disabled:cursor-not-allowed disabled:opacity-60",disabled:w||f==="saving",children:[c.jsx(zb,{size:16,stroke:1.8}),f==="saving"?"적용 중...":"적용하기"]})]})]}),c.jsxs("div",{className:"mt-6 grid gap-6 lg:grid-cols-[minmax(0,1fr)_minmax(320px,360px)]",children:[c.jsxs("div",{className:"space-y-5",children:[c.jsxs("section",{className:"rounded-xl border border-slate-200 bg-slate-50/60 px-5 py-4",children:[c.jsx("h4",{className:"text-sm font-semibold text-slate-800",children:"노출 및 삽입 위치"}),c.jsxs("div",{className:"mt-3 flex items-center justify-between rounded-lg bg-white px-3 py-2 text-sm text-slate-600",children:[c.jsx("span",{children:"프로모 카드 노출"}),c.jsxs("label",{className:"flex items-center gap-2 font-medium",children:[c.jsx("input",{type:"checkbox",checked:e.isActive,onChange:A=>j("isActive",A.target.checked),className:"h-4 w-4 rounded border-slate-300 text-primary focus:ring-primary"}),"활성화"]})]}),c.jsxs("div",{className:"mt-4 grid gap-4 sm:grid-cols-2",children:[c.jsxs("label",{className:"flex flex-col text-sm text-slate-600",children:[c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"삽입 순서"}),c.jsx("input",{type:"number",min:1,max:8,value:e.insertPosition,onChange:A=>j("insertPosition",Number(A.target.value)),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"})]}),c.jsxs("label",{className:"flex flex-col text-sm text-slate-600",children:[c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"폰트 크기"}),c.jsx("input",{type:"number",min:18,max:48,value:e.fontSize,onChange:A=>j("fontSize",Number(A.target.value)),className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"})]})]})]}),c.jsxs("section",{className:"rounded-xl border border-slate-200 bg-slate-50/60 px-5 py-4",children:[c.jsx("h4",{className:"text-sm font-semibold text-slate-800",children:"콘텐츠"}),c.jsx("div",{className:"mt-3 space-y-4",children:c.jsxs("label",{className:"flex flex-col text-sm text-slate-600",children:[c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"헤드라인"}),c.jsx("textarea",{value:e.headline,onChange:A=>j("headline",A.target.value),maxLength:120,rows:3,className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"}),c.jsx("span",{className:"mt-1 text-xs text-slate-400",children:"줄바꿈으로 두 줄까지 구성할 수 있습니다."})]})})]}),c.jsxs("section",{className:"rounded-xl border border-slate-200 bg-slate-50/60 px-5 py-4",children:[c.jsx("h4",{className:"text-sm font-semibold text-slate-800",children:"시각 요소"}),c.jsxs("div",{className:"mt-3 grid gap-4 sm:grid-cols-2",children:[c.jsxs("label",{className:"flex flex-col text-sm text-slate-600",children:[c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"배경 색상"}),c.jsx("input",{type:"color",value:e.backgroundColor,onChange:A=>j("backgroundColor",A.target.value),className:"mt-1 h-12 w-full cursor-pointer rounded-lg border border-slate-200 bg-white"})]}),c.jsxs("label",{className:"flex flex-col text-sm text-slate-600",children:[c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"폰트 색상"}),c.jsx("input",{type:"color",value:e.fontColor,onChange:A=>j("fontColor",A.target.value),className:"mt-1 h-12 w-full cursor-pointer rounded-lg border border-slate-200 bg-white"})]}),c.jsxs("label",{className:"flex flex-col text-sm text-slate-600",children:[c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"띠지 색상"}),c.jsx("input",{type:"color",value:e.badgeColor,onChange:A=>j("badgeColor",A.target.value),className:"mt-1 h-12 w-full cursor-pointer rounded-lg border border-slate-200 bg-white"})]}),c.jsxs("label",{className:"flex flex-col text-sm text-slate-600 sm:col-span-2",children:[c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"이미지 크기 (%)"}),c.jsxs("div",{className:"mt-2 flex flex-col gap-2 rounded-lg border border-slate-200 bg-white px-3 py-3",children:[c.jsx("input",{type:"range",min:50,max:150,step:5,value:Math.round(e.imageScale*100),onChange:A=>j("imageScale",Number(A.target.value)/100),className:"w-full"}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500",children:[c.jsx("span",{children:"축소"}),c.jsxs("span",{className:"font-semibold text-slate-700",children:[Math.round(e.imageScale*100),"%"]}),c.jsx("span",{children:"확대"})]}),c.jsx("input",{type:"number",min:50,max:150,value:Math.round(e.imageScale*100),onChange:A=>{const T=Number(A.target.value);Number.isNaN(T)||j("imageScale",Math.min(Math.max(T,50),150)/100)},className:"w-20 rounded border border-slate-200 px-2 py-1 text-xs text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"}),c.jsx("span",{className:"text-[11px] text-slate-400",children:"50%~150% 범위에서 이미지 표시 크기를 조절합니다."})]})]}),c.jsxs("label",{className:"sm:col-span-2 flex flex-col text-sm text-slate-600",children:[c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"이미지 URL"}),c.jsx("input",{type:"url",value:e.imageUrl??"",onChange:A=>j("imageUrl",A.target.value),placeholder:"https://",className:"mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm text-slate-700 focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/40"}),c.jsx("span",{className:"mt-1 text-xs text-slate-400",children:"정사각형 또는 가로형 이미지를 추천합니다."})]})]})]})]}),c.jsx(cC,{data:e})]})]})]})}const Vl=[{key:"overview",label:"대시보드",description:"요약 지표"},{key:"crawl",label:"크롤링 관리",description:"게시판 등록 및 상태 모니터링",badge:"NEW"},{key:"promo",label:"홍보카드 관리",description:"추천 섹션 프로모·띠지 배너 편집"},{key:"content",label:"콘텐츠 관리",description:"공고 / 인력 검수"},{key:"settings",label:"설정",description:"권한 및 시스템 설정"}];function dC(){var k,N;const[e,t]=b.useState("crawl"),[n,r]=b.useState(!1),[s,i]=b.useState(),[o,a]=b.useState(),[l,u]=b.useState(null),[d,h]=b.useState(0),[f,m]=b.useState(!1);b.useEffect(()=>{if(!l)return;const S=setTimeout(()=>u(null),4e3);return()=>clearTimeout(S)},[l]);const v=()=>{i(void 0),r(!0)},x=S=>{i(S),r(!0)},w=S=>{a(S)},g=()=>{a(void 0)},p=()=>{r(!1),i(void 0)},y=async(S,j)=>{m(!0);try{j?(await Vv(j,S),u({type:"success",message:"게시판 설정이 업데이트되었습니다."})):(await VT(S),u({type:"success",message:"새 게시판이 등록되었습니다."})),h(P=>P+1)}catch(P){throw console.error(P),u({type:"error",message:"게시판 정보를 저장하지 못했습니다."}),P}finally{m(!1)}},_=()=>{switch(e){case"crawl":return c.jsxs(b.Fragment,{children:[l&&c.jsx("div",{className:`mb-4 rounded-md border px-4 py-3 text-sm ${l.type==="success"?"border-emerald-200 bg-emerald-50 text-emerald-700":"border-red-200 bg-red-50 text-red-700"}`,children:l.message}),c.jsx(iC,{onCreate:v,onEdit:x,onLogs:w,refreshToken:d})]});case"promo":return c.jsx(uC,{});default:return c.jsxs("div",{className:"flex h-full flex-col items-center justify-center rounded-lg border border-dashed border-gray-300 bg-white p-10 text-center text-sm text-gray-500",children:[c.jsx("p",{className:"font-medium text-gray-700",children:"선택한 메뉴는 준비 중입니다."}),c.jsx("p",{className:"mt-2 text-xs text-gray-400",children:"향후 관리자 기능이 추가될 예정입니다."})]})}};return c.jsxs("div",{className:"min-h-screen bg-slate-100",children:[c.jsx("header",{className:"border-b border-slate-200 bg-white",children:c.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"셀미바이미 관리자"}),c.jsx("p",{className:"text-sm text-slate-500",children:"운영을 위한 전용 관리 센터입니다."})]}),c.jsx("span",{className:"rounded-full border border-primary/30 bg-primary/10 px-3 py-1 text-xs font-semibold text-primary",children:"관리자 전용"})]})}),c.jsxs("div",{className:"mx-auto flex max-w-6xl gap-6 px-6 py-6",children:[c.jsx("aside",{className:"w-64 shrink-0",children:c.jsx("nav",{className:"space-y-1",children:Vl.map(S=>{const j=S.key===e;return c.jsxs("button",{onClick:()=>t(S.key),className:`flex w-full flex-col rounded-lg border px-4 py-3 text-left transition ${j?"border-primary bg-primary/10 text-primary shadow-sm":"border-transparent bg-white text-slate-600 hover:border-primary/40 hover:bg-primary/5"}`,children:[c.jsxs("span",{className:"flex items-center gap-2 text-sm font-semibold",children:[S.label,S.badge&&c.jsx("span",{className:"rounded-full border border-primary/40 bg-primary/10 px-2 py-0.5 text-[10px] font-semibold text-primary",children:S.badge})]}),S.description&&c.jsx("span",{className:`mt-1 text-xs ${j?"text-primary/80":"text-slate-400"}`,children:S.description})]},S.key)})})}),c.jsx("main",{className:"flex-1",children:c.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white px-6 py-6 shadow-sm",children:[c.jsxs("div",{className:"mb-6 border-b border-slate-100 pb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:(k=Vl.find(S=>S.key===e))==null?void 0:k.label}),c.jsx("p",{className:"mt-1 text-sm text-slate-500",children:((N=Vl.find(S=>S.key===e))==null?void 0:N.description)??"관리 기능"})]}),_()]})})]}),n&&c.jsx(oC,{initialValue:s,onClose:p,onSubmit:y}),c.jsx(aC,{board:o,open:!!o,onClose:g}),f&&c.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/20",children:c.jsx("div",{className:"rounded-md bg-white px-4 py-2 text-sm text-gray-600 shadow",children:"저장 중..."})})]})}function hC(){const[e,t]=b.useState("pending"),[n,r]=b.useState("소셜 계정을 확인하고 있어요. 잠시만 기다려 주세요.");b.useEffect(()=>{const o=new URLSearchParams(window.location.search),a=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash,l=new URLSearchParams(a),u=o.get("error")??l.get("error"),d=o.get("error_description")??l.get("error_description"),h=o.get("code");async function f(){if(u){t("error"),r(decodeURIComponent(d??u));return}try{if(h){const y=decodeURIComponent(h),{error:_}=await ie.auth.exchangeCodeForSession(y);if(_){t("error"),r(_.message);return}}else{const y=l.get("access_token"),_=l.get("refresh_token");if(!y||!_){t("error"),r("로그인 토큰이 전달되지 않았습니다. 다시 시도해 주세요.");return}const{error:k}=await ie.auth.setSession({access_token:y,refresh_token:_});if(k){t("error"),r(k.message);return}}const{data:m,error:v}=await ie.auth.getUser();if(v||!(m!=null&&m.user)){console.error("로그인 사용자 정보를 불러오지 못했습니다:",v==null?void 0:v.message),t("error"),r("로그인한 사용자 정보를 확인할 수 없습니다. 다시 시도해 주세요.");return}const x=m.user.id,{data:w,error:g}=await sa(x);g&&console.error("프로필 조회 실패:",g.message),w?sessionStorage.removeItem("profileSetupPending"):sessionStorage.setItem("profileSetupPending","true"),await rT();const p=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,p),window.location.replace("/")}catch(m){console.error("OAuth 세션 처리 실패:",m),t("error"),r("로그인에 실패했습니다. 다시 시도해 주세요.")}}f()},[]);const s=e==="pending",i=e==="error";return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsx("div",{className:"w-full max-w-sm mx-auto rounded-2xl bg-white p-8 shadow-md text-center font-esamanru",children:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center ${i?"bg-red-100 text-red-500":"bg-[#e8f2fb] text-[#4b83c6]"}`,children:s?c.jsx("span",{className:"animate-spin text-2xl",children:"⏳"}):c.jsx("span",{className:"text-2xl",children:"⚠️"})}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("h1",{className:"text-lg font-extrabold text-gray-900",children:"소셜 로그인 처리 중"}),c.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:n})]}),i&&c.jsx("button",{type:"button",onClick:()=>window.location.replace("/"),className:"px-4 py-2 text-sm font-semibold text-white bg-[#7aa3cc] rounded-md hover:bg-[#6b95be] transition-colors",children:"홈으로 돌아가기"})]})})})}const lm=window.location.pathname;let fu=c.jsx(sC,{});lm.startsWith("/admin")?fu=c.jsx(dC,{}):lm.startsWith("/auth/callback")&&(fu=c.jsx(hC,{}));Wl.createRoot(document.getElementById("root")).render(c.jsx(wm.StrictMode,{children:fu}));
