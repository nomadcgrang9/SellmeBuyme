# SellmeBuyme (í•™êµì¼ìë¦¬) PWA ë¶„ë¦¬ êµ¬í˜„ í”Œëœ

**ì‘ì„±ì¼**: 2026-01-26  
**ì‘ì„±ì**: Claude Code  
**ë²„ì „**: 3.1 (êµ¬í˜„ ì™„ë£Œ)  
**ìƒíƒœ**: âœ… **êµ¬í˜„ ì™„ë£Œ** (2026-01-26 14:53)  
**ì°¸ì¡° í”„ë¡œì íŠ¸**: LID (Zë¶„ê³¼ - ì œë„í˜ì‹ ë¶„ê³¼ HOME)  
**ì°¸ì¡° ìŠ¤í‚¬**: pwa-implementation-guide, pwa-manifest-config, workbox-caching-guide

---

## ğŸ“‹ 1. ê°œìš”

### 1.1 êµ¬í˜„ ì™„ë£Œ ìš”ì•½

**ë‘ ê°œì˜ ë…ë¦½ì ì¸ PWA**ë¥¼ ê°™ì€ ë„ë©”ì¸ì—ì„œ ë¶„ë¦¬ ìš´ì˜:

| PWA | ëŒ€ìƒ ì‚¬ìš©ì | ê²½ë¡œ | ìƒíƒœ | id |
|-----|-----------|------|------|-----|
| **í•™êµì¼ìë¦¬** | ì¼ë°˜ êµ¬ì§ì | `/` | âœ… **êµ¬í˜„ ì™„ë£Œ** | `sellmebuyme-main` |
| **ê°œë°œìë…¸íŠ¸** | ê°œë°œíŒ€ | `/note` | âœ… **ê¸°ì¡´ ìœ ì§€** | `sellmebuyme-devnote` |

### 1.2 í•µì‹¬ ìš”êµ¬ì‚¬í•­

1. âœ… **ê¸°ì¡´ ê°œë°œìë…¸íŠ¸ PWA ì‚¬ìš©ìì—ê²Œ ì˜í–¥ ì—†ìŒ**
   - ì¬ì„¤ì¹˜ ë¶ˆí•„ìš”
   - ì•± ì´ë¦„/ì•„ì´ì½˜ ìœ ì§€
   - start_url `/note` ìœ ì§€

2. âœ… **ë‘ ê°œì˜ ì™„ì „íˆ ë…ë¦½ì ì¸ ì•±**
   - ë³„ë„ ì•„ì´ì½˜ (ê°œë°œìë…¸íŠ¸ â‰  í•™êµì¼ìë¦¬)
   - ë³„ë„ ì´ë¦„
   - ë³„ë„ ì‹œì‘ URL
   - ë³„ë„ ì„¤ì¹˜ ê²½í—˜

3. âœ… **ì¹´ì¹´ì˜¤í†¡ ì¸ì•± ë¸Œë¼ìš°ì € ëŒ€ì‘**
   - LID í”„ë¡œì íŠ¸ íŒ¨í„´ ì ìš©
   - í”Œë«í¼ë³„ ì„¤ì¹˜ ê°€ì´ë“œ ëª¨ë‹¬

---

## ğŸ”¬ 2. ê¸°ìˆ  ë¶„ì„: PWA ë¶„ë¦¬ ìœ ì§€ ë°©ë²•

### 2.1 PWA ìŠ¤í‚¬ ì°¸ì¡° í•µì‹¬ ë‚´ìš©

#### pwa-manifest-config ìŠ¤í‚¬ì—ì„œ:

```
## Scope
### Definition
Pages that belong to app. Within scope stays in app. 
Outside opens browser.

### Configuration  
Should include start_url. Usually root or subdirectory.
Cannot exceed origin.

## id
### Purpose
Unique identifier for app. Stable across updates.
Used for updates and sync.
```

#### í•µì‹¬ ì¸ì‚¬ì´íŠ¸:
1. **scopeëŠ” subdirectory ê°€ëŠ¥** â†’ `/note`ì™€ `/` ë¶„ë¦¬ ê°€ëŠ¥
2. **id í•„ë“œë¡œ ì•± ê³ ìœ  ì‹ë³„** â†’ ë‘ PWAë¥¼ ì™„ì „íˆ êµ¬ë¶„
3. **scope ë°– â†’ ë¸Œë¼ìš°ì €ì—ì„œ ì—´ë¦¼** â†’ ìì—°ìŠ¤ëŸ¬ìš´ ë¶„ë¦¬

### 2.2 ë¶„ë¦¬ ìœ ì§€ì˜ ê¸°ìˆ ì  ê¸°ë°˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  sellmebuyme.pages.dev (ë‹¨ì¼ ë„ë©”ì¸)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  ğŸ“± í•™êµì¼ìë¦¬ PWA (ì‹ ê·œ)                                            â”‚
â”‚  â”œâ”€â”€ manifest: /manifest.webmanifest                               â”‚
â”‚  â”œâ”€â”€ id: "sellmebuyme-main"                                        â”‚
â”‚  â”œâ”€â”€ scope: "/" (ë‹¨, /note ì œì™¸ ì²˜ë¦¬)                               â”‚
â”‚  â”œâ”€â”€ start_url: "/"                                                â”‚
â”‚  â””â”€â”€ SW: ê³µìœ  ë˜ëŠ” ë³„ë„                                             â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“± ê°œë°œìë…¸íŠ¸ PWA (ê¸°ì¡´)                                            â”‚
â”‚  â”œâ”€â”€ manifest: /note/manifest.webmanifest                          â”‚
â”‚  â”œâ”€â”€ id: "sellmebuyme-devnote"                                     â”‚
â”‚  â”œâ”€â”€ scope: "/note"                                                â”‚
â”‚  â”œâ”€â”€ start_url: "/note"                                            â”‚
â”‚  â””â”€â”€ SW: ê¸°ì¡´ ìœ ì§€                                                  â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 Scope ì¤‘ì²© ë¬¸ì œ í•´ê²°

#### ë¬¸ì œ:
- `scope: "/"` ëŠ” ëª¨ë“  ê²½ë¡œ í¬í•¨ (/, /note, /admin ë“±)
- `scope: "/note"`ëŠ” /note í•˜ìœ„ë§Œ
- ë‘ scopeê°€ ì¤‘ì²©ë¨

#### í•´ê²° ë°©ë²•: **id í•„ë“œ í™œìš© + ë³„ë„ manifest**

```json
// í•™êµì¼ìë¦¬ PWA manifest
{
  "id": "sellmebuyme-main",
  "scope": "/",
  "start_url": "/?source=pwa",
  // ...
}

// ê°œë°œìë…¸íŠ¸ PWA manifest
{
  "id": "sellmebuyme-devnote", 
  "scope": "/note",
  "start_url": "/note?source=pwa",
  // ...
}
```

**id í•„ë“œì˜ ì—­í• ** (pwa-manifest-config ìŠ¤í‚¬ ì°¸ì¡°):
- ë¸Œë¼ìš°ì €ê°€ **ê³ ìœ  ì•±ìœ¼ë¡œ ì¸ì‹**
- ê°™ì€ scope ë‚´ì—ì„œë„ **ë³„ë„ ì•±ìœ¼ë¡œ ì„¤ì¹˜ ê°€ëŠ¥**
- ì—…ë°ì´íŠ¸ ì‹œ **ì •í™•í•œ ì•± ë§¤ì¹­**

---

## ğŸ“Š 3. í˜„ì¬ ìƒíƒœ ë¶„ì„

### 3.1 í˜„ì¬ vite.config.ts (ê°œë°œìë…¸íŠ¸ ì „ìš©)

```typescript
VitePWA({
  registerType: 'autoUpdate',
  manifest: {
    name: 'ì…€ë°” ê°œë°œìë…¸íŠ¸',
    short_name: 'ê°œë°œìë…¸íŠ¸',
    start_url: '/note',
    scope: '/note',
    // ... (ê¸°ì¡´ ì„¤ì •)
  },
  workbox: {
    navigateFallback: '/note',
    navigateFallbackDenylist: [/^\/api/, /^\/admin/, /^\/$/, /^\/landing/],
    // ...
  }
})
```

### 3.2 í˜„ì¬ íŒŒì¼ êµ¬ì¡°

```
public/
â”œâ”€â”€ pwa-icons/              # ê°œë°œìë…¸íŠ¸ìš© (í˜„ì¬)
â”‚   â”œâ”€â”€ icon-192x192.png
â”‚   â”œâ”€â”€ icon-512x512.png
â”‚   â””â”€â”€ apple-touch-icon.png
â”œâ”€â”€ picture/
â”‚   â””â”€â”€ favicon.png         # ë©”ì¸ ì„œë¹„ìŠ¤ìš© (í™œìš© ì˜ˆì •)
â”œâ”€â”€ sw-error-handler.js
â””â”€â”€ unregister-sw.js

dist/ (ë¹Œë“œ ê²°ê³¼ë¬¼)
â””â”€â”€ manifest.webmanifest    # vite-plugin-pwaê°€ ìƒì„±
```

---

## ğŸ› ï¸ 4. êµ¬í˜„ ê³„íš (ë¶„ë¦¬ ìœ ì§€ ë°©ì‹)

### 4.1 ì•„í‚¤í…ì²˜ ì„¤ê³„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë¹Œë“œ í›„ íŒŒì¼ êµ¬ì¡°                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                     â”‚
â”‚  dist/                                                              â”‚
â”‚  â”œâ”€â”€ index.html                # ë©”ì¸ â†’ manifest.webmanifest ì°¸ì¡°  â”‚
â”‚  â”œâ”€â”€ note/                                                          â”‚
â”‚  â”‚   â””â”€â”€ index.html            # /note â†’ manifest-devnote.webmanifestâ”‚
â”‚  â”‚                                                                  â”‚
â”‚  â”œâ”€â”€ manifest.webmanifest      # í•™êµì¼ìë¦¬ PWA (ì‹ ê·œ ìƒì„±)         â”‚
â”‚  â”œâ”€â”€ manifest-devnote.webmanifest  # ê°œë°œìë…¸íŠ¸ PWA (ê¸°ì¡´)          â”‚
â”‚  â”‚                                                                  â”‚
â”‚  â”œâ”€â”€ sw.js                     # ë©”ì¸ Service Worker               â”‚
â”‚  â””â”€â”€ sw-devnote.js             # ê°œë°œìë…¸íŠ¸ Service Worker (ì„ íƒ)   â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Phase 1: ë©”ì¸ ì„œë¹„ìŠ¤ìš© Manifest ìƒì„± (ì˜ˆìƒ: 30ë¶„)

**íŒŒì¼**: `public/manifest.webmanifest`

```json
{
  "id": "sellmebuyme-main",
  "name": "í•™êµì¼ìë¦¬ - í•™êµì¼ì„ ì°¾ëŠ” ê°€ì¥ ë¹ ë¥¸ ë°©ë²•",
  "short_name": "í•™êµì¼ìë¦¬",
  "description": "ì „êµ­ êµìœ¡ì²­, í•™êµ êµìœ¡ê³µë¬´ì§ ì±„ìš©ê³µê³ ë¥¼ í•œëˆˆì—",
  "start_url": "/?source=pwa",
  "scope": "/",
  "display": "standalone",
  "orientation": "portrait-primary",
  "theme_color": "#a8c5e0",
  "background_color": "#f9fafb",
  "icons": [
    {
      "src": "/picture/favicon.png",
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "any"
    },
    {
      "src": "/picture/favicon.png",
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "any maskable"
    }
  ],
  "categories": ["education", "productivity"]
}
```

### 4.3 Phase 2: ê°œë°œìë…¸íŠ¸ Manifest ë¶„ë¦¬ (ì˜ˆìƒ: 30ë¶„)

**íŒŒì¼**: `public/note/manifest.webmanifest`

```json
{
  "id": "sellmebuyme-devnote",
  "name": "ì…€ë°” ê°œë°œìë…¸íŠ¸",
  "short_name": "ê°œë°œìë…¸íŠ¸",
  "description": "ì…€ë¯¸ë°”ì´ë¯¸ ê°œë°œíŒ€ í˜‘ì—… ë„êµ¬ - ì•„ì´ë””ì–´ ìˆ˜ì§‘ ë° ê²Œì‹œíŒ ë“±ë¡",
  "start_url": "/note?source=pwa",
  "scope": "/note",
  "display": "standalone",
  "orientation": "portrait",
  "theme_color": "#a8c5e0",
  "background_color": "#f9fafb",
  "icons": [
    {
      "src": "/pwa-icons/icon-192x192.png",
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "any maskable"
    },
    {
      "src": "/pwa-icons/icon-512x512.png",
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "any maskable"
    }
  ]
}
```

### 4.4 Phase 3: vite.config.ts ìˆ˜ì • (ì˜ˆìƒ: 1ì‹œê°„)

**ì „ëµ**: vite-plugin-pwaì˜ `injectManifest` ëª¨ë“œ ì‚¬ìš©

```typescript
import { VitePWA } from 'vite-plugin-pwa'

export default defineConfig({
  plugins: [
    VitePWA({
      // ìˆ˜ë™ manifest ê´€ë¦¬ ëª¨ë“œ
      strategies: 'injectManifest',
      srcDir: 'src',
      filename: 'sw.ts',
      
      // manifestëŠ” ìˆ˜ë™ ìƒì„± (public/ í´ë”)
      manifest: false,  // vite-plugin-pwaê°€ ìë™ ìƒì„± ì•ˆ í•¨
      
      injectManifest: {
        globPatterns: ['**/*.{js,css,html,ico,png,svg,woff,woff2}'],
        globIgnores: ['**/note/**'],  // /noteëŠ” ë³„ë„ ì²˜ë¦¬
      },
      
      devOptions: {
        enabled: true,
        type: 'module'
      }
    })
  ],
  // ...
})
```

### 4.5 Phase 4: ê²½ë¡œë³„ Manifest ì°¸ì¡° ì„¤ì • (ì˜ˆìƒ: 30ë¶„)

**index.html (ë©”ì¸ ì„œë¹„ìŠ¤)**:
```html
<head>
  <!-- PWA Meta Tags - ë©”ì¸ ì„œë¹„ìŠ¤ -->
  <link rel="manifest" href="/manifest.webmanifest" />
  <meta name="theme-color" content="#a8c5e0" />
  <meta name="apple-mobile-web-app-title" content="í•™êµì¼ìë¦¬" />
  <link rel="apple-touch-icon" href="/picture/favicon.png" />
</head>
```

**ë™ì  manifest ì „í™˜** (App.tsx ë˜ëŠ” main.tsx):
```typescript
// ê²½ë¡œë³„ë¡œ ë‹¤ë¥¸ manifest ì°¸ì¡°
useEffect(() => {
  const manifestLink = document.querySelector('link[rel="manifest"]');
  const pathname = window.location.pathname;
  
  if (pathname.startsWith('/note')) {
    manifestLink?.setAttribute('href', '/note/manifest.webmanifest');
    document.title = 'ì…€ë°” ê°œë°œìë…¸íŠ¸';
  } else {
    manifestLink?.setAttribute('href', '/manifest.webmanifest');
    document.title = 'í•™êµì¼ìë¦¬';
  }
}, []);
```

### 4.6 Phase 5: Service Worker ë¶„ë¦¬ ì „ëµ (ì˜ˆìƒ: 1ì‹œê°„)

#### workbox-caching-guide ìŠ¤í‚¬ ì°¸ì¡°:

```
## Route Matching
URL patterns. Request types. Origin filtering.

## Offline Fallbacks
### Navigation Fallback
Serve offline page for uncached HTML.
Use setCatchHandler. Better than browser error.
```

#### ì˜µì…˜ A: ë‹¨ì¼ SW + ê²½ë¡œ ë¶„ê¸° (ê¶Œì¥)

```typescript
// src/sw.ts
import { precacheAndRoute, cleanupOutdatedCaches } from 'workbox-precaching'
import { registerRoute, NavigationRoute } from 'workbox-routing'
import { NetworkFirst, CacheFirst, StaleWhileRevalidate } from 'workbox-strategies'

// í”„ë¦¬ìºì‹±
cleanupOutdatedCaches()
precacheAndRoute(self.__WB_MANIFEST)

// ê²½ë¡œë³„ ìºì‹± ì „ëµ
registerRoute(
  // /note ê²½ë¡œ - ê°œë°œìë…¸íŠ¸ìš©
  ({ url }) => url.pathname.startsWith('/note'),
  new NetworkFirst({
    cacheName: 'devnote-pages',
    networkTimeoutSeconds: 3,
  })
)

registerRoute(
  // ë©”ì¸ ì„œë¹„ìŠ¤ ê²½ë¡œ
  ({ url }) => !url.pathname.startsWith('/note') && !url.pathname.startsWith('/api'),
  new NetworkFirst({
    cacheName: 'main-pages',
    networkTimeoutSeconds: 3,
  })
)

// í°íŠ¸ ìºì‹± (ê³µí†µ)
registerRoute(
  /\/fonts\/.*\.(ttf|woff|woff2)$/,
  new CacheFirst({
    cacheName: 'fonts-cache',
    plugins: [
      { maxEntries: 30, maxAgeSeconds: 60 * 60 * 24 * 365 }
    ]
  })
)

// Supabase API ìºì‹± (ê³µí†µ)
registerRoute(
  /^https:\/\/.*\.supabase\.co\/.*/i,
  new StaleWhileRevalidate({
    cacheName: 'supabase-cache',
    plugins: [
      { maxEntries: 200, maxAgeSeconds: 60 * 30 }
    ]
  })
)
```

#### ì˜µì…˜ B: ì™„ì „ ë¶„ë¦¬ SW (ë³µì¡ë„ ë†’ìŒ)

- `sw-main.js`: ë©”ì¸ ì„œë¹„ìŠ¤ ì „ìš©
- `sw-devnote.js`: ê°œë°œìë…¸íŠ¸ ì „ìš©
- ê²½ë¡œë³„ë¡œ ë‹¤ë¥¸ SW ë“±ë¡

â†’ **ì˜µì…˜ A ê¶Œì¥** (ê´€ë¦¬ ìš©ì´ì„±)

### 4.7 Phase 6: PWA ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ (ì˜ˆìƒ: 30ë¶„)

**íŒŒì¼**: `src/lib/utils/pwaUtils.ts`

LID í”„ë¡œì íŠ¸ì—ì„œ ê°€ì ¸ì˜¬ í•¨ìˆ˜ë“¤:
- `isKakaoTalkBrowser()` - ì¹´ì¹´ì˜¤í†¡ ì¸ì•± ë¸Œë¼ìš°ì € ê°ì§€
- `isIOS()` / `isAndroid()` / `isMobile()` - í”Œë«í¼ ê°ì§€
- `isPWAInstalled()` - PWA ì„¤ì¹˜ ì—¬ë¶€ í™•ì¸
- `isTrueFirstVisit()` / `markAsVisited()` - ìµœì´ˆ ë°©ë¬¸ ê´€ë¦¬
- `openInExternalBrowser()` - Intent URLë¡œ ì™¸ë¶€ ë¸Œë¼ìš°ì € ì—´ê¸°
- `getCurrentURL()` - í˜„ì¬ URL

### 4.8 Phase 7: ì„¤ì¹˜ í”„ë¡¬í”„íŠ¸ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ (ì˜ˆìƒ: 2ì‹œê°„)

LID í”„ë¡œì íŠ¸ íŒ¨í„´ ì ìš©:

| ì»´í¬ë„ŒíŠ¸ | íŠ¸ë¦¬ê±° ì¡°ê±´ | ë‚´ìš© |
|---------|------------|------|
| `FirstVisitInstallPrompt.tsx` | ì¹´ì¹´ì˜¤í†¡ + ìµœì´ˆë°©ë¬¸ | "ì•±ìœ¼ë¡œ ì„¤ì¹˜í•´ë³´ì„¸ìš”" |
| `IOSInstallGuide.tsx` | iOS í™˜ê²½ | Safari 4ë‹¨ê³„ ê°€ì´ë“œ |
| `ManualBrowserGuide.tsx` | Android + Intent ì‹¤íŒ¨ | ì¹´ì¹´ì˜¤í†¡ â†’ ì™¸ë¶€ ë¸Œë¼ìš°ì € ì•ˆë‚´ |
| `InstallButton.tsx` | ì¼ë°˜ ë¸Œë¼ìš°ì € | í—¤ë” "ì•± ì„¤ì¹˜" ë²„íŠ¼ |

---

## ğŸ¯ 5. LID í”„ë¡œì íŠ¸ ì‚¬ìš©ì ê²½í—˜ í”Œë¡œìš° (ì°¸ì¡°)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš€ ì‚¬ìš©ì ì²« ë°©ë¬¸ ì‹œë‚˜ë¦¬ì˜¤                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ STEP 1: í™˜ê²½ ê°ì§€                                                â”‚     â”‚
â”‚  â”‚ â”œâ”€â”€ isMobile() â†’ ëª¨ë°”ì¼ì¸ê°€?                                     â”‚     â”‚
â”‚  â”‚ â”œâ”€â”€ isKakaoTalkBrowser() â†’ ì¹´ì¹´ì˜¤í†¡ ì¸ì•± ë¸Œë¼ìš°ì €ì¸ê°€?            â”‚     â”‚
â”‚  â”‚ â”œâ”€â”€ isPWAInstalled() â†’ ì´ë¯¸ ì„¤ì¹˜ë¨?                              â”‚     â”‚
â”‚  â”‚ â””â”€â”€ isTrueFirstVisit() â†’ ì§„ì§œ ìµœì´ˆ ë°©ë¬¸ì¸ê°€?                      â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                              â†“                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ STEP 2: ë¶„ê¸° ì²˜ë¦¬                                                â”‚     â”‚
â”‚  â”‚                                                                   â”‚     â”‚
â”‚  â”‚  [ë°ìŠ¤í¬í†±] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ ì•„ë¬´ê²ƒë„ ì•ˆ í•¨               â”‚     â”‚
â”‚  â”‚                                                                   â”‚     â”‚
â”‚  â”‚  [ëª¨ë°”ì¼ + ì¼ë°˜ ë¸Œë¼ìš°ì €] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ í—¤ë”ì— "ì•± ì„¤ì¹˜" ë²„íŠ¼ í‘œì‹œ   â”‚     â”‚
â”‚  â”‚                                                                   â”‚     â”‚
â”‚  â”‚  [ëª¨ë°”ì¼ + ì¹´ì¹´ì˜¤í†¡ + ìµœì´ˆë°©ë¬¸] â”€â”€â”€â†’ FirstVisitInstallPrompt ëª¨ë‹¬ â”‚     â”‚
â”‚  â”‚                                                                   â”‚     â”‚
â”‚  â”‚  [PWA ì´ë¯¸ ì„¤ì¹˜ë¨] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ ì•„ë¬´ê²ƒë„ ì•ˆ í•¨               â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                              â†“                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ STEP 3: í”Œë«í¼ë³„ ì„¤ì¹˜ ê°€ì´ë“œ                                      â”‚     â”‚
â”‚  â”‚                                                                   â”‚     â”‚
â”‚  â”‚  [Android + ì¹´ì¹´ì˜¤í†¡]                                             â”‚     â”‚
â”‚  â”‚   â”œâ”€â”€ Intent URLë¡œ ì™¸ë¶€ ë¸Œë¼ìš°ì € ìë™ ì—´ê¸° ì‹œë„                   â”‚     â”‚
â”‚  â”‚   â”œâ”€â”€ ì„±ê³µ â†’ Chrome/Samsung Internetì—ì„œ ì„¤ì¹˜ ê°€ëŠ¥               â”‚     â”‚
â”‚  â”‚   â””â”€â”€ ì‹¤íŒ¨ â†’ ManualBrowserGuide ëª¨ë‹¬ í‘œì‹œ                        â”‚     â”‚
â”‚  â”‚                                                                   â”‚     â”‚
â”‚  â”‚  [iOS + ì¹´ì¹´ì˜¤í†¡]                                                 â”‚     â”‚
â”‚  â”‚   â”œâ”€â”€ í´ë¦½ë³´ë“œì— URL ë³µì‚¬ (ìë™)                                  â”‚     â”‚
â”‚  â”‚   â”œâ”€â”€ Safari ì—´ê¸° ì‹œë„                                            â”‚     â”‚
â”‚  â”‚   â””â”€â”€ IOSInstallGuide ëª¨ë‹¬ í‘œì‹œ (4ë‹¨ê³„ ì•ˆë‚´)                      â”‚     â”‚
â”‚  â”‚                                                                   â”‚     â”‚
â”‚  â”‚  [ì¼ë°˜ ë¸Œë¼ìš°ì € (Chrome/Edge)]                                    â”‚     â”‚
â”‚  â”‚   â”œâ”€â”€ beforeinstallprompt ì´ë²¤íŠ¸ ìºì¹˜                             â”‚     â”‚
â”‚  â”‚   â”œâ”€â”€ í—¤ë”ì— "ì•± ì„¤ì¹˜" ë²„íŠ¼ í‘œì‹œ                                  â”‚     â”‚
â”‚  â”‚   â””â”€â”€ í´ë¦­ ì‹œ ë¸Œë¼ìš°ì € ê¸°ë³¸ ì„¤ì¹˜ í”„ë¡¬í”„íŠ¸ í‘œì‹œ                    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ 6. ìµœì¢… íŒŒì¼ êµ¬ì¡°

```
src/
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ pwaUtils.ts                     # ğŸ“± NEW - í™˜ê²½ ê°ì§€ ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ components/
â”‚   â””â”€â”€ pwa/                                # ğŸ“± NEW - PWA ì „ìš© í´ë”
â”‚       â”œâ”€â”€ FirstVisitInstallPrompt.tsx
â”‚       â”œâ”€â”€ FirstVisitInstallPrompt.css
â”‚       â”œâ”€â”€ IOSInstallGuide.tsx
â”‚       â”œâ”€â”€ IOSInstallGuide.css
â”‚       â”œâ”€â”€ ManualBrowserGuide.tsx
â”‚       â”œâ”€â”€ ManualBrowserGuide.css
â”‚       â””â”€â”€ InstallButton.tsx
â”œâ”€â”€ sw.ts                                   # ğŸ”§ NEW - Custom Service Worker

public/
â”œâ”€â”€ manifest.webmanifest                    # ğŸ“± NEW - ë©”ì¸ ì„œë¹„ìŠ¤ PWA
â”œâ”€â”€ note/
â”‚   â””â”€â”€ manifest.webmanifest                # ğŸ“± NEW - ê°œë°œìë…¸íŠ¸ PWA (ë¶„ë¦¬)
â”œâ”€â”€ picture/
â”‚   â””â”€â”€ favicon.png                         # âœ… ë©”ì¸ PWA ì•„ì´ì½˜
â”œâ”€â”€ pwa-icons/                              # âœ… ê°œë°œìë…¸íŠ¸ ì•„ì´ì½˜ (ê¸°ì¡´)
â”‚   â”œâ”€â”€ icon-192x192.png
â”‚   â”œâ”€â”€ icon-512x512.png
â”‚   â””â”€â”€ apple-touch-icon.png

â”œâ”€â”€ index.html                              # ğŸ”§ ìˆ˜ì • - ë™ì  manifest
â””â”€â”€ vite.config.ts                          # ğŸ”§ ìˆ˜ì • - injectManifest ëª¨ë“œ
```

---

## âœ… 7. ì²´í¬ë¦¬ìŠ¤íŠ¸ (pwa-manifest-config ìŠ¤í‚¬ ê¸°ë°˜)

### ë©”ì¸ ì„œë¹„ìŠ¤ PWA (í•™êµì¼ìë¦¬)

**Required Fields:**
- [ ] name: "í•™êµì¼ìë¦¬ - í•™êµì¼ì„ ì°¾ëŠ” ê°€ì¥ ë¹ ë¥¸ ë°©ë²•"
- [ ] short_name: "í•™êµì¼ìë¦¬"
- [ ] start_url: "/?source=pwa"
- [ ] display: "standalone"
- [ ] icons: 192x192, 512x512

**Appearance:**
- [ ] theme_color: "#a8c5e0" (ë¸Œëœë“œ ì¼ì¹˜)
- [ ] background_color: "#f9fafb"
- [ ] Maskable icon í¬í•¨ (purpose: "any maskable")

**Advanced:**
- [ ] **id: "sellmebuyme-main"** â† í•µì‹¬!
- [ ] scope: "/" 
- [ ] categories: ["education", "productivity"]

### ê°œë°œìë…¸íŠ¸ PWA (ê¸°ì¡´)

**Required Fields:**
- [ ] name: "ì…€ë°” ê°œë°œìë…¸íŠ¸"
- [ ] short_name: "ê°œë°œìë…¸íŠ¸"
- [ ] start_url: "/note?source=pwa"
- [ ] display: "standalone"
- [ ] icons: 192x192, 512x512

**Advanced:**
- [ ] **id: "sellmebuyme-devnote"** â† í•µì‹¬! (ê¸°ì¡´ ì•±ê³¼ êµ¬ë¶„)
- [ ] scope: "/note"

---

## â±ï¸ 8. ì˜ˆìƒ ì†Œìš” ì‹œê°„

| Phase | ì‘ì—… | ì‹œê°„ |
|-------|------|------|
| 1 | ë©”ì¸ ì„œë¹„ìŠ¤ manifest.webmanifest ìƒì„± | 30ë¶„ |
| 2 | ê°œë°œìë…¸íŠ¸ note/manifest.webmanifest ë¶„ë¦¬ | 30ë¶„ |
| 3 | vite.config.ts injectManifest ëª¨ë“œ ì „í™˜ | 1ì‹œê°„ |
| 4 | ê²½ë¡œë³„ manifest ë™ì  ì°¸ì¡° ì„¤ì • | 30ë¶„ |
| 5 | Service Worker ê²½ë¡œ ë¶„ê¸° ì„¤ì • | 1ì‹œê°„ |
| 6 | pwaUtils.ts ì‘ì„± | 30ë¶„ |
| 7 | ì„¤ì¹˜ í”„ë¡¬í”„íŠ¸ ëª¨ë‹¬ 3ì¢… ê°œë°œ | 2ì‹œê°„ |
| 8 | í…ŒìŠ¤íŠ¸ ë° ê²€ì¦ | 1ì‹œê°„ |
| **ì´í•©** | | **ì•½ 7ì‹œê°„** |

---

## âš ï¸ 9. ì£¼ì˜ì‚¬í•­

### 9.1 ê¸°ì¡´ ê°œë°œìë…¸íŠ¸ ì‚¬ìš©ì ì˜í–¥

**ìš°ë ¤ ì‚¬í•­**: ê¸°ì¡´ì— `/note`ì—ì„œ ì„¤ì¹˜í•œ ì‚¬ìš©ìë“¤

**í•´ê²° ë°©ì•ˆ**:
1. `id` í•„ë“œ ì¶”ê°€ë¡œ ê¸°ì¡´ ì•± ì‹ë³„ ìœ ì§€
2. `start_url`ì— `?source=pwa` ì¿¼ë¦¬ ì¶”ê°€ë¡œ analytics ë¶„ë¦¬
3. manifest ê²½ë¡œ ë³€ê²½ ì‹œ SW ì—…ë°ì´íŠ¸ë¡œ ìë™ ì „í™˜

**ê²°ë¡ **: ì¬ì„¤ì¹˜ ë¶ˆí•„ìš”, ê¸°ì¡´ ì•± ì •ìƒ ì‘ë™

### 9.2 Scope ì¤‘ì²© ì²˜ë¦¬

**ë¬¸ì œ**: `scope: "/"` ê°€ `scope: "/note"` í¬í•¨

**í•´ê²°**:
- `id` í•„ë“œë¡œ ë¸Œë¼ìš°ì €ê°€ ë³„ë„ ì•±ìœ¼ë¡œ ì¸ì‹
- ì„¤ì¹˜ ì‹œ ì‚¬ìš©ìê°€ ì–´ëŠ í˜ì´ì§€ì—ì„œ ì„¤ì¹˜í•˜ëŠëƒì— ë”°ë¼ ê²°ì •
  - `/`ì—ì„œ ì„¤ì¹˜ â†’ í•™êµì¼ìë¦¬ PWA
  - `/note`ì—ì„œ ì„¤ì¹˜ â†’ ê°œë°œìë…¸íŠ¸ PWA

### 9.3 iOS ì œí•œì‚¬í•­ (pwa-manifest-config ìŠ¤í‚¬ ì°¸ì¡°)

> "Limited support. No prompts. Add manually. Some limitations."

- ìë™ ì„¤ì¹˜ í”„ë¡¬í”„íŠ¸ **ì—†ìŒ**
- IOSInstallGuide ëª¨ë‹¬ë¡œ ìˆ˜ë™ ì•ˆë‚´ í•„ìˆ˜
- í‘¸ì‹œ ì•Œë¦¼: iOS 16.4+ Safariì—ì„œë§Œ ì œí•œì  ì§€ì›

---

## ğŸ”— 10. ì°¸ì¡° íŒŒì¼

### LID í”„ë¡œì íŠ¸ (ì°¸ì¡°)
- `frontend/vite.config.js` - PWA ì„¤ì •
- `frontend/src/utils/pwaUtils.js` - í™˜ê²½ ê°ì§€ ìœ í‹¸ë¦¬í‹°
- `frontend/src/components/Layout.jsx` - PWA ë¡œì§ í†µí•©
- `frontend/src/components/modals/FirstVisitInstallPrompt.jsx`
- `frontend/src/components/modals/IOSInstallGuide.jsx`
- `frontend/src/components/modals/ManualBrowserGuide.jsx`

### SellmeBuyme í”„ë¡œì íŠ¸ (í˜„ì¬)
- `vite.config.ts` - í˜„ì¬ ê°œë°œìë…¸íŠ¸ ì „ìš© PWA
- `index.html` - í˜„ì¬ ë©”íƒ€ íƒœê·¸
- `docs/PWA_SERVICE_WORKER_FIX_REPORT.md` - ì´ì „ ë¬¸ì œ í•´ê²° ê¸°ë¡
- `public/picture/favicon.png` - ë©”ì¸ PWA ì•„ì´ì½˜

### ì„¤ì¹˜ëœ PWA ìŠ¤í‚¬
- `pwa-implementation-guide` - PWA í•µì‹¬ êµ¬í˜„ ê°€ì´ë“œ
- `pwa-manifest-config` - ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ì„¤ì • (id, scope ë“±)
- `workbox-caching-guide` - Workbox ìºì‹± ì „ëµ

---

## ğŸ“ 11. ë‹¤ìŒ ë‹¨ê³„

1. âœ… ì´ í”Œëœ ê²€í†  ë° ìŠ¹ì¸
2. â¬œ Phase 1: manifest.webmanifest ìƒì„±
3. â¬œ Phase 2: note/manifest.webmanifest ë¶„ë¦¬
4. â¬œ Phase 3: vite.config.ts ìˆ˜ì • (injectManifest)
5. â¬œ Phase 4: ê²½ë¡œë³„ manifest ë™ì  ì°¸ì¡°
6. â¬œ Phase 5: Service Worker ë¶„ê¸° ì„¤ì •
7. â¬œ Phase 6: pwaUtils.ts ì‘ì„±
8. â¬œ Phase 7: ì„¤ì¹˜ ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸ ê°œë°œ
9. â¬œ Phase 8: í…ŒìŠ¤íŠ¸

**í”Œëœ ìŠ¹ì¸ í›„ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤! ìˆ˜ì •ì´ í•„ìš”í•˜ë©´ ì•Œë ¤ì£¼ì„¸ìš”! ğŸš€**

---

**ë¬¸ì„œ ë²„ì „**: 3.0 (ë¶„ë¦¬ ìœ ì§€ ë°©ì‹)  
**ìµœì¢… ìˆ˜ì •**: 2026-01-26 14:10
