# 260126 모바일 버전 반응형 뷰 구현 계획

## 현재 상황 분석

### 1. 히스토리 요약
```
41f1d9e (Jan 25) - 최선결: feat(mobile): 학교급별 색상 시스템 적용
    ↓
920168a (Jan 26) - chore: 작업 중 변경사항 저장
    ↓
12d6cae (Jan 26) - feat(mobile): v8 모바일 UI 통합 및 개선
    ↓
e6fa90e (Jan 26) - feat: v8mobile 브랜치 병합 (반응형 모바일 UI 통합) ← 현재 main
```

### 2. 문제점
| 항목 | 최선결 버전 (41f1d9e) | v8mobile 버전 (현재 main) |
|------|---------------------|--------------------------|
| 모바일 전용 페이지 | ✅ MobileMapPage 존재 | ❌ 삭제됨 |
| PC/모바일 분기 | main.tsx에서 분기 | NewLanding 통합 |
| 바텀시트 | ✅ 3단계 드래그 UX | ❌ 접기/펼치기만 |
| 모바일 카드 | ✅ MobileJobCard | HeroCard (반응형) |
| 학교급 색상 바 | ✅ 좌측 색상 바 | ❌ 없음 |
| 긴급 배지 | ✅ 🔥 긴급 배지 | D-day 뱃지만 |

### 3. 최선결 버전 파일 목록 (41f1d9e)
```
src/pages/mobile-map/
├── MobileMapPage.tsx           # 메인 모바일 맵 페이지
└── components/
    ├── MobileBottomSheet.tsx   # 3단계 드래그 바텀시트
    ├── MobileJobCard.tsx       # 모바일 공고 카드 (학교급 색상 바)
    ├── MobileJobDetail.tsx     # 모바일 공고 상세 (학교급 색상 헤더)
    ├── MobileSearchBar.tsx     # 모바일 검색바
    └── MobileFilterSheet.tsx   # 모바일 필터 모달
```

### 4. 최선결 버전의 특징
- **학교급별 색상 시스템**: 유치원(브라운), 초등(초록), 중등(파랑), 고등(남색), 특수(보라), 기타(회색)
- **MobileJobCard 좌측 색상 바**: 학교급별 색상이 카드 왼쪽에 4px 바로 표시
- **MobileJobDetail 상단 색상 바**: 상세 모달 상단에 학교급 색상 헤더
- **긴급 공고 배지**: 🔥 긴급 배지로 D-3 이하 강조
- **바텀시트 3단계**: collapsed(접힘) → half(반) → full(전체) 드래그 UX

---

## 복구 계획

### Option A: 최선결 버전 완전 복구 (권장)
1. 41f1d9e 커밋에서 mobile-map 폴더 전체 checkout
2. main.tsx에서 MobileMapPage 분기 로직 복구
3. 최신 변경사항(BETA 마크, 로고 등)만 추가 적용

```bash
# 1. 최선결 버전 모바일 파일 복구
git checkout 41f1d9e -- src/pages/mobile-map/

# 2. main.tsx 수정 (MobileMapPage 분기 복구)
# 직접 수정 필요
```

### Option B: 하이브리드 (NewLanding + 최선결 컴포넌트)
1. NewLanding 유지
2. MobileJobCard, MobileJobDetail 등 최선결 컴포넌트만 가져와서 적용
3. 학교급 색상 바 시스템만 NewLanding Hero에 통합

### Option C: 새로 구현
1. NewLanding 기반으로 바텀시트 UX 추가 구현
2. 학교급 색상 바 시스템 직접 구현
3. 시간 소요 많음

---

## 권장 실행 순서

### Step 1: 최선결 버전 파일 복구
```bash
cd /c/PRODUCT/SellmeBuyme
git checkout 41f1d9e -- src/pages/mobile-map/
```

### Step 2: main.tsx 수정
```typescript
// 모바일 디바이스 감지 (화면 크기 + 터치 지원)
const isMobileDevice = window.innerWidth < 768 ||
  ('ontouchstart' in window) ||
  (navigator.maxTouchPoints > 0);

// 기본값: 모바일이면 MobileMapPage, PC면 NewLanding
let rootComponent = isMobileDevice ? <MobileMapPage /> : <NewLanding />
```

### Step 3: 최신 변경사항 적용
- BETA 마크 추가 (MobileSearchBar에 적용)
- 로고 경로 업데이트 (/picture/logo.png)
- AuthModal 연동

### Step 4: 테스트
- [ ] 모바일 뷰에서 MobileMapPage 로드 확인
- [ ] 학교급 색상 바 표시 확인
- [ ] 바텀시트 드래그 동작 확인
- [ ] PC 뷰에서 NewLanding 로드 확인

---

## 관련 브랜치
| 브랜치 | 설명 | 상태 |
|--------|------|------|
| `feature/mobile-school-level-colors` | 최선결 모바일 작업 | origin에 존재 |
| `v8mobile` | 새 모바일 통합 작업 | 로컬에 존재 |
| `mobile-map-preview` | 이전 모바일 프리뷰 | origin에 존재 |

---

## 참고: 최선결 PR 정보
- **PR**: feature/mobile-school-level-colors → main
- **작성자**: CHOISEONGYEOL
- **머지 시간**: 6시간 전 (Jan 26 기준)
- **변경 파일**: 4개 (+85 −20)
- **커밋**: 41f1d9e

### 변경 내용 (PR 설명)
- 지도 마커에 학교급별 색상 적용 (유치원/초등/중학/고등/특수/기타)
- MobileJobCard에 좌측 색상 바 및 학교급 배지 추가
- MobileJobDetail에 상단 색상 바 및 학교급 배지 추가
- 긴급 공고 배지(🔥 긴급) 추가
- 로고 경로 및 브랜딩 업데이트 (학교일자리)
