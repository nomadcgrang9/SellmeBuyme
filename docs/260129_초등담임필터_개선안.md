# 초등담임 필터 개선안

## 현재 문제

### 팩트 체크 결과
| 항목 | 건수 |
|------|------|
| 현재 "초등담임"으로 분류 | 142건 |
| 진짜 초등담임 | 51건 (36%) |
| **잘못 분류** | **91건 (64%)** |

### 잘못 분류된 패턴
| 패턴 | 건수 | 올바른 분류 |
|------|------|------------|
| 강사 (스포츠강사, 맞춤형 강사 등) | 43건 | 방과후/돌봄 |
| 운동부/스포츠 | 9건 | 방과후/돌봄 |
| 프로그램/맞춤형 | 8건 | 방과후/돌봄 |
| 전담사 | 6건 | 행정·교육지원 |
| 당직 | 6건 | 행정·교육지원 |
| 미화/경비 | 4건 | 행정·교육지원 |
| 학생보호인력 | 다수 | 행정·교육지원 |
| 시설관리 | 다수 | 행정·교육지원 |

### 현재 로직의 문제점
```typescript
// 현재 classifyJob() 초등 분기
if (isElementary) {
  if (방과후/돌봄 키워드) return '방과후/돌봄';      // 키워드 부족!
  if (행정·교육지원 키워드) return '행정·교육지원';   // 키워드 부족!
  return '초등담임';  // ← 나머지 전부 fallback (문제!)
}
```

---

## 개선안

### 분류 로직 변경

```typescript
if (isElementary) {
  // 1. 방과후/돌봄 (키워드 확장)
  if (
    tl.includes('방과후') || tl.includes('돌봄') || tl.includes('늘봄') ||
    tl.includes('에듀케어') || tl.includes('외부강사') || tl.includes('개인위탁') ||
    // 추가 키워드
    (tl.includes('강사') && !tl.includes('교사') && !tl.includes('교원')) ||
    tl.includes('프로그램') || tl.includes('맞춤형') ||
    tl.includes('스포츠') || tl.includes('운동부') ||
    tl.includes('특기적성') || tl.includes('동아리')
  ) {
    return '방과후/돌봄';
  }

  // 2. 행정·교육지원 (키워드 확장)
  if (
    tl.includes('실무') || tl.includes('공무직') || tl.includes('봉사') ||
    tl.includes('지킴이') || tl.includes('튜터') || tl.includes('협력강사') ||
    tl.includes('안전') || tl.includes('보조') || tl.includes('영양사') || tl.includes('배움터') ||
    // 추가 키워드
    tl.includes('전담사') || tl.includes('당직') ||
    tl.includes('미화') || tl.includes('경비') ||
    tl.includes('시설') || tl.includes('관리') ||
    tl.includes('학생보호') || tl.includes('보호인력') ||
    tl.includes('조리') || tl.includes('사서')
  ) {
    return '행정·교육지원';
  }

  // 3. 진짜 초등담임 (명시적 키워드 필요)
  if (
    tl.includes('담임') ||
    tl.includes('기간제교사') || tl.includes('기간제교원') ||
    tl.includes('계약제교사') || tl.includes('계약제교원') ||
    tl.includes('초등교사') || tl.includes('학급담임')
  ) {
    return '초등담임';
  }

  // 4. 태그 기반 보완 (title에 없어도 태그로 판별)
  const tags = (job.tags || []).map(t => t.toLowerCase()).join(' ');
  if (tags.includes('담임') || tags.includes('기간제교사') || tags.includes('초등교사')) {
    return '초등담임';
  }

  // 5. 그 외는 기타 (fallback을 초등담임이 아닌 기타로!)
  return '기타';
}
```

### 추가할 키워드 정리

#### 방과후/돌봄으로 분류할 키워드
- `강사` (단독, 교사/교원 없이)
- `프로그램`, `맞춤형`
- `스포츠`, `운동부`
- `특기적성`, `동아리`
- `예체능` (단독)

#### 행정·교육지원으로 분류할 키워드
- `전담사`, `당직`
- `미화`, `경비`
- `시설`, `관리`
- `학생보호`, `보호인력`
- `조리` (조리실무사)
- `사서` (사서교사 아닌 경우)

#### 초등담임으로 분류할 키워드 (명시적)
- `담임`
- `기간제교사`, `기간제교원`
- `계약제교사`, `계약제교원`
- `초등교사`, `학급담임`
- 태그에 `담임`, `초등교사` 포함

---

## 실제 결과 ✅ (2026-01-29 적용)

### 수정 전
| 분류 | 건수 | 정확도 |
|------|------|--------|
| 초등담임 | 142건 | 36% (잘못 분류 64%) |

### 수정 후
| 분류 | 건수 | 변화 |
|------|------|------|
| **초등담임** | **53건** | -89건 (진짜 담임/기간제교사만) |
| 방과후/돌봄 | 127건 | 강사, 프로그램, 스포츠 등 이동 |
| 행정·교육지원 | 97건 | 전담사, 당직, 보호인력 등 이동 |
| 비교과 | 33건 | - |
| 특수 | 24건 | - |
| 기타 | 12건 | 분류 불가 |

**개선 효과: 잘못 분류 비율 64% → ~0%**

### 초등담임 분류 샘플 (진짜 담임/기간제교사만)
- `[정배초등학교] 기간제교원` (태그: 초등교사)
- `[구미인덕초등학교] 계약제교원` (태그: 담임, 체육)
- `[송북초등학교] 계약제교원` (태그: 2학년 담임, 4학년 담임)
- `[대전성룡초등학교] 기간제교원(4학년 담임교사)`

### 방과후/돌봄으로 이동된 샘플
- `맞춤형 프로그램`, `AI·컴퓨터 활용 교육 강사`
- `스포츠강사`, `놀이체육 강사`, `방과후학교강사`

### 행정·교육지원으로 이동된 샘플
- `학생보호인력`, `당직전담사`
- `미화원`, `시설관리`, `조리실무사`

---

## 구현 파일

- `src/lib/utils/jobClassifier.ts` - `classifyJob()` 함수 수정 완료

---

## 테스트 스크립트

- `scripts/test-new-classifier.ts` - 새 로직 테스트
