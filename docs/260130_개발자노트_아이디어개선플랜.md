# 개발자노트 아이디어 살펴보기 개선 플랜

> 작성일: 2026-01-30
> 목표: 아이디어 게시판의 검색성, 가독성, 구조 개선

---

## 1. 현재 문제점 분석

### 1.1 제목 부재
- 아이디어 등록 시 **제목 입력 필드 없음**
- DB에 `title` 컬럼은 존재하나 미사용
- 목록에서 내용 2줄만 표시되어 **핵심 파악 어려움**

### 1.2 검색/필터 미흡
- 카테고리 필터 **UI 없음** (훅에만 구현됨)
- 검색 기능 **전무**
- 작성자, 날짜별 필터링 불가

### 1.3 구조적 문제
- 모든 아이디어가 단순 나열
- 한눈에 어떤 아이디어인지 파악 불가
- 누가 언제 올렸는지 **시각적 구분 부족**

---

## 2. 개선 목표

| 항목 | 현재 | 개선 후 |
|------|------|---------|
| 제목 | X | O (필수 입력) |
| 검색 | X | O (제목/작성자/내용) |
| 카테고리 필터 | 훅만 | 탭 UI 구현 |
| 날짜 필터 | X | O (최신순/오래된순) |
| 카드 레이아웃 | 내용만 | 제목 + 요약 + 메타 |

---

## 3. ASCII 목업

> 디자인 규칙: Anti-Vibe Design 준수
> - 이모지 사용 금지
> - 형광펜(글자 뒤 배경색) 금지
> - 프로젝트 컬러 팔레트 사용 (#3B82F6, #F87171, gray 계열)

### 3.1 개선된 아이디어 목록 (전체 레이아웃)

```
+-------------------------------------------------------------------------+
|  아이디어 살펴보기                                          [전체 v]    |
+-------------------------------------------------------------------------+
| +---------------------------------------------------------------------+ |
| | [검색 아이콘] 검색어를 입력하세요...                   [최신순 v]   | |
| +---------------------------------------------------------------------+ |
+-------------------------------------------------------------------------+
|  [ 전체 ]  [ 새 기능 ]  [ 버그 ]  [ 디자인 ]  [ 기타 ]                  |
|  ========                                                               |
+-------------------------------------------------------------------------+
|                                                                         |
| +---------------------------------------------------------------------+ |
| | [새 기능]  분류 카테고리를 "초 중 고"로 명확하게         [edit] [x] | |
| |---------------------------------------------------------------------| |
| | 우측 아래에 있는 분류 카테고리를 "초 중 고"로 명확하게 하는것이...   | |
| |---------------------------------------------------------------------| |
| | 최선결                                 21시간 전          [v 펼침]   | |
| +---------------------------------------------------------------------+ |
|                                                                         |
| +---------------------------------------------------------------------+ |
| | [버그]  로그인 후 메인 화면 깜빡임 현상                  [edit] [x] | |
| |---------------------------------------------------------------------| |
| | 로그인 성공 후 메인 페이지로 이동할 때 화면이 한 번 깜빡거리는...    | |
| |---------------------------------------------------------------------| |
| | 홍길동                                 2일 전             [v 펼침]   | |
| +---------------------------------------------------------------------+ |
|                                                                         |
| +---------------------------------------------------------------------+ |
| | [디자인]  카드 호버 시 그림자 효과 추가 제안            [edit] [x] | |
| |---------------------------------------------------------------------| |
| | 현재 카드 위에 마우스를 올려도 시각적 피드백이 부족합니다...         | |
| |---------------------------------------------------------------------| |
| | 김철수                                 3일 전             [v 펼침]   | |
| |                                                                     | |
| | 첨부 2개  |  할일 1/3  |  댓글 5                                    | |
| +---------------------------------------------------------------------+ |
|                                                                         |
|                         [ 더 불러오기 ]                                 |
|                                                                         |
+-------------------------------------------------------------------------+
                                                                     [+]
                                                                  (등록버튼)
```

### 3.2 아이디어 등록 모달 (개선)

```
+-------------------------------------------------------------------------+
|                        아이디어 등록                              [x]   |
+-------------------------------------------------------------------------+
|                                                                         |
|  작성자 *                                                               |
|  +-------------------------------------------------------------------+ |
|  | 홍길동                                                            | |
|  +-------------------------------------------------------------------+ |
|                                                                         |
|  카테고리 *                                                             |
|  +------------+  +------------+  +------------+  +------------+         |
|  | 새 기능    |  | 버그       |  | 디자인     |  | 기타       |         |
|  +------------+  +------------+  +------------+  +------------+         |
|       ^ 선택됨 (border-blue-500)                                        |
|                                                                         |
|  +===================================================================+ |
|  |  제목 * (NEW!)                                                    | |
|  |  +---------------------------------------------------------------+| |
|  |  | 분류 카테고리를 "초 중 고"로 명확하게 개선                     || |
|  |  +---------------------------------------------------------------+| |
|  +===================================================================+ |
|                                                                         |
|  내용 *                                                                 |
|  +-------------------------------------------------------------------+ |
|  | 우측 아래에 있는 분류 카테고리를 "초 중 고"로 명확하게 하는것이   | |
|  | 더 좋아 보입니다. 방금 직접 겪었던 사용자 경험을 기반으로          | |
|  | 말씀을 드리면 저는 "지구과학" 과목을 검색하려고 했는데...          | |
|  |                                                                   | |
|  +-------------------------------------------------------------------+ |
|                                                                         |
|  할 일 (선택)                                                           |
|  +-------------------------------------------------------------------+ |
|  | [ ] 카테고리 UI 분리 작업                              [x]        | |
|  | [ ] 초/중/고 탭 구현                                   [x]        | |
|  | + 할 일 추가...                                                   | |
|  +-------------------------------------------------------------------+ |
|                                                                         |
|  첨부파일 (선택)                                                        |
|  +-------------------------------------------------------------------+ |
|  |  [아이콘] 파일을 드래그하거나 클릭하여 업로드 (최대 30개, 50MB)   | |
|  +-------------------------------------------------------------------+ |
|                                                                         |
|                                    +----------+  +------------------+   |
|                                    |   취소   |  |     등록하기     |   |
|                                    +----------+  +------------------+   |
|                                    (border-gray)  (bg-[#3B82F6])        |
+-------------------------------------------------------------------------+
```

### 3.3 펼친 카드 상세 보기

```
+-------------------------------------------------------------------------+
| [새 기능]  분류 카테고리를 "초 중 고"로 명확하게           [edit] [x]  |
|-------------------------------------------------------------------------+
|                                                                         |
| 우측 아래에 있는 분류 카테고리를 "초 중 고"로 명확하게 하는것이 더     |
| 좋아 보입니다. 방금 직접 겪었던 사용자 경험을 기반으로 말씀을 드리면   |
| 저는 "지구과학" 과목을 검색하려고 했는데 초등학교에서는 지구과학이     |
| 과학으로 통합되어 있고, 중학교에서도 마찬가지입니다. 고등학교에서만    |
| 지구과학이 별도 과목으로 분리되어 있어서 헷갈렸습니다.                 |
|                                                                         |
|-------------------------------------------------------------------------+
| 최선결                                 21시간 전             [^ 접기]   |
+-------------------------------------------------------------------------+
|  첨부 이미지                                                            |
|  +------------+  +------------+                                         |
|  |            |  |            |                                         |
|  |   IMG 1    |  |   IMG 2    |                                         |
|  |            |  |            |                                         |
|  +------------+  +------------+                                         |
+-------------------------------------------------------------------------+
|  할 일 (1/3)                                                            |
|  +-------------------------------------------------------------------+ |
|  | [v] 카테고리 UI 분리 작업 (완료 - text-gray-400 line-through)     | |
|  | [ ] 초/중/고 탭 구현                                               | |
|  | [ ] 사용자 테스트 진행                                             | |
|  +-------------------------------------------------------------------+ |
+-------------------------------------------------------------------------+
|  댓글 (5)                                                               |
|  +-------------------------------------------------------------------+ |
|  | 홍길동 · 5시간 전                                                  | |
|  | 좋은 의견이네요! 저도 같은 불편을 느꼈습니다.                      | |
|  |                                                       [답글 달기]  | |
|  |-------------------------------------------------------------------| |
|  | 김철수 · 3시간 전                                                  | |
|  | 구현 방향 공유 부탁드립니다~                                       | |
|  |                                                       [답글 달기]  | |
|  +-------------------------------------------------------------------+ |
|  +-------------------------------------------------------------------+ |
|  | 댓글을 입력하세요...                             [등록]           | |
|  +-------------------------------------------------------------------+ |
+-------------------------------------------------------------------------+
```

---

## 4. 스타일 가이드 (Anti-Vibe Design 준수)

### 4.1 카테고리 배지 스타일

```tsx
// 기존 (위반) - 형광펜 스타일
<span className="bg-blue-100 text-blue-800">새 기능</span>

// 개선 (준수) - 테두리 스타일
<span className="border border-blue-500 text-blue-600 px-2 py-0.5 rounded text-xs font-medium">
  새 기능
</span>
<span className="border border-red-500 text-red-600 px-2 py-0.5 rounded text-xs font-medium">
  버그
</span>
<span className="border border-purple-500 text-purple-600 px-2 py-0.5 rounded text-xs font-medium">
  디자인
</span>
<span className="border border-gray-400 text-gray-600 px-2 py-0.5 rounded text-xs font-medium">
  기타
</span>
```

### 4.2 필터 탭 스타일

```tsx
// 비활성 탭
<button className="px-3 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors">
  전체
</button>

// 활성 탭 (밑줄)
<button className="px-3 py-2 text-sm text-[#3B82F6] font-semibold border-b-2 border-[#3B82F6]">
  전체
</button>
```

### 4.3 카드 스타일

```tsx
<div className="bg-white p-4 rounded-lg border border-gray-200 hover:border-gray-300 hover:shadow-md transition-all">
  {/* 헤더: 카테고리 + 제목 */}
  <div className="flex items-center gap-2 mb-2">
    <span className="border border-blue-500 text-blue-600 px-2 py-0.5 rounded text-xs font-medium">
      새 기능
    </span>
    <h3 className="text-base font-semibold text-gray-800 line-clamp-1">
      분류 카테고리를 "초 중 고"로 명확하게
    </h3>
  </div>

  {/* 내용 미리보기 */}
  <p className="text-sm text-gray-600 line-clamp-1 mb-3">
    우측 아래에 있는 분류 카테고리를...
  </p>

  {/* 메타 정보 */}
  <div className="flex items-center justify-between text-xs text-gray-500">
    <span>최선결</span>
    <span>21시간 전</span>
  </div>
</div>
```

---

## 5. 구현 계획

### 5.1 DB 마이그레이션 (기존 데이터 처리)

```sql
-- 기존 제목 없는 아이디어에 첫 문장 추출하여 title로 설정
UPDATE dev_ideas
SET title = CASE
  WHEN title IS NULL OR title = '' THEN
    CASE
      WHEN POSITION('.' IN content) > 0 THEN
        LEFT(content, LEAST(POSITION('.' IN content), 50))
      ELSE
        LEFT(content, 50)
    END
  ELSE title
END
WHERE title IS NULL OR title = '';
```

### 5.2 파일별 수정 사항

#### (1) `IdeaForm.tsx` - 제목 필드 추가
```
변경점:
- 작성자/카테고리 다음에 "제목" 입력 필드 추가
- 제목 필수 validation 추가 (min 2자, max 100자)
- 폼 defaultValues에 title 추가
```

#### (2) `IdeaCard.tsx` - 제목 표시 UI
```
변경점:
- 카테고리 배지 옆에 제목 표시 (굵게)
- 내용은 1줄 미리보기로 축소
- 메타정보(작성자, 날짜) 하단 분리
- 카테고리 배지: 형광펜 -> 테두리 스타일로 변경
```

#### (3) `IdeaList.tsx` - 검색/필터 UI 추가
```
변경점:
- 상단에 검색창 추가 (border-gray-200, focus:ring-blue-500)
- 카테고리 필터 탭 UI 구현 (밑줄 스타일)
- 정렬 옵션 (최신순/오래된순) 드롭다운
```

#### (4) `useFilteredIdeas.ts` - 검색 로직 추가
```
변경점:
- searchQuery 상태 추가
- 제목/작성자/내용 통합 검색
- 디바운스 처리 (300ms)
```

#### (5) `developer.ts` (쿼리) - 검색 API
```
변경점:
- getIdeas에 search 파라미터 추가
- Supabase ilike 쿼리 활용
- 정렬 옵션 파라미터 추가
```

#### (6) `CategoryBadge.tsx` - 스타일 변경
```
변경점:
- 기존: bg-{color}-100 text-{color}-800 (형광펜)
- 변경: border border-{color}-500 text-{color}-600 (테두리)
```

---

## 6. 구현 우선순위

| 순서 | 작업 | 예상 영향도 | 난이도 |
|------|------|-------------|--------|
| 1 | 제목 필드 추가 (IdeaForm) | 높음 | 낮음 |
| 2 | 기존 데이터 마이그레이션 | 높음 | 낮음 |
| 3 | 카드 UI 개선 (제목 표시) | 높음 | 낮음 |
| 4 | 카테고리 배지 스타일 변경 | 중간 | 낮음 |
| 5 | 카테고리 필터 탭 UI | 높음 | 중간 |
| 6 | 검색창 구현 | 높음 | 중간 |
| 7 | 정렬 옵션 | 중간 | 낮음 |

---

## 7. 타입 정의 변경

```typescript
// types/developer.ts 수정

interface DevIdea {
  id: string;
  userId: string | null;
  authorName: string;
  title: string;              // 필수로 변경
  content: string;
  category: IdeaCategory;
  images: string[];
  todos: IdeaTodo[];
  createdAt: string;
  updatedAt: string;
}

// 검색 파라미터 타입 추가
interface IdeaSearchParams {
  search?: string;
  category?: IdeaCategory | 'all';
  sortBy?: 'newest' | 'oldest';
  limit?: number;
  offset?: number;
}
```

---

## 8. 완료 기준

- [ ] 아이디어 등록 시 제목 필수 입력
- [ ] 기존 제목 없는 글 → 첫 문장으로 자동 변환 완료
- [ ] 카드에 제목이 명확하게 표시됨
- [ ] 검색창에서 제목/작성자/내용 검색 가능
- [ ] 카테고리 탭으로 필터링 가능
- [ ] 최신순/오래된순 정렬 가능
- [ ] Anti-Vibe Design 규칙 준수 (이모지X, 형광펜X)

---

## 9. Anti-Vibe Design 체크리스트

```
[ ] 이모지 사용 안 함
[ ] 글자 뒤 배경색 사용 안 함 (형광펜 금지)
[ ] 프로젝트 컬러 팔레트 사용 (#3B82F6, #F87171, gray 계열)
[ ] 바이브코딩 냄새 나는 스타일 사용 안 함
[ ] 그라디언트는 메인 버튼에만 제한적 사용
[ ] 기존 컴포넌트 패턴과 일관성 확인
```

---

## 10. 참고 파일

| 역할 | 파일 경로 |
|------|-----------|
| 등록 폼 | `src/components/developer/IdeaForm.tsx` |
| 카드 | `src/components/developer/IdeaCard.tsx` |
| 목록 | `src/components/developer/IdeaList.tsx` |
| 카테고리 배지 | `src/components/developer/CategoryBadge.tsx` |
| 훅 | `src/lib/hooks/useFilteredIdeas.ts` |
| 쿼리 | `src/lib/supabase/developer.ts` |
| 타입 | `src/types/developer.ts` |
| 디자인 시스템 | `.claude/skills/anti-vibe-design/SKILL.md` |
