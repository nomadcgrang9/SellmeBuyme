# 지도 기반 공고 카드 리스트 개선 계획

> 작성일: 2026-01-11
> 작성자: Claude Code

---

## 1. 현황 분석

### 1.1 현재 셀미바이미 카드 리스트 상태

**스크린샷 분석 결과:**

| 항목 | 현재 상태 | 문제점 |
|------|----------|--------|
| 기관명 | O 표시됨 | 폰트 크기가 작음 (10px) |
| 제목 | O 표시됨 | 줄임 처리(line-clamp-2) 잘 작동 |
| 태그 | O 표시됨 | 최대 3개 + 나머지 개수 표시 |
| D-day | O 표시됨 | 색상 구분 잘 됨 |
| **위치** | X 미표시 | `job.location` 필드 있으나 표시 안 함 |
| **보수** | X 미표시 | `job.compensation` 필드 표시 안 함 |
| **마감일** | X 미표시 | `job.deadline` 필드 표시 안 함 |
| **연락처** | X 미표시 | `job.contact` 필드 표시 안 함 |
| 원문 링크 | O 표시됨 | 버튼 형태로 하단에 위치 |

**Hero.tsx 공고 카드 코드 (668-745라인):**
```tsx
// 현재 표시되는 정보
- job.organization (기관명)
- job.daysLeft (D-day)
- job.title (제목)
- job.tags (태그 최대 3개)
- job.source_url (원문 링크)

// 표시되지 않는 정보 (데이터는 있음)
- job.location (위치)
- job.compensation (보수)
- job.deadline (마감일)
- job.contact (연락처)
- job.work_period (근무기간)
- job.application_period (접수기간)
```

### 1.2 JobCard.tsx 컴포넌트 (전체 카드)

메인 그리드용 `JobCard.tsx`에는 위치, 보수, 마감일 정보가 **모두 표시되고 있음**:
- 위치 아이콘 + `job.location`
- 보수 아이콘 + `job.compensation`
- 마감일 아이콘 + `job.deadline` + D-day 배지

**문제점:** Hero.tsx 내부의 미니 카드 리스트에는 이 정보들이 누락됨

---

## 2. 네이버 지도 & 카카오맵 UI/UX 분석

### 2.1 네이버 지도 검색 결과 리스트

| 요소 | 표시 방식 | 특징 |
|------|----------|------|
| **장소명** | 굵은 파란색 링크 | 클릭 시 상세 페이지 |
| **카테고리** | 회색 소문자 | "초등학교", "중학교" 등 |
| **거리** | "현재 위치에서 1.5km" | 실시간 거리 계산 |
| **주소** | 상세주소 드롭다운 | 클릭 시 확장 |
| **액션 버튼** | 출발/도착/저장 | 하단 고정 |

**네이버 특징:**
- 지도 영역과 리스트 영역이 **좌우 분리**
- 리스트 클릭 시 지도에 **마커 하이라이트**
- 마커에 **A, B, C 순서 번호** 표시
- 리스트와 마커가 **1:1 연동**

### 2.2 카카오맵 검색 결과 리스트

| 요소 | 표시 방식 | 특징 |
|------|----------|------|
| **장소명** | 굵은 검정색 + 하이라이트 | 검색어 볼드 처리 |
| **카테고리** | 회색 텍스트 | "중학교", "초등학교" 등 |
| **리뷰 수** | "리뷰 1" 링크 | 클릭 시 리뷰 목록 |
| **도로명 주소** | 회색 텍스트 | 지번 주소도 함께 표시 |
| **전화번호** | 파란색 링크 | 클릭 시 전화 연결 |
| **액션 버튼** | 즐겨찾기/로드뷰/상세보기/홈페이지 | 우측 정렬 |

**카카오맵 특징:**
- 리스트에 **A, B, C, D, E 순서 인덱스** 표시
- 지도 마커에도 **동일한 알파벳 표시**
- 전체 검색 결과 수 표시 ("장소 44,140")
- 정렬 옵션 제공 ("정확도순", "인기도순")
- **페이지네이션** 제공 (1, 2, 3, 4, 5...)

### 2.3 공통 패턴 (네이버 & 카카오)

1. **마커-리스트 연동**
   - 리스트 항목 클릭 → 해당 마커로 지도 이동
   - 마커 클릭 → 리스트에서 해당 항목 하이라이트

2. **인덱싱 시스템**
   - A, B, C... 또는 1, 2, 3...으로 순서 표시
   - 마커와 리스트 모두 동일한 인덱스 사용

3. **필수 표시 정보**
   - 장소명 (굵게)
   - 카테고리/분류
   - 주소 (도로명 + 지번)
   - 연락처 (전화번호)

4. **추가 액션**
   - 상세보기 링크
   - 길찾기/출발/도착
   - 즐겨찾기/저장

---

## 3. 사용자(구직자) 관점 요구사항 분석

### 3.1 구직자가 카드에서 즉시 확인하고 싶은 정보

**최우선 (즉시 판단 필요)**
1. **마감일 (D-day)** - 지원 가능 여부 즉시 확인
2. **위치** - 출퇴근 가능 여부 판단
3. **직종/과목** - 본인 전공 매칭 여부

**중요 (클릭 전 확인)**
4. **기관명** - 학교 인지도, 규모 판단
5. **제목** - 정확한 포지션 확인
6. **보수** - 급여 수준 확인

**부가 (상세 페이지에서 확인 가능)**
7. 근무기간
8. 접수기간
9. 연락처
10. 자격요건

### 3.2 카드 리스트 vs 지도 마커 연동 방식

**질문: 마커 있는 부분만 리스트에 떠야 하는가?**

**네이버/카카오 방식:**
- 검색 결과 **전체**를 리스트에 표시
- 현재 지도 범위(뷰포트) 내 결과는 **마커로 표시**
- 뷰포트 밖 결과도 리스트에는 있음 (마커만 안 보임)

**셀미바이미 권장 방식:**
- **현재 구현:** 지역 기반으로 공고 로드 → 전체 리스트 표시 → 전체 마커 표시
- **개선 방향:**
  - 옵션 1: 현재 방식 유지 (지역 전체 공고)
  - 옵션 2: 지도 뷰포트 내 공고만 표시 (실시간 필터)
  - **권장: 옵션 1 유지** (교육청 단위로 공고가 올라오므로 지역 기반이 더 적합)

---

## 4. 의도 파악 확인

### 4.1 사용자 요청 정리

1. ✅ **카드 리스트 정상화**: "예전처럼 모든 정보 뜨게"
   - 위치, 보수, 마감일 등 누락된 정보 표시
   - JobCard.tsx 수준의 정보량 확보

2. ✅ **마커-리스트 연동 정책 결정**
   - 네이버/카카오 벤치마킹 완료
   - 현재 지역 기반 방식 유지 권장

3. ✅ **종합 계획 수립**
   - 현황 분석, 벤치마킹, 개선안 정리

### 4.2 추가 확인 필요 사항

- [ ] 카드 클릭 시 상세 모달 표시 vs 원문 링크 이동?
- [ ] 마커에 인덱스(A, B, C) 표시 필요 여부?
- [ ] 리스트 정렬 옵션 필요 여부? (마감임박순, 최신순 등)

---

## 5. 개선 계획

### Phase 1: 카드 정보 확장 (즉시 구현)

**Hero.tsx 공고 카드 수정 (668-745라인)**

```tsx
// AS-IS: 최소 정보만 표시
<div className="p-3 hover:bg-gray-50 cursor-pointer">
  <div>{job.organization}</div>
  <div>{job.daysLeft}</div>
  <div>{job.title}</div>
  <div>{job.tags}</div>
  <a>{원문 링크}</a>
</div>

// TO-BE: 핵심 정보 추가
<div className="p-3 hover:bg-gray-50 cursor-pointer">
  {/* 헤더: 기관명 + D-day */}
  <div className="flex items-center justify-between">
    <span>{job.organization}</span>
    <span>D-{job.daysLeft}</span>
  </div>

  {/* 제목 */}
  <h5>{job.title}</h5>

  {/* 위치 (NEW) */}
  <div className="flex items-center gap-1 text-[10px] text-gray-500">
    <LocationIcon />
    <span>{job.location || '위치 정보 없음'}</span>
  </div>

  {/* 보수 (NEW) */}
  {job.compensation && (
    <div className="flex items-center gap-1 text-[10px] text-gray-600">
      <MoneyIcon />
      <span>{job.compensation}</span>
    </div>
  )}

  {/* 마감일 (NEW) */}
  <div className="flex items-center gap-1 text-[10px] text-gray-500">
    <CalendarIcon />
    <span>{job.deadline}</span>
  </div>

  {/* 태그 */}
  <div>{job.tags}</div>

  {/* 원문 링크 */}
  <a>{원문 링크}</a>
</div>
```

### Phase 2: 마커-리스트 연동 강화

1. **인덱싱 시스템 추가**
   - 리스트 항목에 1, 2, 3... 인덱스 표시
   - 마커에 동일 숫자 표시 (커스텀 오버레이)

2. **상호작용 개선**
   - 리스트 항목 hover 시 마커 하이라이트
   - 마커 클릭 시 리스트 항목 스크롤 & 하이라이트

3. **마커 클러스터링**
   - 같은 위치 여러 공고 → 클러스터로 표시
   - 클릭 시 확대 또는 리스트 팝업

### Phase 3: UX 개선

1. **정렬 옵션 추가**
   - 마감임박순 (D-day 오름차순)
   - 최신등록순
   - 거리순 (현재 위치 기준)

2. **카드 확장/축소**
   - 기본: 컴팩트 모드 (핵심 정보만)
   - 클릭: 확장 모드 (상세 정보 표시)

3. **필터 결과 시각화**
   - 필터 적용 시 해당 공고만 마커 표시
   - 비해당 마커는 흐리게 처리

---

## 6. 구현 우선순위

| 우선순위 | 항목 | 예상 작업량 | 설명 |
|---------|------|------------|------|
| **P0** | 카드 정보 확장 | 1시간 | 위치, 보수, 마감일 표시 |
| **P1** | 인덱싱 시스템 | 2시간 | 마커-리스트 번호 연동 |
| **P2** | 마커 하이라이트 | 2시간 | hover/click 연동 |
| **P3** | 정렬 옵션 | 1시간 | 드롭다운 정렬 |
| **P4** | 카드 확장 모드 | 3시간 | 클릭 시 상세 표시 |

---

## 7. 결론

### 핵심 문제점
- Hero.tsx 내부 공고 카드에 **위치, 보수, 마감일** 정보가 누락됨
- 데이터는 이미 있으나(`job.location`, `job.compensation`, `job.deadline`) UI에 표시하지 않음

### 권장 해결 방안
1. **즉시 수정:** Hero.tsx 668-745라인 카드 UI에 누락 정보 추가
2. **네이버/카카오 패턴 적용:** 인덱싱, 하이라이트 연동
3. **현재 지역 기반 방식 유지:** 교육청 단위 공고 특성에 적합

### 마커-리스트 연동 정책
- **현재 방식 유지 권장**
- 지역(서울, 경기 등) 선택 시 해당 지역 전체 공고 로드
- 필터 적용 시 조건에 맞는 공고만 마커 + 리스트 표시
- 네이버/카카오처럼 뷰포트 기반 실시간 필터는 **불필요** (교육청 공고 특성상)

---

## 부록: 스크린샷 참고

1. `current-sellmebuyme-state.png` - 현재 셀미바이미 상태
2. `naver-map-list.png` - 네이버 지도 검색 결과
3. `kakao-map-list.png` - 카카오맵 검색 결과

경로: `.playwright-mcp/` 디렉토리
