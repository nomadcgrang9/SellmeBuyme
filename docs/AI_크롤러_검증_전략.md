# AI 기반 크롤러 정확도 검증 전략

> **작성일**: 2026-01-12
> **목적**: 인간 QA 없이 AI로 크롤러 정확도를 자동 검증하는 방법 설계

---

## 0. 크롤링 기본 규칙 (필독)

### 0.1 크롤링 기준점

```
❌ 날짜 기준 아님
✅ 게시판 주소 기준

[크롤링 방식]
1. 해당 게시판 주소의 1페이지 게시물 전체 크롤링
2. 다음날도 동일 주소에서 1페이지 전체 크롤링
3. 중복된 공고는 source_url 기준으로 스킵
4. 신규 공고만 DB에 INSERT
```

### 0.2 지역 데이터 등록 규칙

| 규칙 | 설명 | 예시 |
|------|------|------|
| **광역+기초 둘 다 등록** | 하나의 공고에 광역/기초 모두 기록 | location: "경기", "성남" |
| **구분명 제외** | '도', '시', '광역시' 등 제외 | ✅ 경기, 광주 / ❌ 경기도, 광주광역시 |
| **예외: 구 이름** | '구' 자체가 이름인 경우 유지 | 중구, 남구, 서구 |

### 0.3 크롤링 성공의 정의

```
□ 해당 지역 학교 마커가 지도에 정확히 표시됨
□ 다른 지역 노출에 영향 없음 (사이드이펙트 없음)
□ GitHub Actions에서 매일 자동 실행됨
```

### 0.4 검색 및 필터 규칙

```
- 검색: 학교 이름으로만 검색
- 필터링: 지역/과목/학교급 필터 우선 처리
```

---

## 0.5 팀 협업 구조 (2026-01-12 ~ )

### 담당자별 크롤러 배정

| 담당자 | 담당 지역 | 일정 | 비고 |
|--------|-----------|------|------|
| **김성균** | 서울, 경기(세부확인), 세종, 인천, 강원 | 일~화 | 수요일부터 필터링 종합점검 |
| **최선결** | 부산, 대구, 울산, 경북, 경남, 대전 | 일~목 | |
| **이진혁** | 광주, 전북, 전남, 제주, 충북, 충남 | 일~화 | 수요일부터 관리자페이지 크롤링현황 |
| **신지원** | 간헐적 지원 | 필요시 | 기존 작업 이창건 인수 |

### 작업 완료 체크리스트

각 담당자가 크롤러 작업 완료 시 확인할 항목:

```
□ 1. 해당 지역 게시판 크롤링 정상 작동
□ 2. DB에 공고 데이터 정상 저장 (location 필드 확인)
□ 3. 지도에서 해당 지역 마커 표시 확인
□ 4. 다른 지역 마커에 영향 없음 확인
□ 5. GitHub Actions 자동 실행 설정 완료
```

---

## 0.6 크롤링 대상 게시판 주소 목록

> **소스 파일**: `crawler/config/sources.json`
> **최종 업데이트**: 2026-01-12

### 광역자치단체 (17개 시도교육청)

| # | 지역 | 게시판명 | 게시판 URL | 활성화 | 담당자 |
|---|------|----------|------------|--------|--------|
| 1 | **서울** | 서울교육일자리포털 | https://work.sen.go.kr/work/search/recInfo/BD_selectSrchRecInfo.do | ✅ (seoul_v2) | 김성균 |
| 2 | **부산** | 부산광역시교육청 학교인력채용 | https://www.pen.go.kr/main/na/ntt/selectNttList.do?mi=30367&bbsId=2364 | ❌ | 최선결 |
| 3 | **대구** | 대구광역시교육청 채용공고 | https://www.dge.go.kr/main/na/ntt/selectNttList.do?mi=8026&bbsId=4261 | ✅ | 최선결 |
| 4 | **인천** | 인천교육청 채용공고 | https://www.ice.go.kr/ice/na/ntt/selectNttList.do?mi=10997&bbsId=1981 | ✅ (incheon_v2) | 김성균 |
| 5 | **광주** | 광주광역시교육청 채용공고 | https://www.gen.go.kr/xboard/board.php?tbnum=32 | ✅ (gwangju_v2) | 이진혁 |
| 6 | **대전** | 대전광역시교육청 학교인력채용 | https://www.dje.go.kr/boardCnts/list.do?boardID=54&m=030202&s=dje | ❌ | 최선결 |
| 7 | **울산** | 울산광역시교육청 인력풀 | https://www.use.go.kr/subPage.do?page=sub06_06_01&m=0606&s=use | ❌ | 최선결 |
| 8 | **세종** | 세종특별자치시교육청 구인 | https://www.sje.go.kr/sje/na/ntt/selectNttList.do?mi=52132&bbsId=108 | ✅ | 김성균 |
| 9 | **경기** | 경기도 교육청 구인정보조회 | https://www.goe.go.kr/recruit/ad/func/pb/hnfpPbancList.do?mi=10502 | ✅ | 김성균 |
| 10 | **강원** | 강원특별자치도교육청 학교인력채용 | https://www.gwe.go.kr/main/bbs/list.do?key=bTIzMDcyMTA1ODU2MzM= | ✅ (gangwon_v2) | 김성균 |
| 11 | **충북** | 충청북도교육청 학교구인정보 | https://www.cbe.go.kr/cbe/na/ntt/selectNttList.do?mi=11716&bbsId=1798 | ✅ | 이진혁 |
| 12 | **충남** | 충청남도교육청 채용공고 | https://www.cne.go.kr/boardCnts/list.do?boardID=642&m=020201&s=cne | ✅ | 이진혁 |
| 13 | **전북** | 전북특별자치도교육청 | https://www.jbe.go.kr/board/list.jbe?boardId=BBS_0000130&menuCd=DOM_000000103004006000 | ✅ | 이진혁 |
| 14 | **전남** | 전라남도교육청 | https://www.jne.go.kr/main/na/ntt/selectNttList.do?mi=265&bbsId=117 | ✅ (jeonnam_v2) | 이진혁 |
| 15 | **경북** | 경상북도교육청 구인 | https://www.gbe.kr/main/na/ntt/selectNttList.do?mi=3626&bbsId=1887 | ✅ | 최선결 |
| 16 | **경남** | 경상남도교육청 구인구직포털 | https://www.gne.go.kr/works/index.do | ✅ | 최선결 |
| 17 | **제주** | 제주특별자치도교육청 채용정보 | https://www.jje.go.kr/board/list.jje?boardId=BBS_0000507&menuCd=DOM_000000103003009000 | ✅ (jeju_v2) | 이진혁 |

### 기초자치단체 (교육지원청)

| # | 지역 | 게시판명 | 게시판 URL | 활성화 | 소속 광역 |
|---|------|----------|------------|--------|-----------|
| 1 | **성남** | 성남교육지원청 구인 | https://www.goesn.kr/goesn/na/ntt/selectNttList.do?mi=23603&bbsId=17872 | ✅ | 경기 |
| 2 | **의정부** | 의정부교육지원청 구인 | https://www.goeujb.kr/goeujb/na/ntt/selectNttList.do?mi=7019&bbsId=4117 | ✅ | 경기 |
| 3 | **구리남양주** | 구리남양주교육지원청 인력풀 | https://www.goegn.kr/goegn/na/ntt/selectNttList.do?mi=14084&bbsId=8656 | ✅ | 경기 |

### 현황 요약

```
광역자치단체 (17개)
├── 활성화: 14개 (82%)
└── 비활성화: 3개 (부산, 대전, 울산)

기초자치단체 (3개)
├── 활성화: 3개 (100%)
└── 모두 경기도 소속

총계: 20개 게시판 중 17개 활성화 (85%)
```

### 비활성화 게시판 (긴급 조치 필요)

| 지역 | 사유 | 담당자 | 조치 필요 |
|------|------|--------|-----------|
| **부산** | 크롤러 미개발 | 최선결 | 크롤러 개발 |
| **대전** | 크롤러 비활성 | 최선결 | 활성화 테스트 |
| **울산** | 크롤러 비활성 | 최선결 | 활성화 테스트 |

---

## 1. 문제 정의

### 1.1 검증해야 할 것

```
원본 교육청 게시판 ──── 비교 ────→ 우리 서비스(셀미바이미)
     (Source of Truth)                    (크롤링 결과)
```

### 1.2 검증 기준 (크롤링 규칙 기반)

| 검증 항목 | 질문 | 측정 방법 | 규칙 연관 |
|-----------|------|-----------|-----------|
| **수집률** | 원본 1페이지 공고가 우리 서비스에 있는가? | 원본 공고 수 vs 우리 공고 수 | 규칙 0.1 |
| **지역 정확도** | location에 광역+기초 모두 있는가? | "경기", "성남" 둘 다 존재 확인 | 규칙 0.2 |
| **지역명 형식** | '도', '시' 없이 저장되었는가? | 경기 O, 경기도 X | 규칙 0.2 |
| **중복 처리** | 동일 source_url이 중복 저장 안 됐는가? | source_url UNIQUE 검증 | 규칙 0.1 |
| **사이드이펙트** | 다른 지역 마커에 영향 없는가? | 다른 지역 공고 수 변화 확인 | 규칙 0.3 |
| **마커 표시** | 해당 지역 마커가 지도에 보이는가? | 프론트엔드 시각 확인 | 규칙 0.3 |

---

## 2. 당신의 아이디어 정리

### 2.1 원래 구상

```
1. AI가 크롤링 대상 게시판 주소로 들어간다
2. 게시물들이 얼마나 있는지 찾아본다
3. 우리 서비스에 들어가서 어느 정도 구현되었는지 비교한다
4. 17개 시도교육청 게시판에서 반복한다
5. 기준과 비교점을 설정한다
6. 어떤 기술이 이 작업을 도와줄 것인가?
```

### 2.2 구체화된 작업 흐름

```
┌─────────────────────────────────────────────────────────────────────┐
│                    AI 크롤러 검증 워크플로우                          │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  Step 1: 원본 게시판 방문                                            │
│  ┌──────────────────────┐                                           │
│  │ AI Agent가 교육청     │  → 최근 N개 공고 목록 추출                 │
│  │ 게시판 URL 접속       │  → 제목, 날짜, 학교명 파싱                 │
│  └──────────────────────┘                                           │
│              ↓                                                      │
│  Step 2: 우리 서비스 확인                                            │
│  ┌──────────────────────┐                                           │
│  │ AI Agent가 셀미바이미 │  → 해당 지역 필터링                        │
│  │ 접속 및 검색         │  → 동일 공고 존재 여부 확인                 │
│  └──────────────────────┘                                           │
│              ↓                                                      │
│  Step 3: 비교 및 리포트                                              │
│  ┌──────────────────────┐                                           │
│  │ 원본 vs 우리 서비스   │  → 수집률, 정확도, 누락 목록               │
│  │ 비교 분석            │  → 검증 리포트 생성                        │
│  └──────────────────────┘                                           │
│              ↓                                                      │
│  Step 4: 17개 지역 반복                                              │
│  ┌──────────────────────┐                                           │
│  │ 서울 → 부산 → 대구   │  → 전체 지역 순회                          │
│  │ → ... → 제주        │  → 종합 리포트 생성                        │
│  └──────────────────────┘                                           │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 3. 기술 옵션 분석

### 3.1 후보 기술들

| # | 기술 | 설명 | 적합성 |
|---|------|------|--------|
| A | **Playwright MCP** | 브라우저 자동화, 웹 탐색 | 높음 |
| B | **Claude Code 서브에이전트** | Task 도구로 병렬 작업 | 중간 |
| C | **Claude Code 스킬** | 커스텀 명령어 정의 | 낮음 |
| D | **외부 플러그인** | claudemarketplaces.com 등 | 불확실 |
| E | **Computer Use** | 전체 데스크톱 제어 | 과도함 |

### 3.2 각 기술 상세 분석

#### A. Playwright MCP (현재 연결됨) ⭐ 추천

**장점**:
- 이미 MCP 서버로 연결되어 있음
- 브라우저 탐색, 스크린샷, DOM 파싱 가능
- `browser_navigate`, `browser_snapshot`, `browser_click` 등 도구 사용 가능

**사용 시나리오**:
```
1. browser_navigate로 교육청 게시판 접속
2. browser_snapshot으로 페이지 구조 파악
3. 공고 목록 추출 (텍스트 또는 스크린샷 분석)
4. 우리 서비스로 이동하여 동일하게 확인
5. 비교 결과 출력
```

**한계**:
- 한 번에 한 페이지만 탐색
- 17개 지역을 순차적으로 확인해야 함
- 페이지 로딩 대기 필요

---

#### B. Claude Code 서브에이전트 (Task 도구)

**장점**:
- 병렬 실행 가능 (여러 지역 동시 검증)
- Explore 에이전트로 탐색 작업 위임 가능

**사용 시나리오**:
```
1. 메인 에이전트가 17개 Task 생성
2. 각 Task가 해당 지역 검증 수행
3. 결과 수집 및 종합 리포트 생성
```

**한계**:
- 서브에이전트가 직접 브라우저 제어는 어려움
- Playwright MCP는 메인 에이전트에서만 사용 가능

---

#### C. Claude Code 스킬 (Skill 도구)

**장점**:
- `/verify-crawlers` 같은 커스텀 명령어 정의 가능
- 반복 작업을 한 번에 호출

**한계**:
- 현재 정의된 스킬이 없음
- 스킬 내부에서 Playwright 사용이 제한적

---

#### D. 외부 플러그인

**claudemarketplaces.com 분석 필요**:
- 어떤 플러그인이 웹 탐색을 지원하는지 확인 필요
- 대부분 특정 용도에 특화되어 있을 가능성

---

### 3.3 기술 선택 결론

```
최적 조합: Playwright MCP + 수동 반복 (Phase 1)
          ↓
향후 개선: 자동화 스크립트 + 정기 실행 (Phase 2)
```

---

## 4. 실행 전략

### 4.1 Phase 1: Playwright MCP로 수동 검증 (즉시 가능)

**워크플로우**:

```
[사용자 요청]
"서울교육청 게시판과 셀미바이미 서울 지역 공고를 비교해줘"

[AI 작업]
1. browser_navigate → 서울교육청 게시판
2. browser_snapshot → 공고 목록 파악
3. 최근 10개 공고 제목 추출
4. browser_navigate → 셀미바이미 (배포 URL 또는 localhost)
5. 서울 지역 필터링
6. 동일 공고 존재 여부 확인
7. 비교 결과 리포트 출력
```

**검증 기준표**:

| 비교 항목 | 원본 | 우리 서비스 | 일치 |
|-----------|------|-------------|------|
| 공고 제목 | "OO초등학교 기간제교사 채용" | "OO초등학교 기간제교사 채용" | O |
| 기관명 | "OO초등학교" | "OO초등학교" | O |
| 마감일 | "2026.01.20" | "2026-01-20" | O (형식 차이 허용) |

---

### 4.2 Phase 2: 반복 자동화 (스크립트화)

**17개 지역 검증 스크립트 개념**:

```typescript
// scripts/verify-crawlers.ts (개념)

const REGIONS = [
  { name: '서울', boardUrl: 'https://work.sen.go.kr/...', ourFilter: '서울' },
  { name: '부산', boardUrl: 'https://www.pen.go.kr/...', ourFilter: '부산' },
  // ... 17개 지역
];

async function verifyRegion(region: Region) {
  // 1. 원본 게시판에서 최근 공고 추출
  const originalPosts = await scrapeOriginalBoard(region.boardUrl);

  // 2. 우리 서비스에서 해당 지역 공고 조회
  const ourPosts = await queryOurService(region.ourFilter);

  // 3. 비교
  const comparison = comparePosts(originalPosts, ourPosts);

  return {
    region: region.name,
    originalCount: originalPosts.length,
    ourCount: ourPosts.length,
    matchRate: comparison.matchRate,
    missingPosts: comparison.missing,
  };
}

async function main() {
  const results = [];
  for (const region of REGIONS) {
    results.push(await verifyRegion(region));
  }
  generateReport(results);
}
```

---

### 4.3 Phase 3: 정기 검증 (GitHub Actions)

```yaml
# .github/workflows/verify-crawlers.yml
name: Crawler Verification

on:
  schedule:
    - cron: '0 9 * * 1'  # 매주 월요일 오전 9시
  workflow_dispatch:

jobs:
  verify:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
      - run: npx playwright install chromium
      - run: npx tsx scripts/verify-crawlers.ts
      - name: Upload Report
        uses: actions/upload-artifact@v4
        with:
          name: verification-report
          path: reports/
```

---

## 5. 검증 리포트 형식

### 5.1 지역별 리포트 (크롤링 규칙 기반)

```markdown
# 크롤러 검증 리포트 - 경기/성남

검증일시: 2026-01-12 15:30
담당자: 김성균
원본 게시판: https://www.goesn.kr/goesn/na/ntt/selectNttList.do?mi=23603&bbsId=17872

## 1. 수집률 검증 (규칙 0.1)
- 원본 1페이지 공고 수: 10건
- 우리 서비스 공고 수: 9건
- 수집률: 90%
- 중복 스킵: 3건 (정상)

## 2. 지역 데이터 검증 (규칙 0.2)
| 공고 | 광역 | 기초 | 형식 | 상태 |
|------|------|------|------|------|
| OO초 기간제 | 경기 ✅ | 성남 ✅ | 도/시 없음 ✅ | PASS |
| XX중 방과후 | 경기 ✅ | 성남 ✅ | 도/시 없음 ✅ | PASS |
| △△고 강사 | 경기도 ❌ | - | 형식 오류 | FAIL |

## 3. 사이드이펙트 검증 (규칙 0.3)
| 다른 지역 | 크롤링 전 | 크롤링 후 | 변화 |
|-----------|-----------|-----------|------|
| 서울 | 38건 | 38건 | 없음 ✅ |
| 인천 | 25건 | 25건 | 없음 ✅ |

## 4. 마커 표시 검증 (규칙 0.3)
- 지도에서 성남 지역 마커 표시: ✅ 확인
- 마커 클릭 시 공고 정보 표시: ✅ 확인

## 5. 누락 공고
| # | 제목 | 원본 URL | 추정 원인 |
|---|------|----------|-----------|
| 1 | △△고 강사 | https://... | location 형식 오류 |
```

### 5.2 종합 리포트 (담당자별)

```markdown
# 크롤러 종합 검증 리포트

검증일시: 2026-01-12
검증 대상: 17개 시도교육청

## 담당자별 현황

### 김성균 담당 (서울, 경기, 세종, 인천, 강원)
| 지역 | 원본 | 수집 | 수집률 | 지역형식 | 사이드이펙트 | 마커 |
|------|------|------|--------|----------|--------------|------|
| 서울 | 42 | 38 | 90.5% | ✅ | ✅ | ✅ |
| 경기 | 35 | 33 | 94.3% | ✅ | ✅ | ✅ |
| 세종 | 12 | 12 | 100% | ✅ | ✅ | ✅ |
| 인천 | 28 | 25 | 89.3% | ⚠️ 1건 오류 | ✅ | ✅ |
| 강원 | 18 | 17 | 94.4% | ✅ | ✅ | ✅ |

### 최선결 담당 (부산, 대구, 울산, 경북, 경남, 대전)
| 지역 | 원본 | 수집 | 수집률 | 지역형식 | 사이드이펙트 | 마커 |
|------|------|------|--------|----------|--------------|------|
| 부산 | 35 | 0 | 0% | - | - | ❌ 크롤러 필요 |
| 대구 | 28 | 27 | 96.4% | ✅ | ✅ | ✅ |
| 울산 | 15 | 0 | 0% | - | - | ❌ 비활성 |
| 경북 | 22 | 21 | 95.5% | ✅ | ✅ | ✅ |
| 경남 | 30 | 28 | 93.3% | ✅ | ✅ | ✅ |
| 대전 | 20 | 0 | 0% | - | - | ❌ 비활성 |

### 이진혁 담당 (광주, 전북, 전남, 제주, 충북, 충남)
| 지역 | 원본 | 수집 | 수집률 | 지역형식 | 사이드이펙트 | 마커 |
|------|------|------|--------|----------|--------------|------|
| 광주 | 18 | 17 | 94.4% | ✅ | ✅ | ✅ |
| 전북 | 25 | 24 | 96.0% | ✅ | ✅ | ✅ |
| 전남 | 20 | 19 | 95.0% | ✅ | ✅ | ✅ |
| 제주 | 10 | 10 | 100% | ✅ | ✅ | ✅ |
| 충북 | 16 | 15 | 93.8% | ✅ | ✅ | ✅ |
| 충남 | 22 | 21 | 95.5% | ✅ | ✅ | ✅ |

## 긴급 조치 필요 (최선결 담당)
1. 부산: 크롤러 개발 필요
2. 대전: 크롤러 활성화 필요
3. 울산: 크롤러 활성화 필요
```

---

## 6. 즉시 실행 가능한 검증 방법

### 6.1 Playwright MCP로 지금 바로 검증

**요청 예시**:
```
"Playwright로 서울교육청 게시판(https://work.sen.go.kr/work/search/recInfo/BD_selectSrchRecInfo.do)에
접속해서 최근 공고 10개 제목을 추출하고,
셀미바이미의 서울 지역 공고와 비교해줘"
```

**AI가 수행할 작업**:
1. `browser_navigate` → 서울교육청 게시판
2. `browser_snapshot` → 페이지 구조 분석
3. 공고 제목 10개 추출
4. `browser_navigate` → 셀미바이미 (로컬 또는 배포)
5. 서울 필터 적용
6. 동일 공고 매칭
7. 결과 리포트 출력

---

## 7. 결론 및 권장 사항

### 7.1 단기 (오늘)

```
Playwright MCP를 사용하여 1-2개 지역 수동 검증
→ 검증 프로세스 확립
→ 문제점 파악
```

### 7.2 중기 (1주)

```
검증 스크립트 개발 (scripts/verify-crawlers.ts)
→ 17개 지역 자동 순회
→ 리포트 자동 생성
```

### 7.3 장기 (1개월)

```
GitHub Actions 정기 실행
→ 매주 자동 검증
→ Slack/이메일 알림
```

### 7.4 기술 스택 권장

| 레이어 | 기술 | 역할 |
|--------|------|------|
| 브라우저 제어 | Playwright | 교육청 게시판 접속/파싱 |
| AI 분석 | Claude (현재 대화) | 비교 로직, 리포트 생성 |
| 자동화 | TypeScript 스크립트 | 반복 실행 |
| 스케줄링 | GitHub Actions | 정기 실행 |
| 알림 | Slack Webhook | 결과 통보 |

---

## 8. 실제 검증 결과

### 8.1 서울 교육청 검증 (2026-01-12 실행)

#### 검증 방법
- **원본**: Playwright MCP로 서울교육청 게시판 접속
- **대상 DB**: Supabase `job_postings` 테이블
- **비교 기준**: `source_url` 필드 일치 여부

#### 게시판 현황
```
서울교육일자리포털: https://work.sen.go.kr/work/search/recInfo/BD_selectSrchRecInfo.do
총 공고 수: 606건 (마감 제외)
1페이지 표시: 15건
```

#### 게시판 1페이지 공고 목록 (2026-01-12 등록)

| # | 학교명 | 공고명 | 자치구 | 과목/업무 | source_url ID |
|---|--------|--------|--------|-----------|---------------|
| 1 | 구룡중학교 | 배움터지킴이 채용 | 강남구 | 배움터지킴이 | q_rcrtSn=83632 |
| 2 | 구룡중학교 | 배움터지킴이 채용 | 강남구 | 배움터지킴이 | q_rcrtSn=83631 |
| 3 | 다니엘학교 | 늘봄 프로그램 강사 채용 | 서초구 | 미술/음악/무용 | q_rcrtSn=83630 |
| 4 | 영등포중학교 | 스포츠강사 채용 | 동작구 | 축구,농구,탁구,배드민턴 | q_rcrtSn=83626 |
| 5 | 광신고등학교 | 기간제 화학교사 채용 | 관악구 | 화학 | q_rcrtSn=83629 |
| 6 | 휘문고등학교 | 영양사 채용 | 강남구 | 영양사 | q_rcrtSn=83628 |
| 7 | 해성여자고등학교 | 기간제교원(지리,전문상담,특수) | 동대문구 | 지리,전문상담,특수 | q_rcrtSn=83627 |
| 8 | 목동고등학교 | 사무직원(시설관리) 채용 | 양천구 | 시설관리 | q_rcrtSn=82520 |
| 9 | 목동고등학교 | 조리사 채용 | 양천구 | 급식 조리 | q_rcrtSn=82523 |
| 10 | 청원중학교 | 신규교사 채용 | 노원구 | 체육,미술,가정,정보,상담 | q_rcrtSn=83622 |
| 11 | 한영중학교 | 영양사 대체 채용 | 강동구 | 영양사 | q_rcrtSn=83625 |
| 12 | 한영중학교 | 조리사/조리실무사 채용 | 강동구 | 조리사,조리실무사 | q_rcrtSn=83624 |
| 13 | 청원여자고등학교 | 기간제교사 채용 | 노원구 | 영어,수학,화학,생물 등 | q_rcrtSn=83623 |
| 14 | 용화여자고등학교 | 기간제교원(수학) 채용 | 노원구 | 수학 | q_rcrtSn=83621 |
| 15 | 서울율현초병설유치원 | 기간제 교사 채용 | 강남구 | 유치원교육/특수 | q_rcrtSn=83619 |

#### DB 현황

| 항목 | 값 |
|------|-----|
| 서울 교육청 총 공고 수 | 104건 |
| 최초 크롤링 일자 | 2025-12-24 |
| **최신 크롤링 일자** | **2026-01-03** |
| 오늘 날짜 | 2026-01-12 |
| **크롤링 공백 기간** | **9일** |

#### source_url 매칭 검증

```sql
-- 게시판 1페이지 15개 공고의 source_url 검색 결과
SELECT COUNT(*) FROM job_postings
WHERE source_url IN (
  '...q_rcrtSn=83632', '...q_rcrtSn=83631', '...q_rcrtSn=83630',
  '...q_rcrtSn=83626', '...q_rcrtSn=83629', '...q_rcrtSn=83628',
  '...q_rcrtSn=83627', '...q_rcrtSn=82520', '...q_rcrtSn=82523',
  '...q_rcrtSn=83622'
);
-- 결과: 0건 (모두 누락!)
```

#### 검증 결과 요약

| 검증 항목 | 결과 | 상태 |
|-----------|------|------|
| 1페이지 공고 수집률 | **0/15 (0%)** | ❌ FAIL |
| 최신 크롤링 일자 | 2026-01-03 | ⚠️ 9일 지연 |
| 크롤링 자동 실행 | 미작동 추정 | ❌ 확인 필요 |
| location 형식 | 기존 데이터 정상 | ✅ |
| 사이드이펙트 | 해당 없음 | - |

### 8.2 🚨 긴급 조치 필요

#### 문제 진단

```
❌ 서울 교육청 크롤러가 9일간 실행되지 않음
   → 2026-01-03 이후 신규 공고 전체 누락
   → GitHub Actions 스케줄 또는 크롤러 오류 추정
```

#### 즉시 확인 필요 사항

1. **GitHub Actions 실행 로그 확인**
   - 서울 크롤러 워크플로우가 정상 실행되고 있는지?
   - 실패 시 에러 메시지 확인

2. **크롤러 수동 실행 테스트**
   ```bash
   cd crawler
   npx tsx src/crawlers/seoul/index.ts
   ```

3. **환경 변수 확인**
   - Supabase 연결 정보
   - Gemini API 키 유효성

#### 담당자 조치

| 담당자 | 지역 | 조치 |
|--------|------|------|
| **김성균** | 서울 | 서울 크롤러 즉시 점검 및 복구 |

### 8.3 검증에서 얻은 교훈

#### 검증 프로세스 개선점

1. **source_url 기반 비교가 가장 정확**
   - 제목 비교는 형식 차이로 오탐 가능
   - `q_rcrtSn` 파라미터가 고유 식별자 역할

2. **크롤링 모니터링 필요**
   - 최신 크롤링 일자를 대시보드에 표시
   - N일 이상 지연 시 알림 발송

3. **게시판 구조 변경 감지**
   - Playwright snapshot으로 구조 변경 여부 확인
   - 변경 시 크롤러 업데이트 알림

#### 자동화 권장 쿼리

```sql
-- 크롤링 건강 체크 쿼리 (매일 실행 권장)
SELECT
  CASE
    WHEN source_url LIKE '%work.sen.go.kr%' THEN '서울'
    WHEN source_url LIKE '%pen.go.kr%' THEN '부산'
    -- ... 기타 지역
  END as region,
  COUNT(*) as total_count,
  MAX(created_at::date) as latest_crawl,
  CURRENT_DATE - MAX(created_at::date) as days_since_crawl
FROM job_postings
GROUP BY 1
ORDER BY days_since_crawl DESC;
```

---

## 9. 다음 단계

### 9.1 즉시 조치 (담당자: 김성균)

```
□ 1. 서울 크롤러 GitHub Actions 로그 확인
□ 2. 크롤러 수동 실행 테스트
□ 3. 오류 수정 후 재실행
□ 4. DB에 신규 공고 수집 확인
```

### 9.2 검증 완료 후

```
□ 다른 지역 순차 검증 (경기, 인천, ...)
□ 검증 결과 이 문서에 추가
□ 크롤링 모니터링 대시보드 구축 검토
```
