# 교원연수 강사등록 구현 플랜

> 작성일: 2026-01-29
> 상태: 기획 단계

---

## 1. 기존 등록 vs 교원연수 강사등록 차이점

| | 기존 구직등록 | 교원연수 강사등록 |
|---|---|---|
| **대상자** | 학생 대상 수업 강사 | 교원/학부모 대상 연수 강사 |
| **서비스 대상** | 유아~고등학생 | 성인 (교원, 학부모, 교직원) |
| **분류 체계** | 학교급/교과 중심 (8개) | 연수 주제 중심 (20개) |
| **위치** | 학교 포인트 위치 | 광역 지역 기반 |
| **DB** | `teacher_markers` | `instructor_markers` (신규) |

---

## 2. 전문분야 20개 + 세부분야

### 2.1 전문분야 (복수 선택 가능)

| # | 전문분야 | 세부분야 |
|---|---------|----------|
| 1 | **에듀테크/AI** | 하이러닝, AI활용수업, 디지털리터러시, 메타버스 |
| 2 | **다문화/세계시민** | 다문화감수성, KSL한국어, 국제이해, SDGs |
| 3 | **특수/통합교육** | 장애이해, 통합학급운영, 개별화교육 |
| 4 | **생활지도/상담** | 학급경영, 학생상담, 위기학생지원, 또래상담 |
| 5 | **학교폭력예방** | 회복적생활교육, 갈등중재, 사이버폭력 |
| 6 | **마음챙김/인성** | 사회정서학습(SEL), 회복탄력성, 명상, 감정코칭 |
| 7 | **진로/직업** | 진로상담, 고교학점제, 창업교육 |
| 8 | **융합/STEAM** | PBL, 메이커교육, 실험탐구 |
| 9 | **예술교육** | 음악, 미술, 연극, 공예 |
| 10 | **독서/논술** | 독서토론, 글쓰기지도, 서논술형평가 |
| 11 | **영재교육** | 영재판별, 창의성개발, 발명교육 |
| 12 | **기초학력** | 학습코칭, 문해력, 수리력 |
| 13 | **수업/평가혁신** | IB교육, 과정중심평가, 수업컨설팅 |
| 14 | **환경/탄소중립** | 기후변화교육, 생태전환, 지속가능발전 |
| 15 | **학교안전** | 응급처치, 심폐소생술, 재난대응 |
| 16 | **학부모교육** | 자녀소통, 학습지도법, 진로코칭 |
| 17 | **유아/놀이** | 놀이중심교육, 유아발달이해 |
| 18 | **인권/노동** | 교권보호, 학생인권, 노동인권, 양성평등 |
| 19 | **교양/자기계발** | 재테크, 외국어, 사진, 여행 |
| 20 | **전통문화** | 한국전통문화, 예절교육, 다도, 서예 |

---

## 3. DB 테이블 설계 (RLS 오류 방지 중점)

### 3.1 테이블 생성

```sql
-- instructor_markers 테이블 생성
CREATE TABLE IF NOT EXISTS public.instructor_markers (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID NOT NULL REFERENCES auth.users(id) ON DELETE CASCADE,

  -- 기본 정보 (이메일만, 전화번호 X)
  display_name VARCHAR(100) NOT NULL,
  email VARCHAR(255) NOT NULL,

  -- 전문분야 (복수 선택)
  specialties TEXT[] NOT NULL,  -- 20개 중 복수 선택
  custom_specialty TEXT,  -- 기타 직접 입력

  -- 활동 정보
  available_regions TEXT[] NOT NULL,  -- 활동 가능 지역
  experience_years VARCHAR(20),

  -- 연수 대상 (복수 선택): 교원, 학부모, 교직원, 기타
  target_audience TEXT[] NOT NULL,

  -- 상세 정보
  activity_history TEXT,  -- 그동안의 활동내용 (자유양식)
  profile_image_url TEXT,

  -- 메타
  privacy_agreed BOOLEAN NOT NULL DEFAULT false,
  is_active BOOLEAN NOT NULL DEFAULT true,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- 인덱스 생성
CREATE INDEX IF NOT EXISTS idx_instructor_markers_user_id ON public.instructor_markers(user_id);
CREATE INDEX IF NOT EXISTS idx_instructor_markers_specialties ON public.instructor_markers USING GIN(specialties);
CREATE INDEX IF NOT EXISTS idx_instructor_markers_is_active ON public.instructor_markers(is_active);
```

### 3.2 RLS 정책 (오류 방지 핵심)

```sql
-- RLS 활성화
ALTER TABLE public.instructor_markers ENABLE ROW LEVEL SECURITY;

-- 1. SELECT: 활성화된 마커는 누구나 조회 가능
CREATE POLICY "instructor_markers_select_active"
ON public.instructor_markers
FOR SELECT
USING (is_active = true);

-- 2. SELECT: 본인 데이터는 비활성화여도 조회 가능
CREATE POLICY "instructor_markers_select_own"
ON public.instructor_markers
FOR SELECT
TO authenticated
USING (auth.uid() = user_id);

-- 3. INSERT: 로그인 사용자만, 본인 user_id로만 삽입
CREATE POLICY "instructor_markers_insert_own"
ON public.instructor_markers
FOR INSERT
TO authenticated
WITH CHECK (auth.uid() = user_id);

-- 4. UPDATE: 본인 데이터만 수정 가능
CREATE POLICY "instructor_markers_update_own"
ON public.instructor_markers
FOR UPDATE
TO authenticated
USING (auth.uid() = user_id)
WITH CHECK (auth.uid() = user_id);

-- 5. DELETE: 본인 데이터만 삭제 가능
CREATE POLICY "instructor_markers_delete_own"
ON public.instructor_markers
FOR DELETE
TO authenticated
USING (auth.uid() = user_id);
```

### 3.3 CRUD 쿼리 예시 (RLS 호환)

```typescript
// ✅ 등록 (INSERT) - user_id 필수 포함
const { data, error } = await supabase
  .from('instructor_markers')
  .insert({
    user_id: user.id,  // 필수!
    display_name: '홍길동',
    email: 'hong@example.com',
    specialties: ['에듀테크/AI', '학부모교육'],
    available_regions: ['경기', '서울'],
    target_audience: ['교원', '학부모'],
    activity_history: '경기도교육청 직무연수 10회 출강...',
    privacy_agreed: true
  })
  .select()
  .single();

// ✅ 조회 (SELECT) - is_active=true인 것만 자동 필터링
const { data: markers } = await supabase
  .from('instructor_markers')
  .select('*')
  .contains('specialties', ['에듀테크/AI']);

// ✅ 수정 (UPDATE) - 본인 데이터만 가능
const { error } = await supabase
  .from('instructor_markers')
  .update({
    display_name: '수정된 이름',
    updated_at: new Date().toISOString()
  })
  .eq('user_id', user.id);  // 본인 확인

// ✅ 삭제 (DELETE) - 소프트 삭제 권장
const { error } = await supabase
  .from('instructor_markers')
  .update({ is_active: false })
  .eq('user_id', user.id);
```

---

## 4. UI 구현 가이드 (Anti-Vibe Design 준수)

### 4.1 기존 모달 패턴 참조

> **참조 파일**: `JobPostingModal.tsx`, `TeacherMarkerModal.tsx`
> **필수 준수**: `.claude/skills/anti-vibe-design/SKILL.md`

### 4.2 모달 구조 (기존과 동일)

```tsx
<AnimatePresence>
  {isOpen && (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
      className="fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm"
      onClick={handleClose}
    >
      <motion.div
        initial={{ opacity: 0, scale: 0.95, y: 20 }}
        animate={{ opacity: 1, scale: 1, y: 0 }}
        exit={{ opacity: 0, scale: 0.95, y: 20 }}
        transition={{ type: 'spring', damping: 25, stiffness: 300 }}
        className="relative w-full max-w-lg mx-4 bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col"
        onClick={(e) => e.stopPropagation()}
      >
        {/* 헤더 */}
        {/* 본문 (스크롤) */}
        {/* 푸터 */}
      </motion.div>
    </motion.div>
  )}
</AnimatePresence>
```

### 4.3 헤더 (연분홍 글래스모피즘)

```tsx
{/* 헤더 - 교원연수용 연분홍 색상 */}
<div
  className="px-6 py-4 border-b flex-shrink-0 backdrop-blur-md"
  style={{
    background: 'linear-gradient(135deg, rgba(249, 168, 212, 0.15) 0%, rgba(249, 168, 212, 0.25) 100%)',
    borderColor: 'rgba(249, 168, 212, 0.3)',
    boxShadow: '0 4px 30px rgba(249, 168, 212, 0.1)',
    backdropFilter: 'blur(10px)',
    WebkitBackdropFilter: 'blur(10px)'
  }}
>
  <div className="flex items-center justify-between">
    <div className="flex items-center gap-3">
      <span className="w-3 h-3 rounded-full" style={{ backgroundColor: '#F9A8D4' }} />
      <h2 className="text-lg font-bold text-gray-900">교원연수 강사등록</h2>
    </div>
    <button onClick={handleClose} className="p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors">
      <svg className="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
  </div>
</div>
```

### 4.4 본문 섹션 패턴

```tsx
{/* 본문 - 스크롤 영역 */}
<div className="flex-1 overflow-y-auto px-6 py-5 space-y-6">

  {/* ========== 기본 정보 ========== */}
  <section>
    <h3 className="text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-100">
      기본 정보
    </h3>

    {/* 이름 */}
    <div className="mb-4">
      <label className="block text-sm font-medium text-gray-600 mb-1.5">
        이름 <span className="text-red-500">*</span>
      </label>
      <input
        type="text"
        className="w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-pink-500/20 focus:border-pink-400 transition-all text-sm"
        placeholder="이름을 입력하세요"
      />
    </div>
  </section>

  {/* ========== 전문분야 (복수 선택) ========== */}
  <section>
    <h3 className="text-sm font-semibold text-gray-700 mb-3 pb-2 border-b border-gray-100">
      전문분야 <span className="text-red-500">*</span>
      <span className="font-normal text-gray-400 ml-2">(복수 선택 가능)</span>
    </h3>
    <div className="flex flex-wrap gap-2">
      {INSTRUCTOR_SPECIALTIES.map((specialty) => (
        <button
          key={specialty}
          onClick={() => toggleSpecialty(specialty)}
          className={`px-3 py-2 text-sm rounded-lg border-2 transition-all font-medium ${
            selectedSpecialties.includes(specialty)
              ? 'text-white bg-pink-400 border-pink-400'
              : 'bg-white text-gray-600 border-gray-200 hover:border-gray-300'
          }`}
        >
          {specialty}
        </button>
      ))}
    </div>
  </section>

</div>
```

### 4.5 푸터 (등록 버튼)

```tsx
{/* 푸터 */}
<div className="px-6 py-4 border-t border-gray-100 bg-gray-50 flex-shrink-0">
  <button
    onClick={handleSubmit}
    disabled={isSubmitting || !isFormValid}
    className="w-full py-3 text-sm font-semibold text-white rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed bg-pink-400 hover:bg-pink-500"
    style={{ boxShadow: '0 4px 14px rgba(249, 168, 212, 0.4)' }}
  >
    {isSubmitting ? '등록 중...' : '등록하기'}
  </button>
  {!privacyAgreed && (
    <p className="mt-2 text-xs text-center text-gray-500">
      동의 체크 필수 - 미체크 시 버튼 비활성화
    </p>
  )}
</div>
```

### 4.6 등록 모달 UI 목업

```
┌─────────────────────────────────────────────────────────────┐
│ ● 교원연수 강사등록                                     ✕  │  ← 연분홍 글래스모피즘 헤더
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ─── 기본 정보 ────────────────────────────────────────    │
│  이름 *         [________________________]                  │
│  이메일 *       [________________________]                  │
│                                                             │
│  ─── 전문분야 * (복수 선택 가능) ──────────────────────    │
│  ┌──────────┐ ┌────────────┐ ┌──────────────┐              │
│  │에듀테크/AI│ │다문화/세계시민│ │특수/통합교육│ ...         │
│  └──────────┘ └────────────┘ └──────────────┘              │
│  (20개 버튼 그리드, 선택 시 연분홍 하이라이트)              │
│                                                             │
│  + 기타 전문분야 직접입력 [____________________]            │
│                                                             │
│  ─── 연수 대상 * (복수 선택) ──────────────────────────    │
│  ☑ 교원  ☑ 학부모  ☐ 교직원  ☐ 기타                      │
│                                                             │
│  ─── 활동 가능 지역 * ─────────────────────────────────    │
│  ☐서울 ☑경기 ☐인천 ☐부산 ...                             │
│                                                             │
│  ─── 추가 정보 (선택) ─────────────────────────────────    │
│  경력  [신입 / 1~3년 / 3~5년 / 5~10년 / 10년+]             │
│                                                             │
│  그동안의 활동내용 (자유양식)                               │
│  [___________________________________________________]     │
│  [___________________________________________________]     │
│                                                             │
│  프로필사진  [업로드]                                       │
│                                                             │
│  ─── 개인정보 동의 * ──────────────────────────────────    │
│  ☑ 학교와 사람을 연결하기 위한 최소한의 정보만 수집합니다. │
│    서비스 내에서 노출과 활용에 동의하십니까?                │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│            [        등록하기        ]                       │  ← 연분홍 버튼
│             동의 체크 필수 - 미체크 시 버튼 비활성화        │
└─────────────────────────────────────────────────────────────┘
```

### 4.7 Anti-Vibe Design 체크리스트

```
□ 이모지 사용 안 함
□ 글자 뒤 배경색 사용 안 함 (형광펜 금지)
□ 프로젝트 컬러 팔레트 사용 (연분홍 #F9A8D4)
□ 바이브코딩 냄새 나는 스타일 사용 안 함
□ 기존 등록 모달(JobPostingModal, TeacherMarkerModal)과 일관성 유지
□ Framer Motion 애니메이션 패턴 동일하게 적용
□ 데스크톱/모바일 반응형 확인
```

### 4.8 색상 비교 (기존 vs 교원연수)

| 구분 | 기존 등록 (공고/구직) | 교원연수 강사등록 |
|------|---------------------|-----------------|
| 헤더 배경 | 스카이블루 `#68B2FF` | 소프트 핑크 `#F9A8D4` |
| 헤더 원형 마커 | `#68B2FF` | `#F9A8D4` |
| 버튼 활성 | `bg-sky-500` | `bg-pink-400` |
| 포커스 링 | `focus:ring-sky-500/20` | `focus:ring-pink-500/20` |
| 버튼 그림자 | `rgba(14, 165, 233, 0.4)` | `rgba(249, 168, 212, 0.4)` |

---

## 5. 필터바 설계 (CascadingFilterBar 확장)

> **참조 파일**: `src/components/map/CascadingFilterBar.tsx`
> **참조 파일**: `src/lib/utils/jobClassifier.ts`

### 5.1 PRIMARY_CATEGORIES 수정

```typescript
// src/lib/utils/jobClassifier.ts 수정

export const PRIMARY_CATEGORIES = [
  { key: '유치원', label: '유치원' },
  { key: '초등담임', label: '초등담임' },
  { key: '교과과목', label: '교과과목' },
  { key: '비교과', label: '비교과' },
  { key: '특수', label: '특수' },
  { key: '교원연수', label: '교원연수' },  // ← 신규 추가 (특수와 방과후 사이)
  { key: '방과후/돌봄', label: '방과후/돌봄' },
  { key: '행정·교육지원', label: '행정·교육지원' },
  { key: '기타', label: '기타' },
] as const;

export const PRIMARY_COLORS: Record<string, { base: string; light: string; text: string }> = {
  // ... 기존 색상
  '교원연수': {
    base: '#F9A8D4',   // 소프트 핑크
    light: '#FDF2F8',  // 밝은 핑크
    text: '#BE185D',   // 진한 핑크
  },
};
```

### 5.2 1차 카테고리 버튼 (다크 글래스모피즘)

```
┌────────────────────────────────────────────────────────────────────────────────────────────┐
│ [유치원][초등담임][교과과목][비교과][특수][교원연수][방과후/돌봄][행정·교육지원][기타]        │
│                                      ↑                                                    │
│                              연분홍 #F9A8D4                                               │
│                     (배경색 적용, hover 시 밝은 핑크 배경 + 진한 핑크 글씨)                │
└────────────────────────────────────────────────────────────────────────────────────────────┘
```

### 5.3 "교원연수" 클릭 시 2차 UI (방과후/돌봄 패턴 차용)

```tsx
// CascadingFilterBar.tsx 내 renderInstructorSearch() 함수 추가

const renderInstructorSearch = () => {
  const primaryLabel = '교원연수';

  return (
    <>
      {/* 뒤로가기 버튼 */}
      <button
        onClick={handleBack}
        className="flex items-center gap-1 px-2 py-1.5 text-sm font-medium rounded-lg transition-colors hover:bg-white/10 flex-shrink-0"
        style={{ color: '#FDF2F8' }}
      >
        <ChevronLeft size={16} />
        <span>{primaryLabel}</span>
      </button>

      <div className="w-px h-5 bg-gray-500 mx-1 flex-shrink-0" />

      {/* 검색 입력창 */}
      <div className="flex items-center gap-1.5 flex-shrink-0">
        <Search size={14} className="text-gray-400" />
        <input
          type="text"
          value={searchQuery}
          onChange={(e) => handleSearchChange(e.target.value)}
          placeholder="검색 (예: 하이러닝, SEL)"
          className="bg-transparent border-none outline-none text-sm text-white placeholder-gray-500 w-[150px]"
          style={{ caretColor: '#F9A8D4' }}
        />
        {searchQuery && (
          <button onClick={clearSearch} className="p-0.5 text-gray-400 hover:text-white">
            <X size={12} />
          </button>
        )}
      </div>

      <div className="w-px h-5 bg-gray-500 mx-1 flex-shrink-0" />

      {/* 대표 분야 5개 칩 */}
      <div className="flex items-center gap-1 overflow-x-auto scrollbar-hide">
        {POPULAR_SPECIALTIES.map((keyword) => (
          <button
            key={keyword}
            onClick={() => handleKeywordClick(keyword)}
            className={`px-2.5 py-1 text-xs rounded-md whitespace-nowrap transition-all ${
              filter.secondary === keyword
                ? 'bg-pink-400 text-white'
                : 'bg-white/10 text-gray-300 hover:bg-white/20'
            }`}
          >
            {keyword}
          </button>
        ))}
      </div>

      {/* 전체분야 드롭업 버튼 */}
      <button
        onClick={() => setShowDropup(!showDropup)}
        className="flex items-center gap-1 px-2 py-1 text-xs text-gray-300 hover:text-white transition-colors"
      >
        <span>전체분야</span>
        <ChevronUp size={14} className={showDropup ? 'rotate-180' : ''} />
      </button>

      {/* 초기화 버튼 */}
      <button onClick={handleReset} className="p-1 text-gray-400 hover:text-white">
        <X size={16} />
      </button>
    </>
  );
};
```

### 5.4 "전체분야" 드롭업 UI

```tsx
{/* 드롭업 패널 */}
{showDropup && (
  <motion.div
    initial={{ opacity: 0, y: 10 }}
    animate={{ opacity: 1, y: 0 }}
    exit={{ opacity: 0, y: 10 }}
    className="absolute bottom-full mb-2 right-0 p-3 rounded-xl"
    style={{
      ...glassStyle,  // 다크 글래스모피즘
      minWidth: '320px',
    }}
  >
    <div className="grid grid-cols-2 gap-2">
      {INSTRUCTOR_SPECIALTIES.map((specialty) => (
        <button
          key={specialty}
          onClick={() => handleSpecialtyClick(specialty)}
          className={`px-3 py-2 text-xs rounded-lg text-left transition-all ${
            filter.secondary === specialty
              ? 'bg-pink-400 text-white'
              : 'bg-white/5 text-gray-300 hover:bg-white/10'
          }`}
        >
          {specialty}
        </button>
      ))}
    </div>
  </motion.div>
)}
```

### 5.5 필터바 최종 목업

```
[1차 상태 - 전체 카테고리 표시]
┌────────────────────────────────────────────────────────────────────────────────┐
│  유치원  초등담임  교과과목  비교과  특수  [교원연수]  방과후/돌봄  행정·교육지원  기타  │
└────────────────────────────────────────────────────────────────────────────────┘
                                        ↑ 연분홍 배경

[2차 상태 - 교원연수 선택 시]
┌────────────────────────────────────────────────────────────────────────────────┐
│ < 교원연수  │  Q 검색 (예: 하이러닝)  │ 에듀테크 │ 생활지도 │ 학부모 │ 수업평가 │ 학폭예방 │ [▲ 전체분야] ✕ │
└────────────────────────────────────────────────────────────────────────────────┘

[전체분야 드롭업 표시]
                               ┌──────────────────────────────────────┐
                               │  에듀테크/AI     다문화/세계시민      │
                               │  특수/통합교육   생활지도/상담        │
                               │  학교폭력예방    마음챙김/인성        │
                               │  진로/직업       융합/STEAM          │
                               │  예술교육        독서/논술           │
                               │  영재교육        기초학력            │
                               │  수업/평가혁신   환경/탄소중립        │
                               │  학교안전        학부모교육          │
                               │  유아/놀이       인권/노동           │
                               │  교양/자기계발   전통문화            │
                               └──────────────────────────────────────┘
```

### 5.6 COLORED_CATEGORIES 수정

```typescript
// CascadingFilterBar.tsx 상단
const COLORED_CATEGORIES: PrimaryCategory[] = [
  '유치원', '초등담임', '교과과목', '비교과', '특수', '교원연수'  // ← 교원연수 추가
];
```

---

## 6. 마커 색상 (단일 색상 통일)

### 6.1 교원연수 강사 마커 색상

| 용도 | 색상명 | HEX | Tailwind |
|------|--------|-----|----------|
| 마커 기본 | Soft Pink | `#F9A8D4` | `pink-300` |
| 마커 테두리 | White | `#FFFFFF` | `white` |
| 선택 시 강조 | Pink | `#EC4899` | `pink-500` |

> **결정**: 전문분야 20개별로 마커 색상을 나누지 않고, **연분홍 단일 색상**으로 통일.
> 전문분야 구분은 **필터바 칩/드롭업 선택**으로 처리.

### 6.2 마커 스타일

```tsx
// 교원연수 강사 마커 (지도에 표시)
<div
  className="w-7 h-7 rounded-full border-2 border-white shadow-lg cursor-pointer hover:scale-110 transition-transform"
  style={{ backgroundColor: '#F9A8D4' }}
/>

// 선택된 마커 (클릭 시)
<div
  className="w-8 h-8 rounded-full border-3 border-white shadow-xl"
  style={{ backgroundColor: '#EC4899' }}
/>
```

### 6.3 기존 마커와 구분

| 마커 종류 | 색상 | HEX |
|----------|------|-----|
| 공고 마커 | Blue | `#3B82F6` |
| 구직 마커 | Sky Blue | `#68B2FF` |
| **교원연수 마커** | **Soft Pink** | **`#F9A8D4`** |

---

## 7. 타입 정의

```typescript
// src/types/instructorMarkers.ts

// 전문분야 20개
export const INSTRUCTOR_SPECIALTIES = [
  '에듀테크/AI',
  '다문화/세계시민',
  '특수/통합교육',
  '생활지도/상담',
  '학교폭력예방',
  '마음챙김/인성',
  '진로/직업',
  '융합/STEAM',
  '예술교육',
  '독서/논술',
  '영재교육',
  '기초학력',
  '수업/평가혁신',
  '환경/탄소중립',
  '학교안전',
  '학부모교육',
  '유아/놀이',
  '인권/노동',
  '교양/자기계발',
  '전통문화',
] as const;

export type InstructorSpecialty = typeof INSTRUCTOR_SPECIALTIES[number];

// 연수 대상
export const TARGET_AUDIENCE_OPTIONS = ['교원', '학부모', '교직원', '기타'] as const;

// 대표 분야 5개 (필터바 칩)
export const POPULAR_SPECIALTIES = [
  '에듀테크/AI',
  '생활지도/상담',
  '학부모교육',
  '수업/평가혁신',
  '학교폭력예방',
] as const;

// 마커 타입
export interface InstructorMarker {
  id: string;
  user_id: string;
  display_name: string;
  email: string;
  specialties: InstructorSpecialty[];
  custom_specialty?: string;
  available_regions: string[];
  experience_years?: string;
  target_audience: string[];
  activity_history?: string;
  profile_image_url?: string;
  privacy_agreed: boolean;
  is_active: boolean;
  created_at: string;
  updated_at: string;
}

// 입력 타입
export interface InstructorMarkerInput {
  user_id: string;
  display_name: string;
  email: string;
  specialties: InstructorSpecialty[];
  custom_specialty?: string;
  available_regions: string[];
  experience_years?: string;
  target_audience: string[];
  activity_history?: string;
  profile_image_url?: string;
  privacy_agreed: boolean;
}
```

---

## 8. 구현 단계

### Phase 1: DB (1일)
- [ ] `instructor_markers` 테이블 생성 (migration)
- [ ] RLS 정책 설정 (5개 정책)
- [ ] 인덱스 생성

### Phase 2: 타입 & Supabase (1일)
- [ ] `src/types/instructorMarkers.ts` 타입 정의
- [ ] `src/lib/supabase/instructorMarkers.ts` CRUD 함수

### Phase 3: 등록 모달 (2일)
- [ ] `InstructorMarkerModal.tsx` 컴포넌트
- [ ] 전문분야 복수 선택 UI
- [ ] Hero.tsx 연동

### Phase 4: 필터바 (2일)
- [ ] 1차 카테고리에 "교원연수" 추가 (연분홍)
- [ ] 2차 UI: 검색창 + 대표 5개 칩 + 전체분야 드롭업
- [ ] 필터링 로직

### Phase 5: 마커 & 리스트 (1일)
- [ ] 지도 마커 표시
- [ ] 강사 상세 모달
- [ ] 수정/삭제 기능

---

## 9. 개인정보 동의 문구

> **학교와 사람을 연결하기 위한 최소한의 정보만 수집합니다.**
> 서비스 내에서 노출과 활용에 동의하십니까?

---

*작성: Claude Code*
