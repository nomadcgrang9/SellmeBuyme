# 셀미바이미 기본기 체크 플랜

> **작성일**: 2026-01-12
> **목적**: 서비스 핵심 가치 재점검 및 기본기 진단

---

## 1. 서비스가 해결하려는 문제

### 1.1 핵심 문제 정의

**교육 현장의 인력 미스매치 문제**

| 구분 | 문제점 |
|------|--------|
| **정보 분산** | 전국 25개 교육청에 채용 공고가 흩어져 있음 |
| **형식 비표준화** | 각 교육청마다 다른 형식, 다른 게시판 구조 |
| **탐색 비용** | 교사/강사가 매일 여러 교육청 사이트를 일일이 확인해야 함 |
| **매칭 비효율** | 학교는 적합한 강사를 찾기 어렵고, 강사는 적합한 공고를 놓침 |

### 1.2 이 서비스가 제안하는 해결책

```
[문제] 정보 분산 + 형식 비표준화
  ↓
[해결책 1] 자동 크롤링으로 25개 교육청 공고 수집
[해결책 2] Gemini AI로 데이터 정규화/표준화
  ↓
[문제] 탐색 비용
  ↓
[해결책 3] 한 곳에서 검색 + 지도 기반 탐색
[해결책 4] AI 맞춤 추천 (프로필 기반)
  ↓
[문제] 매칭 비효율
  ↓
[해결책 5] 지도에 마커로 시각화하여 직관적 탐색
[해결책 6] 구직 교사/프로그램 마커로 양방향 매칭
```

### 1.3 핵심 가치 명제

> **"흩어진 공고를 모아서, 지도에 찍어서, 교사와 학교를 연결한다"**

---

## 2. 가장 중심이 되어야 할 파트

### 2.1 우선순위 정리

| 순위 | 핵심 파트 | 이유 |
|------|-----------|------|
| **1** | 크롤링 정확도 | 데이터가 없으면 서비스 자체가 무의미 |
| **2** | 마커 표시 정확도 | 지도 기반 탐색이 핵심 UX |
| **3** | 마커 수량 (커버리지) | 많은 데이터 = 사용자 가치 |
| **4** | 필터/검색 정확도 | 원하는 공고를 찾을 수 있어야 함 |

### 2.2 핵심 기본기 공식

```
서비스 가치 = 크롤링 정확도 × 마커 표시율 × 데이터 커버리지 × 필터 정확도
```

**하나라도 0이면 전체 서비스 가치가 0**

---

## 3. 기본기 체크리스트

### 3.1 크롤링 시스템 점검

#### A. 게시판별 크롤링 현황

| # | 지역 | 게시판명 | 활성화 | 크롤러 파일 | 점검 필요 사항 |
|---|------|----------|--------|-------------|----------------|
| 1 | 서울 | 서울교육일자리포털 | `active: true` (seoul_v2) | `seoul.js` | URL 패턴 검증 필요 |
| 2 | 부산 | 부산광역시교육청 | `active: false` | - | **크롤러 개발 필요** |
| 3 | 대구 | 대구광역시교육청 | `active: true` | `nttPattern.js` | 정상 작동 확인 |
| 4 | 인천 | 인천광역시교육청 | `active: true` (incheon_v2) | `incheon.js` | 정상 작동 확인 |
| 5 | 광주 | 광주광역시교육청 | `active: true` | `gwangju.js` | 정상 작동 확인 |
| 6 | 대전 | 대전광역시교육청 | `active: false` (daejeon) | `daejeon.js` | **활성화 검토** |
| 7 | 울산 | 울산광역시교육청 | `active: false` | `ulsan.js` | **활성화 검토** |
| 8 | 세종 | 세종특별자치시교육청 | `active: true` | `sejong.js` | 정상 작동 확인 |
| 9 | 경기 | 경기도교육청 | `active: true` | `gyeonggi.js` | 정상 작동 확인 |
| 10 | 강원 | 강원특별자치도교육청 | `active: true` (gangwon_v2) | `gangwon.js` | 정상 작동 확인 |
| 11 | 충북 | 충청북도교육청 | `active: true` | `chungbuk.js` | 정상 작동 확인 |
| 12 | 충남 | 충청남도교육청 | `active: true` | `chungnam.js` | 정상 작동 확인 |
| 13 | 전북 | 전북특별자치도교육청 | `active: true` | `jeonbuk.js` | 정상 작동 확인 |
| 14 | 전남 | 전라남도교육청 | `active: true` (jeonnam_v2) | `jeonnam.js` | 정상 작동 확인 |
| 15 | 경북 | 경상북도교육청 | `active: true` | `nttPattern.js` | 정상 작동 확인 |
| 16 | 경남 | 경상남도교육청 | `active: true` | `gyeongnam.js` | 정상 작동 확인 |
| 17 | 제주 | 제주특별자치도교육청 | `active: true` (jeju_v2) | `jeju.js` | 정상 작동 확인 |

**현재 상태 요약**:
- 활성화된 크롤러: **15개** 지역
- 비활성화 상태: **부산, 대전, 울산** (3개)
- **커버리지: 약 88% (15/17)**

#### B. 크롤링 정확도 점검 항목

```
□ 각 게시판에서 공고 목록을 정확히 파싱하는가?
□ 상세 페이지로 정확히 이동하는가?
□ 제목, 기관명, 마감일이 정확히 추출되는가?
□ 첨부파일(HWP) 링크가 정상적으로 추출되는가?
□ Gemini AI 정규화가 정확하게 동작하는가?
□ 중복 공고가 제대로 필터링되는가?
□ 저장 시 필수 필드가 누락되지 않는가?
```

#### C. 크롤링 수량 점검

```
□ 각 게시판에서 최신 10개 공고를 수집하는가? (crawl_batch_size)
□ 일일 총 크롤링 수는 50-75건 목표를 달성하는가?
□ 중복 제외 후 실제 신규 저장 건수는?
□ 에러로 스킵되는 건수는 얼마인가?
```

---

### 3.2 지도/마커 시스템 점검

#### A. 마커 표시 현황

| 마커 유형 | 색상 | 데이터 소스 | 좌표 생성 방식 |
|-----------|------|-------------|----------------|
| 🔵 학교 공고 | Blue (#3B82F6) | `job_postings` 테이블 | **현재: 좌표 필드 없음** |
| 🟢 구직 교사 | Emerald (#10B981) | `teacher_markers` 테이블 | 사용자 직접 클릭 |
| 🟡 프로그램 | Amber (#F59E0B) | `program_markers` 테이블 | 사용자 직접 클릭 |

#### B. 마커 표시 점검 항목

```
□ job_postings에 latitude/longitude 필드가 있는가?
□ 크롤링된 공고에 좌표가 자동 생성되는가?
□ 학교명 기반 지오코딩이 동작하는가?
□ 카카오맵에 마커가 정상적으로 렌더링되는가?
□ 마커 클릭 시 팝업이 정상 표시되는가?
□ 레이어 토글(ON/OFF)이 정상 동작하는가?
□ 필터(과목, 학교급) 적용 시 마커가 정확히 필터링되는가?
```

#### C. 마커 수량 최대화 전략

**문제**: 크롤링된 공고에 좌표가 없으면 지도에 표시 불가

**해결 방안**:
1. `job_postings` 테이블에 `latitude`, `longitude` 필드 추가
2. 크롤링 시 학교명/기관명 기반 지오코딩 자동 실행
3. 기존 데이터에 대한 배치 지오코딩 스크립트 실행
4. 지오코딩 실패 시 지역(시/군/구) 중심 좌표 fallback

---

### 3.3 필터/검색 시스템 점검

#### A. 필터 옵션 현황

```typescript
// 지도 필터 (Hero.tsx)
const MAP_FILTER_SUBJECTS = ['국어', '영어', '수학', '사회', '과학', '체육', '음악', '미술', '정보', '보건', '사서', '상담'];

// 학교급 필터 (constants.ts)
const SCHOOL_LEVELS = ['유치원', '초등', '중등', '고등', '특수'];
```

#### B. 필터 동작 점검 항목

```
□ 과목 필터 선택 시 해당 과목 공고만 표시되는가?
□ 학교급 필터 선택 시 해당 학교급 공고만 표시되는가?
□ 복수 필터 조합 시 AND 조건으로 동작하는가?
□ 필터 해제 시 전체 공고가 다시 표시되는가?
□ 검색어 입력 시 토큰 그룹 확장이 정상 동작하는가?
  - 예: "중등" → ["중등", "중학교", "고등학교"]
□ FTS + ILIKE 듀얼 검색이 정상 동작하는가?
```

---

## 4. 우선순위별 개선 액션 플랜

### Phase 0: 긴급 점검 (즉시)

| # | 항목 | 점검 방법 | 예상 소요 |
|---|------|-----------|-----------|
| 1 | 각 활성화 크롤러 테스트 실행 | `node test-{region}.js` | 2시간 |
| 2 | 크롤링 결과 DB 저장 확인 | Supabase 대시보드에서 최근 데이터 확인 | 30분 |
| 3 | 지도 마커 표시 현황 확인 | 프론트엔드에서 실제 마커 개수 확인 | 30분 |

### Phase 1: 크롤링 커버리지 확대 (1주)

| # | 액션 | 담당 | 우선순위 |
|---|------|------|----------|
| 1 | 부산 크롤러 개발 | 개발 | 높음 |
| 2 | 대전 크롤러 활성화 | 개발 | 높음 |
| 3 | 울산 크롤러 활성화 | 개발 | 높음 |
| 4 | 크롤러 안정성 테스트 | QA | 중간 |

### Phase 2: 크롤러 정확도 자동 검증 시스템 (1주)

| # | 액션 | 담당 | 우선순위 |
|---|------|------|----------|
| 1 | AI 기반 크롤러 검증 시스템 구축 | 개발 | 최고 |
| 2 | 17개 교육청별 검증 자동화 | 개발 | 최고 |
| 3 | 검증 결과 리포트 생성 | 개발 | 높음 |
| 4 | 정기 검증 스케줄링 | 개발 | 중간 |

> **참고**: 마커 좌표는 학교명 기반 카카오맵 지오코딩으로 자동 처리되므로 별도 작업 불필요

### Phase 3: 품질 개선 (지속)

| # | 액션 | 담당 | 우선순위 |
|---|------|------|----------|
| 1 | 크롤링 에러 모니터링 대시보드 | 개발 | 중간 |
| 2 | 필터 정확도 테스트 | QA | 중간 |
| 3 | 마커 클러스터링 검토 | UX | 낮음 |

---

## 5. 핵심 메트릭 정의

### 5.1 크롤링 메트릭

| 메트릭 | 목표값 | 측정 방법 |
|--------|--------|-----------|
| 일일 크롤링 건수 | 50건 이상 | `crawl_logs` 집계 |
| 크롤링 성공률 | 95% 이상 | 성공 건수 / 총 시도 건수 |
| 중복 제외 신규 건수 | 30건 이상 | 실제 INSERT 건수 |
| 에러 발생률 | 5% 미만 | 에러 건수 / 총 시도 건수 |

### 5.2 크롤링 정확도 메트릭

| 메트릭 | 목표값 | 측정 방법 |
|--------|--------|-----------|
| 공고 수집률 | 90% 이상 | 우리 서비스 공고 수 / 원본 게시판 공고 수 |
| 데이터 정확도 | 95% 이상 | 제목/기관명/마감일 일치율 |
| 지역별 균형 | 편차 20% 이내 | 지역별 공고 수 표준편차 |

### 5.3 사용자 가치 메트릭

| 메트릭 | 목표값 | 측정 방법 |
|--------|--------|-----------|
| 검색 결과 만족도 | 80% 이상 | 검색 후 상세 조회 비율 |
| 지도 인터랙션 | 높음 | 마커 클릭률, 필터 사용률 |
| 재방문율 | 30% 이상 | DAU/MAU |

---

## 6. 즉시 실행 체크리스트

### 오늘 바로 확인할 것

```
□ 1. Supabase에서 job_postings 테이블의 최근 데이터 확인
   - 오늘 날짜 기준 신규 공고 수는?
   - 지역별 분포는 어떤가?

□ 2. 각 활성화 크롤러 수동 테스트
   - node crawler/test-*.js 실행
   - 에러 발생 여부 확인

□ 3. 프론트엔드에서 지도 확인
   - 마커가 몇 개 표시되는가?
   - 특정 지역에 마커가 없는가?

□ 4. job_postings 스키마 확인
   - latitude, longitude 필드 존재 여부
   - 좌표 데이터가 있는 행의 비율
```

---

## 7. 결론

### 서비스 성공의 전제조건

```
1. 크롤링이 정확하게 되어야 한다 → 데이터 확보
2. 마커가 제대로 찍혀야 한다 → 지도 기반 UX 완성
3. 되도록 많은 마커가 있어야 한다 → 사용자 가치 극대화
```

### 현재 가장 시급한 과제

1. **job_postings 테이블에 좌표 추가** - 마커 표시의 전제조건
2. **비활성화 크롤러 활성화** (부산, 대전, 울산) - 커버리지 확대
3. **크롤링 정확도 검증** - 각 게시판별 테스트 실행

---

> **"데이터가 없으면 보여줄 게 없고, 마커가 안 찍히면 지도 서비스가 아니다"**
